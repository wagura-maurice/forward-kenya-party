import{f,_ as k,s as h,I as w,i as r,o,e as n,u as V,Z as N,w as p,d as e,k as v,t as i,C as M,n as m,F as u,l as g,a as C}from"./vendor-Bxre9-EX.js";import{A as j}from"./AuthenticationCard-bbT-ft5b.js";import{_ as I}from"./AuthenticationCardLogo-CCECX_LH.js";import{_ as A}from"./InputError-B-044Lai.js";import{_ as D}from"./InputLabel-CwSxgxQN.js";import{_ as P}from"./PrimaryButton-Bn8ATV9O.js";import{_ as R}from"./TextInput-CQrGoHHq.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"p-2 space-y-4 md:space-y-6 sm:p-8"},F={key:0,class:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800"},S={key:1,class:"space-y-4"},z={class:"mt-6"},E={key:0},H={key:1},q={key:2,class:"mt-6"},L={class:"space-y-3"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},U={class:"font-medium"},W={class:"font-mono"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},G={class:"font-mono"},J={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},O={class:"mt-4 flex justify-end"},Q={__name:"VerifyMembership",setup(X){const t=f(null),c=f(!1),s=k({national_id:"",errors:{}});h(()=>s.national_id,()=>{var d;t.value&&(t.value=null),(d=s.errors)!=null&&d.national_id&&(s.errors={})});const x=async()=>{var d,a;c.value=!0,t.value=null,s.errors={};try{const l=await C.post(route("frontend.verify.membership.request"),{national_id:s.national_id});t.value=l.data}catch(l){((d=l.response)==null?void 0:d.status)===404?t.value={success:!1,message:l.response.data.message||"No member found with the provided National ID."}:((a=l.response)==null?void 0:a.status)===422?(s.errors=l.response.data.errors||{},t.value={success:!1,message:"Please correct the errors in the form."}):t.value={success:!1,message:"An error occurred while verifying membership. Please try again."}}finally{c.value=!1}},b=w(()=>!t.value||!t.value.success),_=()=>{t.value=null,s.national_id=""};return(d,a)=>(o(),r(u,null,[n(V(N),{title:"Verify Membership"}),n(j,null,{logo:p(()=>[n(I)]),default:p(()=>{var l;return[e("div",B,[a[13]||(a[13]=e("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"}," Verify Party Membership ",-1)),a[14]||(a[14]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Enter the National ID number to verify membership status. ",-1)),t.value&&!t.value.success?(o(),r("div",F,i(t.value.message),1)):v("",!0),b.value?(o(),r("div",S,[e("form",{onSubmit:M(x,["prevent"]),class:"space-y-4"},[e("div",null,[n(D,{for:"national_id",value:"National Identification Number"}),n(R,{id:"national_id",modelValue:s.national_id,"onUpdate:modelValue":a[0]||(a[0]=y=>s.national_id=y),type:"text",class:"mt-1 block w-full",required:"",autofocus:!t.value,placeholder:"Enter 8-digit National ID",maxlength:"8",pattern:"[0-9]{8}",title:"Please enter exactly 8 digits"},null,8,["modelValue","autofocus"]),n(A,{class:"mt-2",message:s.errors.national_id},null,8,["message"])]),e("div",z,[n(P,{class:m(["w-full justify-center",{"opacity-25":s.processing}]),disabled:s.processing||c.value},{default:p(()=>[c.value?(o(),r("span",E,"Verifying...")):(o(),r("span",H,"Verify Membership"))]),_:1},8,["class","disabled"])])],32)])):v("",!0),(l=t.value)!=null&&l.success?(o(),r("div",q,[e("div",{class:"flex justify-between items-center mb-4"},[a[2]||(a[2]=e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Verification Result",-1)),e("button",{onClick:_,class:"text-sm text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300"}," Verify Another ID ")]),e("div",{class:m([{"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800":t.value.data.status_code==="active","bg-yellow-50 border-yellow-200 dark:bg-yellow-900/20 dark:border-yellow-800":["pending","processing"].includes(t.value.data.status_code),"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800":t.value.data.status_code==="rejected"},"border rounded-lg p-4"])},[e("h3",{class:m([{"text-green-800 dark:text-green-200":t.value.data.status_code==="active","text-yellow-800 dark:text-yellow-200":["pending","processing"].includes(t.value.data.status_code),"text-red-800 dark:text-red-200":t.value.data.status_code==="rejected"},"text-lg font-medium mb-3"])},[t.value.data.status_code==="active"?(o(),r(u,{key:0},[g(" ✓ Membership Active ")],64)):t.value.data.status_code==="pending"?(o(),r(u,{key:1},[g(" ⏳ Membership Pending Review ")],64)):t.value.data.status_code==="processing"?(o(),r(u,{key:2},[g(" 🔄 Membership Processing ")],64)):t.value.data.status_code==="rejected"?(o(),r(u,{key:3},[g(" ❌ Membership Rejected ")],64)):(o(),r(u,{key:4},[g(" ℹ️ Membership Status: "+i(t.value.data.status),1)],64))],2),e("div",L,[e("div",T,[e("div",null,[a[3]||(a[3]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Full Name",-1)),e("p",U,i(t.value.data.name),1)]),e("div",null,[a[4]||(a[4]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"National ID",-1)),e("p",W,i(t.value.data.national_id),1)])]),e("div",Z,[e("div",null,[a[5]||(a[5]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Membership Status",-1)),e("span",{class:m([{"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":t.value.data.status_code==="active","bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":["pending","processing"].includes(t.value.data.status_code),"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":t.value.data.status_code==="rejected"},"px-2 py-1 text-xs font-medium rounded-full"])},i(t.value.data.status),3)]),e("div",null,[a[6]||(a[6]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Registration Number",-1)),e("p",G,i(t.value.data.registration_number||"N/A"),1)])]),e("div",J,[e("div",null,[a[7]||(a[7]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"County",-1)),e("p",null,i(t.value.data.county),1)]),e("div",null,[a[8]||(a[8]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Constituency",-1)),e("p",null,i(t.value.data.constituency),1)]),e("div",null,[a[9]||(a[9]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Ward",-1)),e("p",null,i(t.value.data.ward),1)])]),e("div",K,[e("div",null,[a[10]||(a[10]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Registration Date",-1)),e("p",null,i(t.value.data.registration_date),1)]),e("div",null,[a[11]||(a[11]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Last Verified",-1)),e("p",null,i(t.value.data.last_verified),1)])])])],2),e("div",O,[e("button",{type:"button",onClick:a[1]||(a[1]=y=>d.window.print()),class:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md font-semibold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-25 transition ease-in-out duration-150"},a[12]||(a[12]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),g(" Print Verification ")]))])])):v("",!0)])]}),_:1})],64))}},le=$(Q,[["__scopeId","data-v-c2dd61d1"]]);export{le as default};
//# sourceMappingURL=VerifyMembership-BxYNWgE0.js.map
