{"version":3,"file":"Register-BSPEUx71.js","sources":["../../../resources/js/Pages/Auth/Register.vue"],"sourcesContent":["<!-- resources/js/Pages/Auth/Register.vue -->\n<script setup>\nimport { Head, Link, useForm, router } from \"@inertiajs/vue3\";\nimport { ref, computed, watch } from \"vue\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport AuthenticationCard from \"@/Components/AuthenticationCard.vue\";\nimport AuthenticationCardLogo from \"@/Components/AuthenticationCardLogo.vue\";\nimport Checkbox from \"@/Components/Checkbox.vue\";\nimport InputError from \"@/Components/InputError.vue\";\nimport InputLabel from \"@/Components/InputLabel.vue\";\nimport PrimaryButton from \"@/Components/PrimaryButton.vue\";\nimport TextInput from \"@/Components/TextInput.vue\";\nimport VueSelect from \"vue-select\";\nimport \"vue-select/dist/vue-select.css\";\nimport ReCaptcha from '@/Components/ReCaptcha.vue';\n\nconst props = defineProps({\n    formData: Object,\n});\n\n// Get OTP configuration from props\nconst otpConfig = computed(\n    () =>\n        props.formData?.otp_config || {\n            ttl: 300, // Default: 5 minutes in seconds\n            rate_limit: 60, // Default: 60 seconds between requests\n            attempts_limit: 5, // Default: 5 attempts before OTP is invalidated\n        }\n);\n\nconst totalSteps = 4; // Updated to 4 steps to include party resignation validation\nconst currentStep = ref(1);\nconst activeAccordion = ref(\"personal\");\nconst activeRegistrationSection = ref(null);\nconst acknowledged = ref(false);\n\nconst toggleSection = (section) => {\n    activeRegistrationSection.value = activeRegistrationSection.value === section ? null : section;\n};\n\n// Handle USSD code interaction\nconst handleUssdClick = () => {\n    // For mobile devices, try to initiate a call\n    if (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n        window.location.href = 'tel:*509%23';\n    } else {\n        // For desktop, show a helpful message\n        showToast('info', 'USSD Code', 'On your mobile device, dial *509#');\n    }\n};\n\n// Handle IPPMS portal click\nconst handleIppmsClick = () => {\n    window.open('https://ippms.orpp.or.ke', '_blank', 'noopener,noreferrer');\n};\n\n// Handle eCitizen portal click\nconst handleECitizenClick = () => {\n    window.open('https://accounts.ecitizen.go.ke/en', '_blank', 'noopener,noreferrer');\n};\n\nconst stepDescription = computed(() => {\n    switch (currentStep.value) {\n        case 1:\n            return \"Party Registration Check\";\n        case 2:\n            return \"Account and Personal Information\";\n        case 3:\n            return \"Location and Enlisting Information\";\n        case 4:\n            return \"Confirmation\";\n        default:\n            return \"\";\n    }\n});\n\nconst nextStepDescription = computed(() => {\n    switch (currentStep.value) {\n        case 1:\n            return \"Account and Personal Information\";\n        case 2:\n            return \"Location and Enlisting Information\";\n        case 3:\n            return \"Confirmation\";\n        case 4:\n            return \"Submit Registration\";\n        default:\n            return \"\";\n    }\n});\n\nconst toggleAccordion = (section) => {\n    activeAccordion.value = activeAccordion.value === section ? null : section;\n};\n\nconst showToast = (type, title, message) => {\n    window.Toast.fire({\n        icon: type,\n        title: title,\n        text: message,\n        toast: true,\n        position: \"top-end\",\n        showConfirmButton: false,\n        timer: 3000,\n        timerProgressBar: true,\n        didOpen: (toast) => {\n            toast.addEventListener(\"mouseenter\", window.Toast.stopTimer);\n            toast.addEventListener(\"mouseleave\", window.Toast.resumeTimer);\n        },\n    });\n};\n\nconst constituencies = ref([]);\nconst wards = ref([]);\nconst isLoadingConstituencies = ref(false);\nconst isLoadingWards = ref(false);\n\n// Use the form data from props\nconst genders = computed(() => props.formData?.genders || []);\nconst ethnicities = computed(() => props.formData?.ethnicities || []);\nconst religions = computed(() => props.formData?.religions || []);\nconst counties = computed(() => props.formData?.locations?.counties || []);\n\n// Format today's date for the form\nconst today = new Date();\nconst formattedDate = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;\n\nconst form = useForm({\n    // Registration Instructions Confirmation\n    understood_instructions: false,\n    \n    // Step 2: Account and Personal Information\n    surname: \"\",\n    other_name: \"\",\n    telephone: \"\",\n    identification_type: \"national_identification_number\", // 'national_identification_number' or 'passport_number'\n    identification_number: \"\",\n    party_membership_number: props.formData?.membership_number || \"\",\n    date_of_birth: \"\",\n    gender: \"\",\n    ethnicity_id: null,\n    religion_id: null,\n    disability_status: false, // 'false', 'true'\n    ncpwd_number: \"\",\n\n    // Step 2: Location and Enlisting Information\n    county_id: null,\n    constituency_id: null,\n    ward_id: null,\n    enlisting_date: new Date().toISOString().split(\"T\")[0], // Set to today (July 24, 2025), read-only\n\n    // Step 3: Review & Submit\n    terms: false,\n\n    // OTP verification\n    otpVerified: false,\n\n    // ReCaptcha response\n    'g-recaptcha-response': '',\n});\n\nconst isLoading = ref(false);\nconst isSubmitting = ref(false);\n\nconst setCaptchaResponse = (response) => {\n    form['g-recaptcha-response'] = response;\n};\n\n// Watch for county changes to filter constituencies\nwatch(\n    () => form.county_id,\n    (newCountyId) => {\n        if (newCountyId) {\n            const filtered =\n                props.formData?.locations?.constituencies?.filter(\n                    (c) => c.county_id == newCountyId\n                ) || [];\n            constituencies.value = filtered;\n        } else {\n            constituencies.value = [];\n        }\n\n        // Reset dependent fields\n        form.constituency_id = \"\";\n        form.ward_id = \"\";\n        wards.value = [];\n    }\n);\n\n// Watch for constituency changes to filter wards\nwatch(\n    () => form.constituency_id,\n    (newConstituencyId) => {\n        if (newConstituencyId) {\n            const filtered =\n                props.formData?.locations?.wards?.filter(\n                    (w) => w.constituency_id == newConstituencyId\n                ) || [];\n            wards.value = filtered;\n        } else {\n            wards.value = [];\n        }\n\n        // Reset dependent field\n        form.ward_id = \"\";\n    }\n);\n\n// Watch for disability status changes to handle NCPWD number field\nwatch(\n    () => form.disability_status,\n    (newStatus) => {\n        if (newStatus === false) {\n            // Clear NCPWD number when disability status is set to 'no'\n            form.ncpwd_number = \"\";\n        }\n    }\n);\n\nconst validateStep = (step) => {\n    if (step === 1) {\n        // Step 1: Party Registration Check - Only validate the acknowledgment\n        if (!form.understood_instructions) {\n            return { \n                isValid: false, \n                message: \"You must acknowledge that you understand the registration process\" \n            };\n        }\n        return { isValid: true };\n    }\n\n    if (step === 2) {\n        // Step 2: Account and Personal Information\n        if (!form.surname?.trim())\n            return { isValid: false, message: \"Surname is required\" };\n        if (!form.other_name?.trim())\n            return { isValid: false, message: \"Other name is required\" };\n        if (!form.telephone?.trim())\n            return {\n                isValid: false,\n                message: \"Member's mobile no. is required\",\n            };\n        if (!form.identification_type)\n            return {\n                isValid: false,\n                message: \"Identification type is required\",\n            };\n        if (!form.identification_number)\n            return {\n                isValid: false,\n                message: \"National ID/Passport Number is required\",\n            };\n            \n        // Validate identification number length (exactly 8 characters)\n        if (form.identification_number.length !== 8) {\n            return {\n                isValid: false,\n                message: \"Identification number must be exactly 8 characters long\"\n            };\n        }\n        if (!form.identification_number?.trim())\n            return {\n                isValid: false,\n                message: `${\n                    form.identification_type === \"national_identification_number\"\n                        ? \"National Identification Number\"\n                        : \"Passport Number\"\n                } is required`,\n            };\n        if (!form.date_of_birth)\n            return { isValid: false, message: \"Date of birth is required\" };\n        if (!form.gender) \n            return { isValid: false, message: \"Sex is required\" };\n        if (!form.ethnicity_id)\n            return { isValid: false, message: \"Ethnicity is required\" };\n        if (!form.religion_id)\n            return { isValid: false, message: \"Religion is required\" };\n        if (form.disability_status === true && !form.ncpwd_number?.trim())\n            return {\n                isValid: false,\n                message: \"NCPWD number is required when a disability is selected\",\n            };\n        return { isValid: true };\n    }\n\n    if (step === 3) {\n        // Step 3: Location and Enlisting Information\n        if (!form.county_id)\n            return {\n                isValid: false,\n                message: \"County of Member registration is required\",\n            };\n        if (!form.constituency_id)\n            return {\n                isValid: false,\n                message: \"Constituency of Member registration is required\",\n            };\n        if (!form.ward_id)\n            return {\n                isValid: false,\n                message: \"Ward of Member registration is required\",\n            };\n        return { isValid: true };\n    }\n\n    return { isValid: true };\n};\n\nconst nextStep = async () => {\n    const { isValid, message } = validateStep(currentStep.value);\n    if (!isValid) {\n        showToast(\"error\", \"Validation Error\", message);\n        return false;\n    }\n\n    if (currentStep.value < totalSteps) {\n        currentStep.value++;\n        window.scrollTo({ top: 0, behavior: \"smooth\" });\n    }\n    return true;\n};\n\nconst prevStep = () => {\n    if (currentStep.value > 1) {\n        currentStep.value--;\n        window.scrollTo({ top: 0, behavior: \"smooth\" });\n    }\n};\n\nconst handleSubmit = async () => {\n    if (currentStep.value < totalSteps) {\n        await nextStep();\n    } else {\n        // If OTP is not verified, show OTP verification modal\n        if (!form.otpVerified) {\n            await sendOtp();\n        } else {\n            await submit();\n        }\n    }\n};\n\n// Send OTP to the user's telephone number\nconst sendOtp = async () => {\n    try {\n        // Validate the telephone number\n        if (!form.telephone) {\n            showToast(\n                \"error\",\n                \"Validation Error\",\n                \"Telephone number is required for OTP verification\"\n            );\n            return;\n        }\n\n        // Show loading state\n        Swal.fire({\n            title: \"Sending OTP\",\n            text: \"Please wait while we send an OTP to your telephone...\",\n            allowOutsideClick: false,\n            didOpen: () => {\n                Swal.showLoading();\n            },\n        });\n\n        // Reset attempts counter and expiration time when requesting new OTP\n        otpAttempts.value = 0;\n        cleanupOtpTimer();\n        const expTime = new Date();\n        expTime.setSeconds(expTime.getSeconds() + otpConfig.value.ttl);\n        otpExpirationTime.value = expTime;\n\n        // Send OTP request\n        const response = await axios.post(route(\"auth.request-otp\"), {\n            telephone: form.telephone\n        });\n\n        // console.log(response.data);\n\n        if (response.data.status === \"success\") {\n            // Show OTP verification modal\n            showOtpVerificationModal();\n        } else {\n            throw new Error(response.data.message || \"Failed to send OTP. Please try again.\");\n        }\n    } catch (error) {\n        // Check if it's a rate limit error\n        if (\n            error.response?.data?.message &&\n            error.response.data.message.includes(\"wait\")\n        ) {\n            // Show countdown timer for rate limit\n            let secondsLeft = otpConfig.value.rate_limit; // Use the rate limit from config\n\n            // Try to extract the exact time from the message if available\n            const timeMatch = error.response.data.message.match(\n                /wait (\\d+) (?:seconds|second)/i\n            );\n\n            if (timeMatch && timeMatch[1]) {\n                secondsLeft = parseInt(timeMatch[1]);\n            }\n\n            const timerInterval = setInterval(() => {\n                secondsLeft -= 1;\n\n                // Update the timer text\n                const timerElement = document.getElementById(\"otp-timer\");\n                if (timerElement) {\n                    timerElement.textContent = `${secondsLeft}`;\n                }\n\n                // When timer reaches zero\n                if (secondsLeft <= 0) {\n                    clearInterval(timerInterval);\n                    Swal.close();\n                }\n            }, 1000);\n\n            Swal.fire({\n                icon: \"warning\",\n                title: \"Rate Limited\",\n                html: `\n                    <p>You must wait before requesting another OTP.</p>\n                    <div class=\"mt-4 text-center\">\n                        <p>Try again in <span id=\"otp-timer\" class=\"font-bold text-lg\">${secondsLeft}</span> seconds</p>\n                    </div>\n                `,\n                showConfirmButton: true,\n                confirmButtonText: \"OK\",\n                confirmButtonColor: \"#10b981\",\n                willClose: () => {\n                    clearInterval(timerInterval);\n                },\n            });\n        } else {\n            // Regular error handling\n            showToast(\n                \"error\",\n                \"OTP Error\",\n                error.response?.data?.message || \"Failed to send OTP. Please try again.\"\n            );\n        }\n    }\n};\n\n// Track OTP verification attempts and timer state\nconst otpAttempts = ref(0);\nconst maxOtpAttempts = computed(() => otpConfig.value.attempts_limit || 5);\nconst otpExpirationTime = ref(null);\nlet otpTimerInterval = null;\n\n// Format time remaining\nconst formatTimeRemaining = (endTime) => {\n    const now = new Date();\n    const diffInSeconds = Math.max(0, Math.floor((endTime - now) / 1000));\n    const minutes = Math.floor(diffInSeconds / 60);\n    const seconds = diffInSeconds % 60;\n    return {\n        formatted: `${minutes}:${seconds.toString().padStart(2, '0')}`,\n        isExpired: diffInSeconds <= 0\n    };\n};\n\n// Clean up timer\nconst cleanupOtpTimer = () => {\n    if (otpTimerInterval) {\n        clearInterval(otpTimerInterval);\n        otpTimerInterval = null;\n    }\n};\n\n// Show OTP verification modal\nconst showOtpVerificationModal = () => {\n    // Track if resend is on cooldown\n    let isResendDisabled = false;\n    let resendCountdown = 0;\n    let countdownInterval = null;\n    \n    // Initialize or reuse existing expiration time\n    if (!otpExpirationTime.value) {\n        const expTime = new Date();\n        expTime.setSeconds(expTime.getSeconds() + otpConfig.value.ttl);\n        otpExpirationTime.value = expTime;\n    }\n    \n    // Clean up any existing timer\n    cleanupOtpTimer();\n\n    Swal.fire({\n        title: \"Application Submission Verification\",\n        html: `\n            <p class=\"mb-4 text-md\">You'll receive a 6-digit verification code on your telephone number: <strong>${\n                form.telephone\n            }</strong>.</p>\n            <p class=\"text-xs text-gray-600\">Please check your mobile device for the OTP code text message.</p>\n            <div class=\"flex flex-col items-center\">\n                <input id=\"swal-otp-input\" class=\"swal2-input w-full text-center mb-1\" placeholder=\"Enter 6-digit code\" maxlength=\"6\" type=\"text\">\n                <div id=\"otp-timer-container\" class=\"text-sm text-gray-600 mt-2\">\n                    <span id=\"otp-timer-message\">Verification code expires in </span>\n                    <strong id=\"otp-timer\" class=\"font-medium\">${formatTimeRemaining(otpExpirationTime.value).formatted}</strong>\n                    <span id=\"otp-expired-message\" class=\"hidden\">\n                        <span class=\"text-red-500 font-medium\">Verification code expired!</span>\n                        <button id=\"resend-otp-btn\" class=\"ml-1 font-medium text-green-600 hover:text-green-800 cursor-pointer bg-transparent border-none p-0\">Resend OTP</button>\n                    </span>\n                </div>\n                ${otpAttempts.value > 0 ? `\n                <div class=\"text-sm text-red-500 mt-1\">\n                    ${otpAttempts.value} failed attempt${otpAttempts.value > 1 ? 's' : ''}${otpAttempts.value === maxOtpAttempts.value - 1 ? ' (last attempt)' : otpAttempts.value >= maxOtpAttempts.value ? '. Maximum attempts reached' : ''}.\n                </div>\n                ` : ''}\n            </div>\n        `,\n        showCancelButton: true,\n        confirmButtonText: \"Verify\",\n        confirmButtonColor: \"#10b981\",\n        cancelButtonText: \"Cancel\",\n        allowOutsideClick: false,\n        preConfirm: () => {\n            const otpInput = document.getElementById(\"swal-otp-input\");\n            const otp = otpInput.value;\n\n            if (!otp || otp.length !== 6) {\n                Swal.showValidationMessage(\n                    \"Please enter the 6-digit verification code\"\n                );\n                return false;\n            }\n\n            return otp;\n        },\n        didOpen: () => {\n            const resendBtn = document.getElementById(\"resend-otp-btn\");\n            const resendCountdownEl = document.getElementById(\"resend-countdown\");\n            // Update the timer display\n            const updateTimerDisplay = () => {\n                const now = new Date();\n                const timeLeft = Math.max(0, Math.ceil((otpExpirationTime.value - now) / 1000));\n                const minutes = Math.floor(timeLeft / 60);\n                const seconds = timeLeft % 60;\n                \n                const otpTimerEl = document.getElementById('otp-timer');\n                const timerMessageEl = document.getElementById('otp-timer-message');\n                const expiredMessageEl = document.getElementById('otp-expired-message');\n                const otpInput = document.getElementById('swal-otp-input');\n                const confirmButton = document.querySelector('.swal2-confirm');\n                \n                if (!otpTimerEl || !timerMessageEl || !expiredMessageEl) return;\n                \n                const isExpired = timeLeft <= 0;\n                const formattedTime = `${minutes}:${seconds.toString().padStart(2, '0')}`;\n                \n                // Only update DOM if the value has changed\n                if (otpTimerEl.textContent !== formattedTime) {\n                    otpTimerEl.textContent = formattedTime;\n                }\n                \n                // Toggle visibility and states based on expiration\n                if (isExpired) {\n                    if (!expiredMessageEl.classList.contains('hidden')) return; // Already in correct state\n                    \n                    timerMessageEl.classList.add('hidden');\n                    otpTimerEl.classList.add('hidden');\n                    expiredMessageEl.classList.remove('hidden');\n                    \n                    // Disable input and button\n                    if (otpInput) otpInput.disabled = true;\n                    if (confirmButton) confirmButton.disabled = true;\n                } else {\n                    if (!timerMessageEl.classList.contains('hidden') && \n                        !otpTimerEl.classList.contains('hidden') && \n                        expiredMessageEl.classList.contains('hidden')) {\n                        // Already in correct state, just update colors if needed\n                        otpTimerEl.classList.toggle('text-red-500', timeLeft <= 60);\n                        otpTimerEl.classList.toggle('text-gray-600', timeLeft > 60);\n                        return;\n                    }\n                    \n                    // Update to show countdown\n                    timerMessageEl.textContent = 'Verification code expires in ';\n                    timerMessageEl.classList.remove('hidden');\n                    otpTimerEl.classList.remove('hidden');\n                    expiredMessageEl.classList.add('hidden');\n                    \n                    // Update colors\n                    otpTimerEl.classList.toggle('text-red-500', timeLeft <= 60);\n                    otpTimerEl.classList.toggle('text-gray-600', timeLeft > 60);\n                    \n                    // Enable input and button\n                    if (otpInput) otpInput.disabled = false;\n                    if (confirmButton) confirmButton.disabled = false;\n                }\n            };\n            \n            // Set up the timer interval with requestAnimationFrame for smoother updates\n            let lastUpdate = 0;\n            let animationFrameId = null;\n            \n            const updateLoop = (timestamp) => {\n                if (!otpTimerInterval) {\n                    if (animationFrameId) {\n                        cancelAnimationFrame(animationFrameId);\n                        animationFrameId = null;\n                    }\n                    return;\n                }\n                \n                // Only update DOM at most every 500ms for better performance\n                if (timestamp - lastUpdate > 500) {\n                    updateTimerDisplay();\n                    lastUpdate = timestamp;\n                }\n                \n                // Continue the animation loop\n                animationFrameId = requestAnimationFrame(updateLoop);\n            };\n            \n            // Initial update\n            updateTimerDisplay();\n            \n            // Start the animation loop\n            otpTimerInterval = true; // Use a truthy value as a flag\n            animationFrameId = requestAnimationFrame(updateLoop);\n            \n            // Cleanup function for when the modal is closed\n            const cleanup = () => {\n                if (animationFrameId) {\n                    cancelAnimationFrame(animationFrameId);\n                    animationFrameId = null;\n                }\n                otpTimerInterval = null;\n            };\n            \n            // Return cleanup function to be called when modal closes\n            return cleanup;\n\n            // Function to update the resend button state\n            const updateResendButton = () => {\n                if (isResendDisabled) {\n                    resendBtn.disabled = true;\n                    resendBtn.classList.remove(\"text-green-600\", \"hover:text-green-800\");\n                    resendBtn.classList.add(\"text-gray-400\", \"cursor-not-allowed\");\n                    resendCountdownEl.textContent = `(${resendCountdown}s)`;\n                } else {\n                    // Only enable the button if the OTP has expired\n                    const isOtpExpired = formatTimeRemaining(otpExpirationTime.value).isExpired;\n                    if (isOtpExpired) {\n                        resendBtn.disabled = false;\n                        resendBtn.classList.add(\"text-green-600\", \"hover:text-green-800\");\n                        resendBtn.classList.remove(\"text-gray-400\", \"cursor-not-allowed\");\n                        resendCountdownEl.textContent = '';\n                    } else {\n                        resendBtn.disabled = true;\n                        resendBtn.classList.remove(\"text-green-600\", \"hover:text-green-800\");\n                        resendBtn.classList.add(\"text-gray-400\", \"cursor-not-allowed\");\n                        const timeLeft = formatTimeRemaining(otpExpirationTime.value).formatted;\n                        resendCountdownEl.textContent = `(wait ${timeLeft})`;\n                    }\n                }\n            };\n\n            // Add event listener for resend button\n            resendBtn.addEventListener(\"click\", async () => {\n                if (!isResendDisabled) {\n                    try {\n                        await sendOtp();\n                    } catch (error) {\n                        // Check if it's a rate limit error\n                        if (\n                            error.response?.data?.message &&\n                            error.response.data.message.includes(\"wait\")\n                        ) {\n                            // Extract the wait time or use the rate limit from config\n                            const timeMatch = error.response.data.message.match(\n                                /wait (\\d+) (?:seconds|second)/i\n                            );\n                            resendCountdown =\n                                timeMatch && timeMatch[1]\n                                    ? parseInt(timeMatch[1])\n                                    : otpConfig.value.rate_limit;\n\n                            isResendDisabled = true;\n                            updateResendButton();\n\n                            // Start countdown\n                            countdownInterval = setInterval(() => {\n                                resendCountdown -= 1;\n                                updateResendButton();\n\n                                if (resendCountdown <= 0) {\n                                    clearInterval(countdownInterval);\n                                    isResendDisabled = false;\n                                    updateResendButton();\n                                }\n                            }, 1000);\n                        }\n                    }\n                }\n            });\n        },\n        willClose: () => {\n            // Clear any running intervals when the modal is closed\n            if (countdownInterval) {\n                clearInterval(countdownInterval);\n            }\n            // Don't clean up the timer when modal closes\n            // We want to maintain the countdown state\n        },\n    }).then(async (result) => {\n        if (result.isConfirmed) {\n            await verifyOtp(result.value);\n        }\n    });\n};\n\n// Verify OTP\nconst verifyOtp = async (otp) => {\n    // If OTP is expired, don't proceed with verification\n    if (otpExpirationTime.value && new Date() > otpExpirationTime.value) {\n        Swal.fire({\n            icon: 'error',\n            title: 'OTP Expired',\n            text: 'The verification code has expired. Please request a new one.',\n            confirmButtonColor: '#10b981',\n        });\n        return;\n    }\n    \n    // Increment attempts counter\n    otpAttempts.value += 1;\n\n    // Check if max attempts reached\n    if (otpAttempts.value >= maxOtpAttempts.value) {\n        Swal.fire({\n            icon: 'error',\n            title: 'Maximum Attempts Reached',\n            text: `You've exceeded the maximum number of verification attempts. Please request a new OTP.`,\n            confirmButtonColor: '#10b981',\n        });\n        return;\n    }\n\n    try {\n        // Show loading state\n        Swal.fire({\n            title: \"Verifying OTP\",\n            text: \"Please wait while we verify your OTP...\",\n            allowOutsideClick: false,\n            didOpen: () => {\n                Swal.showLoading();\n            },\n        });\n\n        // Verify OTP request\n        const response = await axios.post(route(\"auth.verify-otp\"), {\n            telephone: form.telephone,\n            otp: otp,\n        });\n\n        if (response.data.status === \"success\" && response.data.verified) {\n            // Reset attempts on successful verification\n            otpAttempts.value = 0;\n            // Mark OTP as verified\n            form.otpVerified = true;\n\n            // Show success message\n            Swal.fire({\n                icon: \"success\",\n                title: \"Telephone Verified\",\n                text: response.data.message,\n                confirmButtonColor: \"#10b981\",\n            }).then(() => {\n                // Submit the form after OTP verification\n                submit();\n            });\n        } else {\n            Swal.fire({\n                icon: \"error\",\n                title: \"Verification Failed\",\n                text: response.data.message || \"Invalid OTP. Please try again.\",\n                confirmButtonColor: \"#10b981\",\n            }).then(() => {\n                // Show OTP verification modal again\n                showOtpVerificationModal();\n            });\n        }\n    } catch (error) {\n        Swal.fire({\n            icon: \"error\",\n            title: \"Verification Failed\",\n            html: `\n                <p>${\n                    error.response?.data?.message ||\n                    \"Failed to verify OTP. Please try again.\"\n                }</p>\n                ${\n                    error.response?.data?.message?.includes(\"attempts exceeded\")\n                        ? `<p class=\"mt-2 text-sm\">You have exceeded the maximum of ${maxOtpAttempts.value} attempts. Please request a new OTP.</p>`\n                        : \"\"\n                }\n            `,\n            confirmButtonColor: \"#10b981\",\n        }).then(() => {\n            // Show OTP verification modal again\n            showOtpVerificationModal();\n        });\n    }\n};\n\nconst submit = async () => {\n    isSubmitting.value = true;\n    try {\n        for (let i = 1; i <= totalSteps; i++) {\n            const { isValid, message } = validateStep(i);\n            if (!isValid) {\n                showToast(\"error\", \"Validation Error\", `Step ${i}: ${message}`);\n                currentStep.value = i;\n                window.scrollTo({ top: 0, behavior: \"smooth\" });\n                return;\n            }\n        }\n\n        // Additional validation for terms in Step 3\n        if (!form.terms) {\n            showToast(\n                \"error\",\n                \"Validation Error\",\n                \"You must agree to the terms and affirmation\"\n            );\n            return;\n        }\n\n        // Ensure OTP is verified before submitting\n        if (!form.otpVerified) {\n            await sendOtp();\n            return;\n        }\n\n        // Use Inertia's form helper to submit the form\n        form.post(route(\"register\"), {\n            forceFormData: true,\n            onSuccess: () => {\n                // Handle successful registration\n                showToast(\n                    \"success\",\n                    \"Registration Successful\",\n                    \"Your registration was successful! Redirecting...\"\n                );\n                // The server should handle the redirect in the response\n            },\n            onError: (errors) => {\n                // Handle form errors\n                let errorMessage = \"An error occurred during registration.\";\n\n                if (errors && typeof errors === \"object\") {\n                    errorMessage = Object.values(errors).flat().join(\" \");\n                } else if (typeof errors === \"string\") {\n                    errorMessage = errors;\n                }\n\n                showToast(\"error\", \"Registration Failed\", errorMessage);\n            },\n            onFinish: () => {\n                form.processing = false;\n            },\n        });\n    } catch (error) {\n        Swal.fire({\n            icon: \"error\",\n            title: \"Registration Failed\",\n            text: error.message || \"An error occurred during registration.\",\n            confirmButtonColor: \"#10b981\",\n        });\n    } finally {\n        isSubmitting.value = false;\n    }\n};\n\nconst getLocationName = (id, locations) => {\n    const location = locations.find((loc) => loc.id == id);\n    return location ? toTitleCase(location.name) : \"Not specified\";\n};\n\nconst getItemName = (id, items) => {\n    const item = items.find((item) => item.id == id);\n    return item ? toTitleCase(item.name) : \"Not specified\";\n};\n\nconst toTitleCase = (str) => {\n    return str.replace(/\\b\\w/g, (match) => match.toUpperCase());\n};\n\n// Format date as YYYY-MM-DD for display\nconst formatDate = (date) => {\n    const d = new Date(date);\n    const year = d.getFullYear();\n    const month = String(d.getMonth() + 1).padStart(2, '0');\n    const day = String(d.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n};\n\nconst genderDisplayName = computed(() => {\n    if (form.gender === \"XY\") return \"Male\";\n    if (form.gender === \"XX\") return \"Female\";\n    return form.gender || \"\";\n});\n\nconst canProceedToNextStep = computed(() => {\n    // For step 1, only check the acknowledgment checkbox\n    if (currentStep.value === 1) {\n        return form.understood_instructions;\n    } \n    // For step 2, check personal information fields\n    else if (currentStep.value === 2) {\n        return (\n            form.surname &&\n            form.other_name &&\n            form.telephone &&\n            form.identification_type &&\n            form.identification_number &&\n            form.date_of_birth &&\n            form.gender &&\n            form.ethnicity_id &&\n            form.religion_id &&\n            (form.disability_status === false || form.ncpwd_number)\n        );\n    } \n    // For step 3, check location fields\n    else if (currentStep.value === 3) {\n        return form.county_id && form.constituency_id && form.ward_id;\n    }\n    // For step 4 (confirmation), check terms acceptance\n    return form.terms;\n});\n</script>\n\n<template>\n    <Head title=\"Sign up\" />\n\n    <div\n        class=\"min-h-screen flex flex-col justify-center items-center bg-gray-100 px-4 py-8 md:h-screen\"\n    >\n        <div\n            class=\"flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white\"\n        >\n            <AuthenticationCardLogo />\n        </div>\n        <div class=\"flex-1 w-full flex flex-col items-center justify-center\">\n            <div\n                class=\"relative flex flex-col w-full max-w-2xl px-8 py-6 bg-white shadow-md overflow-y-auto sm:rounded-lg rounded-lg dark:border xl:p-0 dark:bg-gray-800 dark:border-gray-700\"\n                style=\"min-height: 0; max-height: 90vh\"\n            >\n                <div class=\"p-2 space-y-4 sm:p-8\">\n                    <div class=\"w-full\">\n                        <h1\n                            class=\"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white\"\n                        >\n                            Create your account\n                        </h1>\n                    </div>\n\n                    <form\n                        @submit.prevent=\"handleSubmit\"\n                        class=\"space-y-4\"\n                        :disabled=\"isSubmitting\"\n                    >\n                        <!-- Step 1: Party Registration Check -->\n                        <div v-if=\"currentStep === 1\" class=\"space-y-6\">\n                            <h2 class=\"text-base font-medium text-gray-700\">\n                                Step 1: Check Your Party Registration Status\n                            </h2>\n                            \n                            <div class=\"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-500 p-4 mb-6\">\n                                <div class=\"flex\">\n                                    <div class=\"flex-shrink-0\">\n                                        <i class=\"fas fa-info-circle text-blue-500\"></i>\n                                    </div>\n                                    <div class=\"ml-3\">\n                                        <p class=\"text-sm text-blue-700 dark:text-blue-300\">\n                                            Before proceeding with your registration, you need to verify your current political party membership status with the Office of the Registrar of Political Parties (ORPP).\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class=\"space-y-6\">\n                                <!-- Check Registration Status - Collapsible -->\n                                <div class=\"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg mb-4\">\n                                    <button \n                                        type=\"button\"\n                                        @click=\"toggleSection('checkStatus')\"\n                                        class=\"w-full px-4 py-5 sm:px-6 text-left bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 rounded-t-lg\"\n                                    >\n                                        <div class=\"flex items-center justify-between\">\n                                            <h3 class=\"text-lg leading-6 font-medium text-gray-900 dark:text-white\">\n                                                How to Check Your Party Registration Status?\n                                            </h3>\n                                            <i \n                                                :class=\"[\n                                                    activeRegistrationSection === 'checkStatus' ? 'fa-chevron-up' : 'fa-chevron-down',\n                                                    'fas',\n                                                    'transition-transform',\n                                                    'duration-200',\n                                                    'text-gray-500',\n                                                    'text-lg'\n                                                ]\"\n                                            ></i>\n                                        </div>\n                                    </button>\n                                    <div v-show=\"activeRegistrationSection === 'checkStatus'\" class=\"border-t border-gray-200 dark:border-gray-600 px-4 py-5 sm:p-6\">\n                                        <div class=\"space-y-4\">\n                                            <p class=\"text-sm text-gray-700 dark:text-gray-300\">\n                                                To check your current party registration status, use one of the following official ORPP channels:\n                                            </p>\n                                            \n                                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4\">\n                                                <!-- Mobile Check -->\n                                                <div class=\"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-100 dark:border-blue-800\">\n                                                    <h4 class=\"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center\">\n                                                        <i class=\"fas fa-laptop mr-2 text-purple-600 dark:text-purple-400\"></i>\n                                                        Mobile Check (USSD)\n                                                    </h4>\n                                                    <ol class=\"list-decimal pl-5 space-y-1 text-sm text-blue-700 dark:text-blue-300\">\n                                                        <li>Dial <button @click.stop=\"handleUssdClick\" class=\"font-mono bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded text-sm hover:bg-blue-200 dark:hover:bg-blue-800/50 transition-colors\">*509#</button> on your mobile phone</li>\n                                                        <li>If first time, register with your ID and name</li>\n                                                        <li>You'll receive an ORPP PIN via SMS</li>\n                                                        <li>Dial <button @click.stop=\"handleUssdClick\" class=\"font-mono bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded text-sm hover:bg-blue-200 dark:hover:bg-blue-800/50 transition-colors\">*509#</button> again and enter your PIN</li>\n                                                        <li>Select \"Check Membership Status\"</li>\n                                                        <li>View your current party affiliation</li>\n                                                    </ol>\n                                                </div>\n                                                \n                                                <!-- Online Check -->\n                                                <div class=\"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-100 dark:border-purple-800\">\n                                                    <h4 class=\"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center\">\n                                                        <i class=\"fas fa-laptop mr-2 text-purple-600 dark:text-purple-400\"></i>\n                                                        Online Check (IPPMS)\n                                                    </h4>\n                                                    <ol class=\"list-decimal pl-5 space-y-1 text-sm text-purple-700 dark:text-purple-300\">\n                                                        <li>Visit <button @click.stop=\"handleIppmsClick\" class=\"text-purple-700 dark:text-purple-300 hover:underline underline-offset-4 font-medium\">ippms.orpp.or.ke</button></li>\n                                                        <li>Click \"Check Membership Status\"</li>\n                                                        <li>Enter ID number and date of birth</li>\n                                                        <li>Complete CAPTCHA verification</li>\n                                                        <li>View your current party affiliation</li>\n                                                    </ol>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- If Registered with Another Party -->\n                                <div class=\"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4\">\n                                    <div class=\"flex\">\n                                        <div class=\"flex-shrink-0\">\n                                            <i class=\"fas fa-exclamation-triangle text-yellow-400\"></i>\n                                        </div>\n                                        <div class=\"ml-3\">\n                                            <h3 class=\"text-sm font-medium text-yellow-800 dark:text-yellow-200\">\n                                                If You're Registered with Another Party\n                                            </h3>\n                                            <div class=\"mt-2 text-sm text-yellow-700 dark:text-yellow-300\">\n                                                <p>You must first resign from your current party before joining Forward Kenya Party. Here's how:</p>\n                                                <ol class=\"list-decimal pl-5 mt-2 space-y-1\">\n                                                    <li>Use the USSD code <button @click.stop=\"handleUssdClick\" class=\"font-mono bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded text-sm hover:bg-blue-200 dark:hover:bg-blue-800/50 transition-colors\">*509#</button> or visit the <button @click.stop=\"handleIppmsClick\" class=\"text-purple-700 dark:text-purple-300 hover:underline underline-offset-4 font-medium\">IPPMS portal</button> to resign</li>\n                                                    <li>Wait for confirmation of your resignation (usually within 24 hours)</li>\n                                                    <li>Once confirmed, you can proceed with your Forward Kenya Party registration</li>\n                                                </ol>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- Official Registration Options - Collapsible -->\n                                <div class=\"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg\">\n                                    <button \n                                        type=\"button\"\n                                        @click=\"toggleSection('register')\"\n                                        class=\"w-full px-4 py-5 sm:px-6 text-left bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 rounded-t-lg\"\n                                    >\n                                        <div class=\"flex items-center justify-between\">\n                                            <h3 class=\"text-lg leading-6 font-medium text-gray-900 dark:text-white\">\n                                                How to Register with Forward Kenya Party? (Official Channels)\n                                            </h3>\n                                            <i \n                                                :class=\"[\n                                                    activeRegistrationSection === 'register' ? 'fa-chevron-up' : 'fa-chevron-down',\n                                                    'fas',\n                                                    'transition-transform',\n                                                    'duration-200',\n                                                    'text-gray-500',\n                                                    'text-lg'\n                                                ]\"\n                                            ></i>\n                                        </div>\n                                    </button>\n                                    <div v-show=\"activeRegistrationSection === 'register'\" class=\"border-t border-gray-200 dark:border-gray-600 px-4 py-5 sm:p-6\">\n                                        <div class=\"space-y-4\">\n                                            <p class=\"text-sm text-gray-700 dark:text-gray-300\">\n                                                To officially register with Forward Kenya Party, you must complete your registration through one of the following official ORPP channels:\n                                            </p>\n                                            \n                                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4\">\n                                                <!-- Mobile Registration -->\n                                                <div class=\"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-100 dark:border-green-800\">\n                                                    <h4 class=\"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center\">\n                                                        <i class=\"fas fa-laptop mr-2 text-purple-600 dark:text-purple-400\"></i>\n                                                        Mobile Registration (USSD)\n                                                    </h4>\n                                                    <ol class=\"list-decimal pl-5 space-y-1 text-sm text-green-700 dark:text-green-300\">\n                                                        <li>Dial <button @click.stop=\"handleUssdClick\" class=\"font-mono bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded text-sm hover:bg-blue-200 dark:hover:bg-blue-800/50 transition-colors\">*509#</button> on your mobile phone</li>\n                                                        <li>Enter your ORPP PIN</li>\n                                                        <li>Select \"Join a Party\"</li>\n                                                        <li>Enter party code: <span class=\"font-mono bg-green-100 dark:bg-green-800 px-1.5 py-0.5 rounded\">FKP</span> (Forward Kenya Party)</li>\n                                                        <li>Follow the prompts to complete your registration</li>\n                                                    </ol>\n                                                </div>\n                                                \n                                                <!-- Online Registration -->\n                                                <div class=\"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-100 dark:border-purple-800\">\n                                                    <h4 class=\"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center\">\n                                                        <i class=\"fas fa-laptop mr-2 text-purple-600 dark:text-purple-400\"></i>\n                                                        Online Registration (IPPMS)\n                                                    </h4>\n                                                    <ol class=\"list-decimal pl-5 space-y-1 text-sm text-purple-700 dark:text-purple-300\">\n                                                        <li>Visit <button @click.stop=\"handleIppmsClick\" class=\"text-purple-700 dark:text-purple-300 hover:underline underline-offset-4 font-medium\">ippms.orpp.or.ke</button> or log in via <button @click.stop=\"handleECitizenClick\" class=\"text-purple-700 dark:text-purple-300 hover:underline underline-offset-4 font-medium\">eCitizen</button></li>\n                                                        <li>Navigate to \"Join a Party\" section</li>\n                                                        <li>Search for \"Forward Kenya Party\"</li>\n                                                        <li>Complete the online registration form</li>\n                                                        <li>Submit and wait for confirmation</li>\n                                                    </ol>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- Confirmation Checkbox -->\n                                <div class=\"flex items-start\">\n                                    <div class=\"flex items-center h-5\">\n                                        <Checkbox\n                                            id=\"understood_instructions\"\n                                            v-model:checked=\"form.understood_instructions\"\n                                            required\n                                            class=\"mt-0.5\"\n                                        />\n                                    </div>\n                                    <div class=\"ml-3 text-sm\">\n                                        <label for=\"understood_instructions\" class=\"font-medium text-gray-700 dark:text-gray-300\">\n                                            I understand that I must complete my registration through the official ORPP channels (<button @click.stop=\"handleUssdClick\" class=\"font-mono bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded text-sm hover:bg-blue-200 dark:hover:bg-blue-800/50 transition-colors\">*509#</button> or <button @click.stop=\"handleIppmsClick\" class=\"text-purple-700 dark:text-purple-300 hover:underline underline-offset-4 font-medium\">IPPMS portal</button>) after submitting this form.\n                                        </label>\n                                        <p class=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                                            This form is for pre-registration only. Your membership will only be valid after completing the official ORPP registration process.\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- Step 2: Account and Personal Information -->\n                        <div v-if=\"currentStep === 2\" class=\"space-y-4\">\n                            <h2 class=\"text-base font-medium text-gray-700\">\n                                Step 2: Account and Personal Information\n                            </h2>\n\n                            <!-- Surname and Other Name (Responsive Grid) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"surname\"\n                                            value=\"Surname\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <TextInput\n                                        id=\"surname\"\n                                        v-model=\"form.surname\"\n                                        type=\"text\"\n                                        :class=\"[\n                                            'block w-full rounded-md shadow-sm sm:text-sm py-2 px-3 border transition duration-150 ease-in-out',\n                                            form.errors.surname\n                                                ? 'border-red-500 focus:border-red-500 focus:ring-red-500'\n                                                : 'border-gray-300 focus:border-green-500 focus:ring-green-500',\n                                            isSubmitting\n                                                ? 'opacity-75 cursor-not-allowed'\n                                                : '',\n                                        ]\"\n                                        placeholder=\"Enter your surname\"\n                                        required\n                                        autocomplete=\"name\"\n                                        :disabled=\"isSubmitting\"\n                                        :aria-busy=\"isSubmitting\"\n                                        autofocus\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.surname\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"other_name\"\n                                            value=\"Other Name\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <TextInput\n                                        id=\"other_name\"\n                                        v-model=\"form.other_name\"\n                                        type=\"text\"\n                                        :class=\"[\n                                            'block w-full rounded-md shadow-sm sm:text-sm py-2 px-3 border transition duration-150 ease-in-out',\n                                            form.errors.other_name\n                                                ? 'border-red-500 focus:border-red-500 focus:ring-red-500'\n                                                : 'border-gray-300 focus:border-green-500 focus:ring-green-500',\n                                            isSubmitting\n                                                ? 'opacity-75 cursor-not-allowed'\n                                                : '',\n                                        ]\"\n                                        placeholder=\"Enter your other name\"\n                                        required\n                                        autocomplete=\"name\"\n                                        :disabled=\"isSubmitting\"\n                                        :aria-busy=\"isSubmitting\"\n                                        autofocus\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.other_name\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n\n                            <!-- Member's Mobile No. and Identification Type (Responsive Grid) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"telephone\"\n                                            value=\"Member's Mobile No.\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <TextInput\n                                        id=\"telephone\"\n                                        v-model=\"form.telephone\"\n                                        type=\"tel\"\n                                        class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm py-2 px-3 border transition duration-150 ease-in-out\"\n                                        placeholder=\"e.g. 0712345678\"\n                                        required\n                                        autocomplete=\"tel\"\n                                        :disabled=\"isSubmitting\"\n                                        :aria-busy=\"isSubmitting\"\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.telephone\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"identification_type\"\n                                            value=\"Identification Type\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <select\n                                        id=\"identification_type\"\n                                        v-model=\"form.identification_type\"\n                                        class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm py-2 px-3 border transition duration-150 ease-in-out\"\n                                        required\n                                        @change=\"\n                                            form.identification_number = ''\n                                        \"\n                                    >\n                                        <option value=\"\">\n                                            Select Identification Type\n                                        </option>\n                                        <option\n                                            value=\"national_identification_number\"\n                                        >\n                                            National Identification Number\n                                        </option>\n                                        <option value=\"passport_number\">\n                                            Passport Number\n                                        </option>\n                                    </select>\n                                    <InputError\n                                        :message=\"\n                                            form.errors.identification_type\n                                        \"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n\n                            <!-- National ID and Party Membership No. (Half Width, Party Read-Only) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            :for=\"\n                                                form.identification_type ===\n                                                'national_identification_number'\n                                                    ? 'national_identification_number'\n                                                    : 'passport_number'\n                                            \"\n                                            :value=\"\n                                                form.identification_type ===\n                                                'national_identification_number'\n                                                    ? 'National Identification Number'\n                                                    : 'Passport Number'\n                                            \"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <TextInput\n                                        :id=\"\n                                            form.identification_type ===\n                                            'national_identification_number'\n                                                ? 'national_identification_number'\n                                                : 'passport_number'\n                                        \"\n                                        v-model=\"form.identification_number\"\n                                        type=\"text\"\n                                        class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm py-2 px-3 border transition duration-150 ease-in-out\"\n                                        :placeholder=\"\n                                            form.identification_type ===\n                                            'national_identification_number'\n                                                ? 'Enter National Identification Number'\n                                                : 'Enter Passport Number'\n                                        \"\n                                        required\n                                    />\n                                    <InputError\n                                        :message=\"\n                                            form.errors\n                                                .identification_number\n                                        \"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"party_membership_number\"\n                                            value=\"Party Membership Number\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <TextInput\n                                        id=\"party_membership_number\"\n                                        v-model=\"form.party_membership_number\"\n                                        type=\"text\"\n                                        class=\"block w-full rounded-md border-gray-300 bg-gray-200 text-gray-500 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm py-2 px-3 border transition duration-150 ease-in-out\"\n                                        required\n                                        readonly\n                                    />\n                                    <InputError\n                                        :message=\"\n                                            form.errors.party_membership_number\n                                        \"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n\n                            <!-- Date of Birth and Sex (Responsive Grid) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"date_of_birth\"\n                                            value=\"Date of Birth (dd-mm-yyyy)\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <TextInput\n                                        id=\"date_of_birth\"\n                                        v-model=\"form.date_of_birth\"\n                                        type=\"date\"\n                                        class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm py-2 px-3 border transition duration-150 ease-in-out\"\n                                        required\n                                        :max=\"\n                                            new Date()\n                                                .toISOString()\n                                                .split('T')[0]\n                                        \"\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.date_of_birth\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            value=\"Sex\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <VueSelect\n                                        id=\"gender\"\n                                        v-model=\"form.gender\"\n                                        :options=\"genders\"\n                                        label=\"name\"\n                                        :reduce=\"(option) => option.id\"\n                                        placeholder=\"Select sex\"\n                                        class=\"w-full\"\n                                        :class=\"{\n                                            'border-red-300':\n                                                form.errors.gender,\n                                        }\"\n                                        required\n                                        :clearable=\"false\"\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.gender\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n\n                            <!-- Ethnicity and Religion (Responsive Grid) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"ethnicity_id\"\n                                            value=\"Ethnicity\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <VueSelect\n                                        id=\"ethnicity_id\"\n                                        v-model=\"form.ethnicity_id\"\n                                        :options=\"ethnicities\"\n                                        label=\"name\"\n                                        :reduce=\"(option) => option.id\"\n                                        placeholder=\"Select ethnicity\"\n                                        class=\"w-full\"\n                                        :class=\"{\n                                            'border-red-300':\n                                                form.errors.ethnicity_id,\n                                        }\"\n                                        required\n                                        :clearable=\"false\"\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.ethnicity_id\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"religion_id\"\n                                            value=\"Religion\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <VueSelect\n                                        id=\"religion_id\"\n                                        v-model=\"form.religion_id\"\n                                        :options=\"religions\"\n                                        label=\"name\"\n                                        :reduce=\"(option) => option.id\"\n                                        placeholder=\"Select religion\"\n                                        class=\"w-full\"\n                                        :class=\"{\n                                            'border-red-300':\n                                                form.errors.religion_id,\n                                        }\"\n                                        required\n                                        :clearable=\"false\"\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.religion_id\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n\n                            <!-- Disability Status and NCPWD Number (Responsive Grid) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            value=\"Are you a PWD?\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <div class=\"grid grid-cols-2 gap-2\">\n                                        <label class=\"inline-flex items-center\">\n                                            <input\n                                                type=\"radio\"\n                                                v-model=\"form.disability_status\"\n                                                :value=\"false\"\n                                                class=\"text-green-600 border-gray-300 focus:ring-green-500\"\n                                                required\n                                            />\n                                            <span\n                                                class=\"ml-1 text-sm text-gray-700\"\n                                                >No</span\n                                            >\n                                        </label>\n                                        <label class=\"inline-flex items-center\">\n                                            <input\n                                                type=\"radio\"\n                                                v-model=\"form.disability_status\"\n                                                :value=\"true\"\n                                                class=\"text-green-600 border-gray-300 focus:ring-green-500\"\n                                            />\n                                            <span\n                                                class=\"ml-1 text-sm text-gray-700\"\n                                                >Yes</span\n                                            >\n                                        </label>\n                                    </div>\n                                    <InputError\n                                        :message=\"form.errors.disability_status\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n\n                                <div\n                                    v-if=\"form.disability_status\"\n                                    class=\"space-y-2\"\n                                >\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"ncpwd_number\"\n                                            value=\"NCPWD Number\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        >\n                                            <i\n                                                class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                            ></i>\n                                        </InputLabel>\n                                    </div>\n                                    <TextInput\n                                        id=\"ncpwd_number\"\n                                        v-model=\"form.ncpwd_number\"\n                                        type=\"text\"\n                                        :class=\"[\n                                            'block w-full rounded-md shadow-sm sm:text-sm py-2 px-3 border transition duration-150 ease-in-out',\n                                            form.errors.ncpwd_number\n                                                ? 'border-red-500'\n                                                : 'border-gray-300 focus:border-green-500 focus:ring-green-500',\n                                        ]\"\n                                        required\n                                        placeholder=\"Enter your NCPWD number\"\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.ncpwd_number\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                        \n                        <!-- Step 3: Location and Enlisting Information -->\n                        <div v-if=\"currentStep === 3\" class=\"space-y-4\">\n                            <h2 class=\"text-base font-medium text-gray-700\">\n                                Step 3: Location and Enlisting Information\n                            </h2>\n                            <!-- County, Constituency, and Ward (Responsive Grid) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"county_id\"\n                                            value=\"County of Member Registration\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <VueSelect\n                                        v-model=\"form.county_id\"\n                                        :options=\"counties\"\n                                        label=\"name\"\n                                        :reduce=\"(county) => county.id\"\n                                        placeholder=\"Select County\"\n                                        class=\"w-full\"\n                                        :class=\"{\n                                            'border-red-500':\n                                                form.errors.county_id,\n                                        }\"\n                                        :clearable=\"false\"\n                                    >\n                                        <template #no-options>\n                                            <div\n                                                class=\"text-sm text-gray-500 py-2 px-3\"\n                                            >\n                                                {{\n                                                    counties.length === 0\n                                                        ? \"No counties available\"\n                                                        : \"Type to search...\"\n                                                }}\n                                            </div>\n                                        </template>\n                                    </VueSelect>\n                                    <InputError\n                                        :message=\"form.errors.county_id\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"constituency_id\"\n                                            value=\"Constituency of Member Registration\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <VueSelect\n                                        v-model=\"form.constituency_id\"\n                                        :options=\"constituencies\"\n                                        label=\"name\"\n                                        :reduce=\"\n                                            (constituency) => constituency.id\n                                        \"\n                                        placeholder=\"Select Constituency\"\n                                        class=\"w-full\"\n                                        :class=\"{\n                                            'border-red-500':\n                                                form.errors.constituency_id,\n                                        }\"\n                                        :disabled=\"!form.county_id\"\n                                        :clearable=\"false\"\n                                    >\n                                        <template #no-options>\n                                            <div\n                                                class=\"text-sm text-gray-500 py-2 px-3\"\n                                            >\n                                                {{\n                                                    !form.county_id\n                                                        ? \"Please select a county first\"\n                                                        : \"No constituencies found\"\n                                                }}\n                                            </div>\n                                        </template>\n                                    </VueSelect>\n                                    <InputError\n                                        :message=\"form.errors.constituency_id\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n\n                            <!-- Ward and Enlisting Date (Responsive Grid) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"ward_id\"\n                                            value=\"Ward of Member Registration\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <VueSelect\n                                        v-model=\"form.ward_id\"\n                                        :options=\"wards\"\n                                        label=\"name\"\n                                        :reduce=\"(ward) => ward.id\"\n                                        placeholder=\"Select Ward\"\n                                        class=\"w-full\"\n                                        :class=\"{\n                                            'border-red-500':\n                                                form.errors.ward_id,\n                                        }\"\n                                        :disabled=\"!form.constituency_id\"\n                                        :clearable=\"false\"\n                                    >\n                                        <template #no-options>\n                                            <div\n                                                class=\"text-sm text-gray-500 py-2 px-3\"\n                                            >\n                                                {{\n                                                    !form.constituency_id\n                                                        ? \"Please select a constituency first\"\n                                                        : \"No wards found\"\n                                                }}\n                                            </div>\n                                        </template>\n                                    </VueSelect>\n                                    <InputError\n                                        :message=\"form.errors.ward_id\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"enlistment_date\"\n                                            value=\"Membership Enlistment Date\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <input\n                                        id=\"enlistment_date\"\n                                        type=\"text\"\n                                        :value=\"formatDate(new Date())\"\n                                        readonly\n                                        class=\"block w-full rounded-md shadow-sm sm:text-sm py-2 px-3 border border-gray-300 bg-gray-100 text-gray-500 cursor-not-allowed\"\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.enlistment_date\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- Step 4: Confirmation -->\n                        <div v-if=\"currentStep === 4\" class=\"space-y-6\">\n                            <h2 class=\"text-base font-medium text-gray-700\">\n                                Step 4: Confirmation\n                            </h2>\n\n                            <!-- Account Information Card -->\n                            <div\n                                class=\"bg-white rounded-lg shadow overflow-hidden border border-gray-200\"\n                            >\n                                <div\n                                    class=\"px-6 py-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center cursor-pointer\"\n                                    @click=\"\n                                        toggleAccordion('account information')\n                                    \"\n                                >\n                                    <h3\n                                        class=\"text-lg font-medium text-gray-900\"\n                                    >\n                                        Account Information\n                                    </h3>\n                                    <i\n                                        class=\"fas fa-chevron-down w-5 h-5 text-gray-500 transform transition-transform duration-200\"\n                                        :class=\"{\n                                            'rotate-180':\n                                                activeAccordion ===\n                                                'account information',\n                                        }\"\n                                    ></i>\n                                </div>\n                                <div\n                                    v-if=\"\n                                        activeAccordion ===\n                                        'account information'\n                                    \"\n                                    class=\"p-6\"\n                                >\n                                    <dl class=\"space-y-4\">\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Name of Member\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    form.surname +\n                                                        \" \" +\n                                                        form.other_name ||\n                                                    \"Not specified\"\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                ID/Passport No.\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    form.identification_number ||\n                                                    \"Not specified\"\n                                                }}\n                                                - ({{\n                                                    form.identification_type ===\n                                                    'national_identification_number'\n                                                        ? \"National Identification Number\"\n                                                        : \"Passport Number\"\n                                                }})\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Party Membership Number\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    form.party_membership_number ||\n                                                    \"Not specified\"\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Date of Birth\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    form.date_of_birth ||\n                                                    \"Not specified\"\n                                                }}\n                                            </dd>\n                                        </div>\n                                    </dl>\n                                </div>\n                            </div>\n\n                            <!-- Personal Information Card -->\n                            <div\n                                class=\"bg-white rounded-lg shadow overflow-hidden border border-gray-200\"\n                            >\n                                <div\n                                    class=\"px-6 py-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center cursor-pointer\"\n                                    @click=\"\n                                        toggleAccordion('personal information')\n                                    \"\n                                >\n                                    <h3\n                                        class=\"text-lg font-medium text-gray-900\"\n                                    >\n                                        Personal Information\n                                    </h3>\n                                    <i\n                                        class=\"fas fa-chevron-down w-5 h-5 text-gray-500 transform transition-transform duration-200\"\n                                        :class=\"{\n                                            'rotate-180':\n                                                activeAccordion ===\n                                                'personal information',\n                                        }\"\n                                    ></i>\n                                </div>\n                                <div\n                                    v-if=\"\n                                        activeAccordion ===\n                                        'personal information'\n                                    \"\n                                    class=\"p-6\"\n                                >\n                                    <dl class=\"space-y-4\">\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Sex\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    genderDisplayName ||\n                                                    \"Not specified\"\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Ethnicity\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    getItemName(\n                                                        form.ethnicity_id,\n                                                        ethnicities\n                                                    )\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Religion\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    getItemName(\n                                                        form.religion_id,\n                                                        religions\n                                                    )\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Are you a PWD\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    form.disability_status\n                                                        ? \"Yes\"\n                                                        : \"No\"\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            v-if=\"form.disability_status\"\n                                            class=\"sm:grid sm:grid-cols-3 sm:gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                NCPWD Number\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    form.ncpwd_number ||\n                                                    \"Not specified\"\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Member's Mobile No.\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    form.telephone ||\n                                                    \"Not specified\"\n                                                }}\n                                            </dd>\n                                        </div>\n                                    </dl>\n                                </div>\n                            </div>\n\n                            <div\n                                class=\"bg-white rounded-lg shadow overflow-hidden border border-gray-200\"\n                            >\n                                <div\n                                    class=\"px-6 py-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center cursor-pointer\"\n                                    @click=\"\n                                        toggleAccordion(\n                                            'location and enlisting information'\n                                        )\n                                    \"\n                                >\n                                    <h3\n                                        class=\"text-lg font-medium text-gray-900\"\n                                    >\n                                        Location and Enlisting Information\n                                    </h3>\n                                    <i\n                                        class=\"fas fa-chevron-down w-5 h-5 text-gray-500 transform transition-transform duration-200\"\n                                        :class=\"{\n                                            'rotate-180':\n                                                activeAccordion ===\n                                                'location and enlisting information',\n                                        }\"\n                                    ></i>\n                                </div>\n                                <div\n                                    v-if=\"\n                                        activeAccordion ===\n                                        'location and enlisting information'\n                                    \"\n                                    class=\"p-6\"\n                                >\n                                    <dl class=\"space-y-4\">\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                County of Member Registration\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    getLocationName(\n                                                        form.county_id,\n                                                        counties\n                                                    )\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Constituency of Member\n                                                Registration\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    getLocationName(\n                                                        form.constituency_id,\n                                                        constituencies\n                                                    )\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Ward of Member Registration\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    getLocationName(\n                                                        form.ward_id,\n                                                        wards\n                                                    )\n                                                }}\n                                            </dd>\n                                        </div>\n                                    </dl>\n                                </div>\n                            </div>\n\n                            <!-- Terms and Affirmation -->\n                            <div\n                                class=\"p-4 sm:p-6 bg-white rounded-lg shadow border border-gray-200\"\n                            >\n                                <div\n                                    class=\"flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-4\"\n                                >\n                                    <div class=\"flex items-start pt-1\">\n                                        <Checkbox\n                                            id=\"terms\"\n                                            v-model:checked=\"form.terms\"\n                                            required\n                                            class=\"mt-0.5\"\n                                        />\n                                    </div>\n                                    <div class=\"text-sm flex-1\">\n                                        <InputLabel\n                                            for=\"terms\"\n                                            class=\"font-medium text-gray-700 block\"\n                                        >\n                                            <div class=\"flex flex-wrap\">\n                                                <span class=\"mr-1 w-full\">\n                                                    I, the undersigned, do\n                                                    hereby\n                                                    affirm/declare/confirm/verify\n                                                    that I am not a registered\n                                                    member of any other\n                                                    registered political party\n                                                    in Kenya. By signing up, I\n                                                    agree to the\n                                                    <a\n                                                        :href=\"route('frontend.terms-and-conditions')\"\n                                                        target=\"_blank\"\n                                                        class=\"text-emerald-600 hover:text-emerald-500 hover:underline underline-offset-4 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-emerald-500 rounded\"\n                                                    >\n                                                        Terms of Service\n                                                    </a>\n                                                    <span class=\"mx-1\"\n                                                        >and</span\n                                                    >\n                                                    <a\n                                                        :href=\"route('frontend.privacy-policy')\"\n                                                        target=\"_blank\"\n                                                        class=\"text-emerald-600 hover:text-emerald-500 hover:underline underline-offset-4 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-emerald-500 rounded\"\n                                                    >\n                                                        Privacy Policy\n                                                    </a>\n                                                    and affirm that all\n                                                    information provided is true\n                                                    and accurate.\n                                                </span>\n                                            </div>\n                                        </InputLabel>\n                                        <p\n                                            class=\"text-xs text-gray-500 mt-2 sm:mt-1\"\n                                        >\n                                            You must agree to the terms of\n                                            service and our privacy policy to\n                                            create an account.\n                                        </p>\n                                    </div>\n                                </div>\n                                <InputError\n                                    :message=\"form.errors.terms\"\n                                    class=\"mt-1 text-sm text-red-600\"\n                                />\n                            </div>\n\n                            <!-- reCAPTCHA Component -->\n                            <div class=\"mt-6\">\n                                <ReCaptcha \n                                    action=\"register\" \n                                    :site-key=\"$page.props.recaptchaSiteKey\" \n                                    @captcha-response=\"setCaptchaResponse\" \n                                />\n                                <InputError \n                                    :message=\"form.errors['g-recaptcha-response']\" \n                                    class=\"mt-1 text-sm text-red-600\"\n                                />\n                            </div>\n                        </div>\n\n                        <!-- Shared Navigation Buttons -->\n                        <div class=\"flex items-center justify-between pt-6\">\n                            <button\n                                v-if=\"currentStep > 1\"\n                                type=\"button\"\n                                @click=\"prevStep\"\n                                class=\"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150\"\n                                :disabled=\"currentStep === 1 || isSubmitting\"\n                                :aria-busy=\"isSubmitting\"\n                            >\n                                <i\n                                    v-if=\"isSubmitting\"\n                                    class=\"fas fa-spinner fa-spin mr-2 text-gray-700\"\n                                ></i>\n                                {{\n                                    isSubmitting ? \"Processing...\" : \"Previous\"\n                                }}\n                            </button>\n                            <div v-else class=\"w-24\"></div>\n\n                            <button\n                                type=\"submit\"\n                                class=\"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-75 disabled:cursor-not-allowed\"\n                                :disabled=\"!canProceedToNextStep || isSubmitting\"\n                                :aria-busy=\"isSubmitting\"\n                            >\n                                <i\n                                    v-if=\"form.processing\"\n                                    class=\"fas fa-spinner fa-spin mr-2\"\n                                ></i>\n                                <template v-else>\n                                    <span class=\"hidden sm:inline\">\n                                        {{\n                                            currentStep === 4\n                                                ? \"Submit Application\"\n                                                : currentStep === 1\n                                                    ? \"Start: With Personal Information\"\n                                                    : \"Next: \" + nextStepDescription\n                                        }}\n                                    </span>\n                                    <span class=\"sm:hidden\">{{\n                                        currentStep === 4 ? 'Submit' : 'Next'\n                                    }}</span>\n                                    <i\n                                        :class=\"\n                                            currentStep === 4\n                                                ? 'fas fa-check ml-2'\n                                                : 'fas fa-arrow-right ml-2'\n                                        \"\n                                    ></i>\n                                </template>\n                            </button>\n                        </div>\n\n                        <!-- Progress Bar -->\n                        <div class=\"mt-6\">\n                            <div class=\"flex items-center justify-between mb-1\">\n                                <span class=\"text-sm font-medium text-gray-700\">\n                                    {{ Math.round((currentStep / 4) * 100) }}% Complete\n                                </span>\n                            </div>\n                            <div class=\"w-full bg-gray-200 rounded-full h-2.5\">\n                                <div\n                                    class=\"bg-emerald-600 h-2.5 rounded-full transition-all duration-300\"\n                                    :style=\"{\n                                        width: `${(currentStep / 4) * 100}%`,\n                                    }\"\n                                ></div>\n                            </div>\n                        </div>\n\n                        <!-- Sign In Link -->\n                        <div class=\"mt-6\">\n                            <p\n                                class=\"text-sm font-light text-gray-500 dark:text-gray-400\"\n                            >\n                                Already have an account?\n                                <Link\n                                    :href=\"route('login')\"\n                                    class=\"text-emerald-600 hover:text-emerald-500 font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 rounded\"\n                                >\n                                    Sign in\n                                </Link>\n                            </p>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n"],"names":["totalSteps","props","__props","otpConfig","computed","_a","currentStep","ref","activeAccordion","activeRegistrationSection","toggleSection","section","handleUssdClick","showToast","handleIppmsClick","handleECitizenClick","nextStepDescription","toggleAccordion","type","title","message","toast","constituencies","wards","genders","ethnicities","religions","counties","_b","today","form","useForm","isSubmitting","setCaptchaResponse","response","watch","newCountyId","filtered","_c","c","newConstituencyId","w","newStatus","validateStep","step","_d","_e","nextStep","isValid","prevStep","handleSubmit","submit","sendOtp","Swal","otpAttempts","cleanupOtpTimer","expTime","otpExpirationTime","axios","showOtpVerificationModal","error","secondsLeft","timeMatch","timerInterval","timerElement","maxOtpAttempts","otpTimerInterval","formatTimeRemaining","endTime","diffInSeconds","minutes","seconds","otp","updateTimerDisplay","now","timeLeft","otpTimerEl","timerMessageEl","expiredMessageEl","otpInput","confirmButton","isExpired","formattedTime","lastUpdate","animationFrameId","updateLoop","timestamp","result","verifyOtp","i","errors","errorMessage","getLocationName","id","locations","location","loc","toTitleCase","getItemName","items","item","str","match","formatDate","date","d","year","month","day","genderDisplayName","canProceedToNextStep","_createVNode","_unref","Head","_createElementVNode","_hoisted_1","_hoisted_2","AuthenticationCardLogo","_hoisted_3","_hoisted_4","_hoisted_5","_openBlock","_createElementBlock","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_cache","_normalizeClass","_withDirectives","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","Checkbox","$event","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","InputLabel","TextInput","InputError","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_vModelSelect","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","VueSelect","option","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_vModelRadio","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","county","_hoisted_74","_toDisplayString","_hoisted_75","_hoisted_76","constituency","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","ward","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","_hoisted_113","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_117","_hoisted_118","_hoisted_119","_hoisted_120","_hoisted_121","_hoisted_122","_hoisted_123","_hoisted_124","_hoisted_125","_hoisted_126","route","_hoisted_127","_hoisted_128","_hoisted_129","ReCaptcha","$page","_hoisted_130","_hoisted_132","_createTextVNode","_hoisted_133","_hoisted_135","_Fragment","_hoisted_136","_hoisted_137","_hoisted_138","_hoisted_139","_hoisted_140","_hoisted_141","_normalizeStyle","_hoisted_142","_hoisted_143","Link"],"mappings":"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"}