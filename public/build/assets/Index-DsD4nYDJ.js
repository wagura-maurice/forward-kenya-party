import{d as p,B as x,A as F,c as M,o,w as k,a as t,e as l,t as i,y as P,N as V,h as y,F as h,i as w,b as C,g as N,l as j,n as S,f as E,O as K}from"./app-CGiwA9vp.js";import{_ as U}from"./GuestLayout-DC_PcjXP.js";const $={class:"container mx-auto px-4 py-8 pt-36 flex-1"},z={class:"mb-4 text-4xl tracking-tight font-extrabold text-gray-900 dark:text-white"},I={class:"mb-8 bg-white dark:bg-gray-800 rounded-lg shadow p-6"},R={class:"relative"},q={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4"},W={class:"relative ml-auto"},Z={class:"flex items-center"},G={class:"relative"},H=["value"],J=["value"],Q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},X={class:"p-6 flex flex-col h-full"},Y={class:"flex-1"},ee={class:"flex items-center mb-4"},te={class:"p-3 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300"},re=["src","alt"],ae={key:1,class:"fas fa-building text-2xl"},se={class:"ml-4 text-xl font-semibold text-gray-900 dark:text-white"},ne={class:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-3"},oe={class:"mt-4"},le={class:"mt-8 flex flex-col sm:flex-row justify-between items-center gap-4"},ie={class:"text-sm text-gray-500 dark:text-gray-400"},de={class:"flex items-center space-x-2"},ge=["disabled"],ue={class:"flex space-x-1"},ce=["onClick"],me=["disabled"],fe={key:1,class:"text-center py-12"},xe={class:"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg text-left max-w-2xl mx-auto"},ye={class:"space-y-2"},he={key:0,class:"flex items-start"},be={class:"font-medium text-gray-900 dark:text-white"},ve={class:"flex items-start"},pe={class:"font-medium text-gray-900 dark:text-white"},Se={__name:"Index",props:{title:{type:String,default:"Party Departments"},logoUrl:{type:String,default:"/storage/logos/logo.png"},departments:{type:Object,required:!0},sortOptions:{type:Array,default:()=>[]},currentSort:{type:String,default:"name_asc"},currentSortLabel:{type:String,default:"A to Z"},filters:{type:Object,default:()=>({search:"",sort:"name_asc"})}},setup(s){const c=s,d=p(c.filters.search||""),g=p(c.currentSort||"name_asc"),u=p(!1),L=(a,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>a.apply(this,r),e)}},f=(a={})=>{if(u.value)return;u.value=!0;const e={page:a.page||1,search:a.search!==void 0?a.search:d.value,sort:a.sort!==void 0?a.sort:g.value};Object.keys(e).forEach(n=>{(e[n]===""||e[n]===null||e[n]===void 0)&&delete e[n]}),(!e.page||e.page<1)&&(e.page=1),K.get(route("frontend.departments"),e,{preserveState:!0,replace:!1,preserveScroll:!0,only:["departments","filters","currentSort","currentSortLabel"],onFinish:()=>{u.value=!1}})},O=L(a=>{f(a)},300);x([d],([a],[e])=>{u.value||O({search:a,page:1})}),x(g,a=>{u.value||f({sort:a,page:1})}),x(()=>c.filters,a=>{u.value||(d.value=a.search||"")},{deep:!0}),x(()=>c.currentSort,a=>{u.value||(g.value=a||"name_asc")});const T=a=>{g.value=a.target.value},_=()=>{f({search:d.value,page:1})},B=a=>{a.key==="Enter"&&_()},b=a=>{f({page:a})},D=()=>{d.value="",g.value="name_asc",f({search:"",sort:"name_asc",page:1})},A=F(()=>{const a=c.departments.current_page,e=c.departments.last_page,n=[];let r=Math.max(1,a-2),m=Math.min(e,a+2);m-r<4&&(r===1?m=Math.min(e,r+4):m===e&&(r=Math.max(1,m-4)));for(let v=r;v<=m;v++)n.push(v);return n});return(a,e)=>(o(),M(U,{title:s.title,menuLogo:s.logoUrl,footerLogo:s.logoUrl},{default:k(()=>{var n;return[t("section",$,[t("h2",z,i(s.title),1),e[17]||(e[17]=t("div",{class:"w-20 h-1 bg-gradient-to-r from-green-500 to-blue-500 mb-4"},null,-1)),e[18]||(e[18]=t("p",{class:"mb-8 lg:mb-16 font-light text-gray-500 dark:text-gray-400 sm:text-xl"}," At Forward Kenya Party, our specialized departments work in harmony to implement our vision for a better Kenya. Each department focuses on key areas of national development, ensuring comprehensive progress that benefits every citizen while upholding our core values of transparency, accountability, and service to the people. ",-1)),t("div",I,[e[5]||(e[5]=t("label",{for:"search",class:"sr-only"},"Search party departments",-1)),t("div",R,[e[4]||(e[4]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("i",{class:"fas fa-search text-gray-400"})],-1)),P(t("input",{type:"text",id:"search","onUpdate:modelValue":e[0]||(e[0]=r=>d.value=r),onKeydown:B,class:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Search party departments..."},null,544),[[V,d.value]]),t("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3"},[t("button",{type:"button",onClick:_,class:"p-1 text-gray-500 hover:text-gray-700 focus:outline-none dark:text-gray-400 dark:hover:text-gray-200"},e[3]||(e[3]=[t("i",{class:"fas fa-arrow-right"},null,-1)]))])])]),t("div",q,[e[7]||(e[7]=t("h2",{class:"text-xl font-bold text-gray-900 dark:text-white"}," All Party Departments ",-1)),t("div",W,[t("div",Z,[e[6]||(e[6]=t("span",{class:"hidden sm:inline-flex items-center text-sm text-gray-500 dark:text-gray-400 mr-2"},[t("i",{class:"fas fa-sort mr-1"}),y(" Sort: ")],-1)),t("div",G,[t("select",{value:g.value,onChange:T,class:"block w-auto pl-3 pr-8 py-2 text-sm border border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white appearance-none"},[(o(!0),l(h,null,w(s.sortOptions,r=>(o(),l("option",{key:r.value,value:r.value},i(r.label),9,J))),128))],40,H)])])])]),s.departments.data&&s.departments.data.length>0?(o(),l(h,{key:0},[t("div",Q,[(o(!0),l(h,null,w(s.departments.data,r=>(o(),l("div",{key:r.id,class:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300"},[t("div",X,[t("div",Y,[t("div",ee,[t("div",te,[r.logo_path?(o(),l("img",{key:0,src:r.logo_path,alt:r.name,class:"h-8 w-auto"},null,8,re)):(o(),l("i",ae))]),t("h3",se,[C(N(j),{href:a.route("frontend.show.department",{id:r.id}),class:"hover:text-blue-600 dark:hover:text-blue-400"},{default:k(()=>[y(i(r.name),1)]),_:2},1032,["href"])])]),t("p",ne,i(r.short_description||r.description||"No description available"),1)]),t("div",oe,[C(N(j),{href:a.route("frontend.show.department",{id:r.id}),class:"inline-flex items-center text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300 font-medium"},{default:k(()=>e[8]||(e[8]=[y(" Learn more "),t("i",{class:"fas fa-arrow-right ml-1"},null,-1)])),_:2,__:[8]},1032,["href"])])])]))),128))]),t("div",le,[t("div",ie," Showing "+i(s.departments.from)+" to "+i(s.departments.to)+" of "+i(s.departments.total)+" departments ",1),t("div",de,[t("button",{onClick:e[1]||(e[1]=r=>b(s.departments.current_page-1)),disabled:s.departments.current_page===1,class:S(["px-4 py-2 border rounded-md text-sm font-medium transition-colors",{"bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed":s.departments.current_page===1,"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700":s.departments.current_page>1}])}," Previous ",10,ge),t("div",ue,[(o(!0),l(h,null,w(A.value,r=>(o(),l("button",{key:r,onClick:m=>b(r),class:S(["w-10 h-10 flex items-center justify-center rounded-md text-sm font-medium transition-colors",{"bg-green-600 text-white":s.departments.current_page===r,"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700":s.departments.current_page!==r}])},i(r),11,ce))),128))]),t("button",{onClick:e[2]||(e[2]=r=>b(s.departments.current_page+1)),disabled:s.departments.current_page===s.departments.last_page,class:S(["px-4 py-2 border rounded-md text-sm font-medium transition-colors",{"bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed":s.departments.current_page===s.departments.last_page,"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700":s.departments.current_page<s.departments.last_page}])}," Next ",10,me)])])],64)):(o(),l("div",fe,[e[13]||(e[13]=t("i",{class:"fas fa-search text-4xl text-gray-400 mb-4"},null,-1)),e[14]||(e[14]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," No departments found ",-1)),e[15]||(e[15]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-4"}," Try adjusting your search or filter to find what you're looking for. ",-1)),t("div",xe,[e[11]||(e[11]=t("h4",{class:"font-medium text-gray-700 dark:text-gray-300 mb-2"}," Current search criteria: ",-1)),t("ul",ye,[d.value?(o(),l("li",he,[e[9]||(e[9]=t("span",{class:"text-gray-500 dark:text-gray-400 w-32 flex-shrink-0"},"Search term:",-1)),t("span",be,i(d.value),1)])):E("",!0),t("li",ve,[e[10]||(e[10]=t("span",{class:"text-gray-500 dark:text-gray-400 w-32 flex-shrink-0"},"Sort by:",-1)),t("span",pe,i(((n=s.sortOptions.find(r=>r.value===g.value))==null?void 0:n.label)||"Default"),1)])])]),e[16]||(e[16]=t("p",{class:"mt-4 text-gray-500 dark:text-gray-400 mb-6"}," We couldn't find any departments matching your search criteria. Try adjusting your search or reset the filters to see all departments. ",-1)),t("div",{class:"space-x-4"},[t("button",{onClick:D,class:"text-gray-900 bg-gradient-to-r from-teal-200 to-lime-200 hover:bg-gradient-to-l hover:from-teal-200 hover:to-lime-200 focus:ring-4 focus:outline-none focus:ring-lime-200 dark:focus:ring-teal-700 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},e[12]||(e[12]=[t("i",{class:"fas fa-sync-alt mr-2"},null,-1),y(" Reset all filters ")]))])]))])]}),_:1},8,["title","menuLogo","footerLogo"]))}};export{Se as default};
