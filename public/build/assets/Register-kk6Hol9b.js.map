{"version":3,"file":"Register-kk6Hol9b.js","sources":["../../../resources/js/Pages/Auth/Register.vue"],"sourcesContent":["<!-- resources/js/Pages/Auth/Register.vue -->\n<script setup>\nimport { Head, Link, useForm, router } from \"@inertiajs/vue3\";\nimport { ref, computed, watch } from \"vue\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport AuthenticationCard from \"@/Components/AuthenticationCard.vue\";\nimport AuthenticationCardLogo from \"@/Components/AuthenticationCardLogo.vue\";\nimport Checkbox from \"@/Components/Checkbox.vue\";\nimport InputError from \"@/Components/InputError.vue\";\nimport InputLabel from \"@/Components/InputLabel.vue\";\nimport PrimaryButton from \"@/Components/PrimaryButton.vue\";\nimport TextInput from \"@/Components/TextInput.vue\";\nimport VueSelect from \"vue-select\";\nimport \"vue-select/dist/vue-select.css\";\nimport ReCaptcha from \"@/Components/ReCaptcha.vue\";\n\nconst props = defineProps({\n    formData: Object,\n});\n\n// Get OTP configuration from props\nconst otpConfig = computed(\n    () =>\n        props.formData?.otp_config || {\n            ttl: 300, // Default: 5 minutes in seconds\n            rate_limit: 60, // Default: 60 seconds between requests\n            attempts_limit: 5, // Default: 5 attempts before OTP is invalidated\n        }\n);\n\nconst totalSteps = 4; // Updated to 4 steps to include party resignation validation\nconst currentStep = ref(1);\nconst activeAccordion = ref(\"personal\");\nconst activeRegistrationSection = ref(null);\nconst acknowledged = ref(false);\n\nconst toggleSection = (section) => {\n    activeRegistrationSection.value =\n        activeRegistrationSection.value === section ? null : section;\n};\n\n// Handle USSD code interaction\nconst handleUssdClick = () => {\n    // For mobile devices, try to initiate a call\n    if (\n        /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n            navigator.userAgent\n        )\n    ) {\n        window.location.href = \"tel:*509%23\";\n    } else {\n        // For desktop, show a helpful message\n        showToast(\"info\", \"USSD Code\", \"On your mobile device, dial *509#\");\n    }\n};\n\n// Handle IPPMS portal click\nconst handleIppmsClick = () => {\n    window.open(\"https://ippms.orpp.or.ke\", \"_blank\", \"noopener,noreferrer\");\n};\n\n// Handle eCitizen portal click\nconst handleECitizenClick = () => {\n    window.open(\n        \"https://accounts.ecitizen.go.ke/en\",\n        \"_blank\",\n        \"noopener,noreferrer\"\n    );\n};\n\nconst stepDescription = computed(() => {\n    switch (currentStep.value) {\n        case 1:\n            return \"Party Registration Check\";\n        case 2:\n            return \"Account and Personal Information\";\n        case 3:\n            return \"Location and Enlisting Information\";\n        case 4:\n            return \"Confirmation\";\n        default:\n            return \"\";\n    }\n});\n\nconst nextStepDescription = computed(() => {\n    switch (currentStep.value) {\n        case 1:\n            return \"Account and Personal Information\";\n        case 2:\n            return \"Location and Enlisting Information\";\n        case 3:\n            return \"Confirmation\";\n        case 4:\n            return \"Submit Registration\";\n        default:\n            return \"\";\n    }\n});\n\nconst toggleAccordion = (section) => {\n    activeAccordion.value = activeAccordion.value === section ? null : section;\n};\n\nconst showToast = (type, title, message) => {\n    window.Toast.fire({\n        icon: type,\n        title: title,\n        text: message,\n        toast: true,\n        position: \"top-end\",\n        showConfirmButton: false,\n        timer: 3000,\n        timerProgressBar: true,\n        didOpen: (toast) => {\n            toast.addEventListener(\"mouseenter\", window.Toast.stopTimer);\n            toast.addEventListener(\"mouseleave\", window.Toast.resumeTimer);\n        },\n    });\n};\n\nconst constituencies = ref([]);\nconst wards = ref([]);\nconst isLoadingConstituencies = ref(false);\nconst isLoadingWards = ref(false);\n\n// Use the form data from props\nconst genders = computed(() => props.formData?.genders || []);\nconst ethnicities = computed(() => props.formData?.ethnicities || []);\nconst religions = computed(() => props.formData?.religions || []);\nconst counties = computed(() => props.formData?.locations?.counties || []);\n\n// Format today's date for the form\nconst today = new Date();\nconst formattedDate = `${today.getFullYear()}-${String(\n    today.getMonth() + 1\n).padStart(2, \"0\")}-${String(today.getDate()).padStart(2, \"0\")}`;\n\nconst form = useForm({\n    // Registration Instructions Confirmation\n    understood_instructions: false,\n\n    // Step 2: Account and Personal Information\n    surname: \"\",\n    other_name: \"\",\n    telephone: \"\",\n    identification_type: \"national_identification_number\", // 'national_identification_number' or 'passport_number'\n    identification_number: \"\",\n    party_membership_number: props.formData?.membership_number || \"\",\n    date_of_birth: \"\",\n    gender: \"\",\n    ethnicity_id: null,\n    religion_id: null,\n    disability_status: false, // 'false', 'true'\n    ncpwd_number: \"\",\n\n    // Step 2: Location and Enlisting Information\n    county_id: null,\n    constituency_id: null,\n    ward_id: null,\n    enlisting_date: new Date().toISOString().split(\"T\")[0], // Set to today (July 24, 2025), read-only\n\n    // Step 3: Review & Submit\n    terms: false,\n\n    // OTP verification\n    otpVerified: false,\n\n    // ReCaptcha response\n    \"g-recaptcha-response\": \"\",\n});\n\nconst isLoading = ref(false);\nconst isSubmitting = ref(false);\n\nconst setCaptchaResponse = (response) => {\n    form[\"g-recaptcha-response\"] = response;\n};\n\n// Watch for county changes to filter constituencies\nwatch(\n    () => form.county_id,\n    (newCountyId) => {\n        if (newCountyId) {\n            const filtered =\n                props.formData?.locations?.constituencies?.filter(\n                    (c) => c.county_id == newCountyId\n                ) || [];\n            constituencies.value = filtered;\n        } else {\n            constituencies.value = [];\n        }\n\n        // Reset dependent fields\n        form.constituency_id = \"\";\n        form.ward_id = \"\";\n        wards.value = [];\n    }\n);\n\n// Watch for constituency changes to filter wards\nwatch(\n    () => form.constituency_id,\n    (newConstituencyId) => {\n        if (newConstituencyId) {\n            const filtered =\n                props.formData?.locations?.wards?.filter(\n                    (w) => w.constituency_id == newConstituencyId\n                ) || [];\n            wards.value = filtered;\n        } else {\n            wards.value = [];\n        }\n\n        // Reset dependent field\n        form.ward_id = \"\";\n    }\n);\n\n// Watch for disability status changes to handle NCPWD number field\nwatch(\n    () => form.disability_status,\n    (newStatus) => {\n        if (newStatus === false) {\n            // Clear NCPWD number when disability status is set to 'no'\n            form.ncpwd_number = \"\";\n        }\n    }\n);\n\nconst validateStep = (step) => {\n    if (step === 1) {\n        // Step 1: Party Registration Check - Only validate the acknowledgment\n        if (!form.understood_instructions) {\n            return {\n                isValid: false,\n                message:\n                    \"You must acknowledge that you understand the registration process\",\n            };\n        }\n        return { isValid: true };\n    }\n\n    if (step === 2) {\n        // Step 2: Account and Personal Information\n        const nameRegex = /^([a-zA-Z]+)(\\s[a-zA-Z]+)?(\\s[a-zA-Z]+)?$/;\n        if (!form.surname?.trim().match(nameRegex))\n            return {\n                isValid: false,\n                message: \"Surname must be a valid human name\",\n            };\n        if (form.other_name?.trim().split(\" \").length > 2)\n            return {\n                isValid: false,\n                message: \"Other name must be a valid human name\",\n            };\n        if (!form.telephone?.trim())\n            return {\n                isValid: false,\n                message: \"Member's mobile no. is required\",\n            };\n        if (!form.identification_type)\n            return {\n                isValid: false,\n                message: \"Identification type is required\",\n            };\n        if (!form.identification_number)\n            return {\n                isValid: false,\n                message: \"National ID/Passport Number is required\",\n            };\n\n        // Validate identification number length (exactly 8 characters)\n        if (form.identification_number.length !== 8) {\n            return {\n                isValid: false,\n                message:\n                    \"Identification number must be exactly 8 characters long\",\n            };\n        }\n        if (!form.identification_number?.trim())\n            return {\n                isValid: false,\n                message: `${\n                    form.identification_type ===\n                    \"national_identification_number\"\n                        ? \"National Identification Number\"\n                        : \"Passport Number\"\n                } is required`,\n            };\n        if (!form.date_of_birth)\n            return { isValid: false, message: \"Date of birth is required\" };\n        if (!form.gender) return { isValid: false, message: \"Sex is required\" };\n        if (!form.ethnicity_id)\n            return { isValid: false, message: \"Ethnicity is required\" };\n        if (!form.religion_id)\n            return { isValid: false, message: \"Religion is required\" };\n        if (form.disability_status === true && !/^NCPWD\\/P\\/[0-9]{5}$/.test(form.ncpwd_number?.trim()))\n            return {\n                isValid: false,\n                message:\n                    \"NCPWD number must be in the format NCPWD/P/12345\",\n            };\n        return { isValid: true };\n    }\n\n    if (step === 3) {\n        // Step 3: Location and Enlisting Information\n        if (!form.county_id)\n            return {\n                isValid: false,\n                message: \"County of Member registration is required\",\n            };\n        if (!form.constituency_id)\n            return {\n                isValid: false,\n                message: \"Constituency of Member registration is required\",\n            };\n        if (!form.ward_id)\n            return {\n                isValid: false,\n                message: \"Ward of Member registration is required\",\n            };\n        return { isValid: true };\n    }\n\n    return { isValid: true };\n};\n\nconst nextStep = async () => {\n    const { isValid, message } = validateStep(currentStep.value);\n    if (!isValid) {\n        showToast(\"error\", \"Validation Error\", message);\n        return false;\n    }\n\n    if (currentStep.value < totalSteps) {\n        currentStep.value++;\n        window.scrollTo({ top: 0, behavior: \"smooth\" });\n    }\n    return true;\n};\n\nconst prevStep = () => {\n    if (currentStep.value > 1) {\n        currentStep.value--;\n        window.scrollTo({ top: 0, behavior: \"smooth\" });\n    }\n};\n\nconst handleSubmit = async () => {\n    if (currentStep.value < totalSteps) {\n        await nextStep();\n    } else {\n        // If OTP is not verified, show OTP verification modal\n        if (!form.otpVerified) {\n            await sendOtp();\n        } else {\n            await submit();\n        }\n    }\n};\n\n// Send OTP to the user's telephone number\nconst sendOtp = async () => {\n    try {\n        // Validate the telephone number\n        if (!form.telephone) {\n            showToast(\n                \"error\",\n                \"Validation Error\",\n                \"Telephone number is required for OTP verification\"\n            );\n            return;\n        }\n\n        // Show loading state\n        Swal.fire({\n            title: \"Sending OTP\",\n            text: \"Please wait while we send an OTP to your telephone...\",\n            allowOutsideClick: false,\n            didOpen: () => {\n                Swal.showLoading();\n            },\n        });\n\n        // Reset attempts counter and expiration time when requesting new OTP\n        otpAttempts.value = 0;\n        cleanupOtpTimer();\n        const expTime = new Date();\n        expTime.setSeconds(expTime.getSeconds() + otpConfig.value.ttl);\n        otpExpirationTime.value = expTime;\n\n        // Send OTP request\n        const response = await axios.post(route(\"auth.request-otp\"), {\n            telephone: form.telephone,\n        });\n\n        // console.log(response.data);\n\n        if (response.data.status === \"success\") {\n            // Show OTP verification modal\n            showOtpVerificationModal();\n        } else {\n            throw new Error(\n                response.data.message || \"Failed to send OTP. Please try again.\"\n            );\n        }\n    } catch (error) {\n        // Check if it's a rate limit error\n        if (\n            error.response?.data?.message &&\n            error.response.data.message.includes(\"wait\")\n        ) {\n            // Show countdown timer for rate limit\n            let secondsLeft = otpConfig.value.rate_limit; // Use the rate limit from config\n\n            // Try to extract the exact time from the message if available\n            const timeMatch = error.response.data.message.match(\n                /wait (\\d+) (?:seconds|second)/i\n            );\n\n            if (timeMatch && timeMatch[1]) {\n                secondsLeft = parseInt(timeMatch[1]);\n            }\n\n            const timerInterval = setInterval(() => {\n                secondsLeft -= 1;\n\n                // Update the timer text\n                const timerElement = document.getElementById(\"otp-timer\");\n                if (timerElement) {\n                    timerElement.textContent = `${secondsLeft}`;\n                }\n\n                // When timer reaches zero\n                if (secondsLeft <= 0) {\n                    clearInterval(timerInterval);\n                    Swal.close();\n                }\n            }, 1000);\n\n            Swal.fire({\n                icon: \"warning\",\n                title: \"Rate Limited\",\n                html: `\n                    <p>You must wait before requesting another OTP.</p>\n                    <div class=\"mt-4 text-center\">\n                        <p>Try again in <span id=\"otp-timer\" class=\"font-bold text-lg\">${secondsLeft}</span> seconds</p>\n                    </div>\n                `,\n                showConfirmButton: true,\n                confirmButtonText: \"OK\",\n                confirmButtonColor: \"#10b981\",\n                willClose: () => {\n                    clearInterval(timerInterval);\n                },\n            });\n        } else {\n            // Regular error handling\n            showToast(\n                \"error\",\n                \"OTP Error\",\n                error.response?.data?.message ||\n                    \"Failed to send OTP. Please try again.\"\n            );\n        }\n    }\n};\n\n// Track OTP verification attempts and timer state\nconst otpAttempts = ref(0);\nconst maxOtpAttempts = computed(() => otpConfig.value.attempts_limit || 5);\nconst otpExpirationTime = ref(null);\nlet otpTimerInterval = null;\n\n// Format time remaining\nconst formatTimeRemaining = (endTime) => {\n    const now = new Date();\n    const diffInSeconds = Math.max(0, Math.floor((endTime - now) / 1000));\n    const minutes = Math.floor(diffInSeconds / 60);\n    const seconds = diffInSeconds % 60;\n    return {\n        formatted: `${minutes}:${seconds.toString().padStart(2, \"0\")}`,\n        isExpired: diffInSeconds <= 0,\n    };\n};\n\n// Clean up timer\nconst cleanupOtpTimer = () => {\n    if (otpTimerInterval) {\n        clearInterval(otpTimerInterval);\n        otpTimerInterval = null;\n    }\n};\n\n// Show OTP verification modal\nconst showOtpVerificationModal = () => {\n    // Track if resend is on cooldown\n    let isResendDisabled = false;\n    let resendCountdown = 0;\n    let countdownInterval = null;\n\n    // Initialize or reuse existing expiration time\n    if (!otpExpirationTime.value) {\n        const expTime = new Date();\n        expTime.setSeconds(expTime.getSeconds() + otpConfig.value.ttl);\n        otpExpirationTime.value = expTime;\n    }\n\n    // Clean up any existing timer\n    cleanupOtpTimer();\n\n    Swal.fire({\n        title: \"Application Submission Verification\",\n        html: `\n            <p class=\"mb-4 text-md\">You'll receive a 6-digit verification code on your telephone number: <strong>${\n                form.telephone\n            }</strong>.</p>\n            <p class=\"text-xs text-gray-600\">Please check your mobile device for the OTP code text message.</p>\n            <div class=\"flex flex-col items-center\">\n                <input id=\"swal-otp-input\" class=\"swal2-input w-full text-center mb-1\" placeholder=\"Enter 6-digit code\" maxlength=\"6\" type=\"text\">\n                <div id=\"otp-timer-container\" class=\"text-sm text-gray-600 mt-2\">\n                    <span id=\"otp-timer-message\">Verification code expires in </span>\n                    <strong id=\"otp-timer\" class=\"font-medium\">${\n                        formatTimeRemaining(otpExpirationTime.value).formatted\n                    }</strong>\n                    <span id=\"otp-expired-message\" class=\"hidden\">\n                        <span class=\"text-red-500 font-medium\">Verification code expired!</span>\n                        <button id=\"resend-otp-btn\" class=\"ml-1 font-medium text-green-600 hover:text-green-800 cursor-pointer bg-transparent border-none p-0\">Resend OTP</button>\n                    </span>\n                </div>\n                ${\n                    otpAttempts.value > 0\n                        ? `\n                <div class=\"text-sm text-red-500 mt-1\">\n                    ${otpAttempts.value} failed attempt${\n                              otpAttempts.value > 1 ? \"s\" : \"\"\n                          }${\n                              otpAttempts.value === maxOtpAttempts.value - 1\n                                  ? \" (last attempt)\"\n                                  : otpAttempts.value >= maxOtpAttempts.value\n                                  ? \". Maximum attempts reached\"\n                                  : \"\"\n                          }.\n                </div>\n                `\n                        : \"\"\n                }\n            </div>\n        `,\n        showCancelButton: true,\n        confirmButtonText: \"Verify\",\n        confirmButtonColor: \"#10b981\",\n        cancelButtonText: \"Cancel\",\n        allowOutsideClick: false,\n        preConfirm: () => {\n            const otpInput = document.getElementById(\"swal-otp-input\");\n            const otp = otpInput.value;\n\n            if (!otp || otp.length !== 6) {\n                Swal.showValidationMessage(\n                    \"Please enter the 6-digit verification code\"\n                );\n                return false;\n            }\n\n            return otp;\n        },\n        didOpen: () => {\n            const resendBtn = document.getElementById(\"resend-otp-btn\");\n            const resendCountdownEl =\n                document.getElementById(\"resend-countdown\");\n            // Update the timer display\n            const updateTimerDisplay = () => {\n                const now = new Date();\n                const timeLeft = Math.max(\n                    0,\n                    Math.ceil((otpExpirationTime.value - now) / 1000)\n                );\n                const minutes = Math.floor(timeLeft / 60);\n                const seconds = timeLeft % 60;\n\n                const otpTimerEl = document.getElementById(\"otp-timer\");\n                const timerMessageEl =\n                    document.getElementById(\"otp-timer-message\");\n                const expiredMessageEl = document.getElementById(\n                    \"otp-expired-message\"\n                );\n                const otpInput = document.getElementById(\"swal-otp-input\");\n                const confirmButton = document.querySelector(\".swal2-confirm\");\n\n                if (!otpTimerEl || !timerMessageEl || !expiredMessageEl) return;\n\n                const isExpired = timeLeft <= 0;\n                const formattedTime = `${minutes}:${seconds\n                    .toString()\n                    .padStart(2, \"0\")}`;\n\n                // Only update DOM if the value has changed\n                if (otpTimerEl.textContent !== formattedTime) {\n                    otpTimerEl.textContent = formattedTime;\n                }\n\n                // Toggle visibility and states based on expiration\n                if (isExpired) {\n                    if (!expiredMessageEl.classList.contains(\"hidden\")) return; // Already in correct state\n\n                    timerMessageEl.classList.add(\"hidden\");\n                    otpTimerEl.classList.add(\"hidden\");\n                    expiredMessageEl.classList.remove(\"hidden\");\n\n                    // Disable input and button\n                    if (otpInput) otpInput.disabled = true;\n                    if (confirmButton) confirmButton.disabled = true;\n                } else {\n                    if (\n                        !timerMessageEl.classList.contains(\"hidden\") &&\n                        !otpTimerEl.classList.contains(\"hidden\") &&\n                        expiredMessageEl.classList.contains(\"hidden\")\n                    ) {\n                        // Already in correct state, just update colors if needed\n                        otpTimerEl.classList.toggle(\n                            \"text-red-500\",\n                            timeLeft <= 60\n                        );\n                        otpTimerEl.classList.toggle(\n                            \"text-gray-600\",\n                            timeLeft > 60\n                        );\n                        return;\n                    }\n\n                    // Update to show countdown\n                    timerMessageEl.textContent =\n                        \"Verification code expires in \";\n                    timerMessageEl.classList.remove(\"hidden\");\n                    otpTimerEl.classList.remove(\"hidden\");\n                    expiredMessageEl.classList.add(\"hidden\");\n\n                    // Update colors\n                    otpTimerEl.classList.toggle(\"text-red-500\", timeLeft <= 60);\n                    otpTimerEl.classList.toggle(\"text-gray-600\", timeLeft > 60);\n\n                    // Enable input and button\n                    if (otpInput) otpInput.disabled = false;\n                    if (confirmButton) confirmButton.disabled = false;\n                }\n            };\n\n            // Set up the timer interval with requestAnimationFrame for smoother updates\n            let lastUpdate = 0;\n            let animationFrameId = null;\n\n            const updateLoop = (timestamp) => {\n                if (!otpTimerInterval) {\n                    if (animationFrameId) {\n                        cancelAnimationFrame(animationFrameId);\n                        animationFrameId = null;\n                    }\n                    return;\n                }\n\n                // Only update DOM at most every 500ms for better performance\n                if (timestamp - lastUpdate > 500) {\n                    updateTimerDisplay();\n                    lastUpdate = timestamp;\n                }\n\n                // Continue the animation loop\n                animationFrameId = requestAnimationFrame(updateLoop);\n            };\n\n            // Initial update\n            updateTimerDisplay();\n\n            // Start the animation loop\n            otpTimerInterval = true; // Use a truthy value as a flag\n            animationFrameId = requestAnimationFrame(updateLoop);\n\n            // Cleanup function for when the modal is closed\n            const cleanup = () => {\n                if (animationFrameId) {\n                    cancelAnimationFrame(animationFrameId);\n                    animationFrameId = null;\n                }\n                otpTimerInterval = null;\n            };\n\n            // Return cleanup function to be called when modal closes\n            return cleanup;\n\n            // Function to update the resend button state\n            const updateResendButton = () => {\n                if (isResendDisabled) {\n                    resendBtn.disabled = true;\n                    resendBtn.classList.remove(\n                        \"text-green-600\",\n                        \"hover:text-green-800\"\n                    );\n                    resendBtn.classList.add(\n                        \"text-gray-400\",\n                        \"cursor-not-allowed\"\n                    );\n                    resendCountdownEl.textContent = `(${resendCountdown}s)`;\n                } else {\n                    // Only enable the button if the OTP has expired\n                    const isOtpExpired = formatTimeRemaining(\n                        otpExpirationTime.value\n                    ).isExpired;\n                    if (isOtpExpired) {\n                        resendBtn.disabled = false;\n                        resendBtn.classList.add(\n                            \"text-green-600\",\n                            \"hover:text-green-800\"\n                        );\n                        resendBtn.classList.remove(\n                            \"text-gray-400\",\n                            \"cursor-not-allowed\"\n                        );\n                        resendCountdownEl.textContent = \"\";\n                    } else {\n                        resendBtn.disabled = true;\n                        resendBtn.classList.remove(\n                            \"text-green-600\",\n                            \"hover:text-green-800\"\n                        );\n                        resendBtn.classList.add(\n                            \"text-gray-400\",\n                            \"cursor-not-allowed\"\n                        );\n                        const timeLeft = formatTimeRemaining(\n                            otpExpirationTime.value\n                        ).formatted;\n                        resendCountdownEl.textContent = `(wait ${timeLeft})`;\n                    }\n                }\n            };\n\n            // Add event listener for resend button\n            resendBtn.addEventListener(\"click\", async () => {\n                if (!isResendDisabled) {\n                    try {\n                        await sendOtp();\n                    } catch (error) {\n                        // Check if it's a rate limit error\n                        if (\n                            error.response?.data?.message &&\n                            error.response.data.message.includes(\"wait\")\n                        ) {\n                            // Extract the wait time or use the rate limit from config\n                            const timeMatch = error.response.data.message.match(\n                                /wait (\\d+) (?:seconds|second)/i\n                            );\n                            resendCountdown =\n                                timeMatch && timeMatch[1]\n                                    ? parseInt(timeMatch[1])\n                                    : otpConfig.value.rate_limit;\n\n                            isResendDisabled = true;\n                            updateResendButton();\n\n                            // Start countdown\n                            countdownInterval = setInterval(() => {\n                                resendCountdown -= 1;\n                                updateResendButton();\n\n                                if (resendCountdown <= 0) {\n                                    clearInterval(countdownInterval);\n                                    isResendDisabled = false;\n                                    updateResendButton();\n                                }\n                            }, 1000);\n                        }\n                    }\n                }\n            });\n        },\n        willClose: () => {\n            // Clear any running intervals when the modal is closed\n            if (countdownInterval) {\n                clearInterval(countdownInterval);\n            }\n            // Don't clean up the timer when modal closes\n            // We want to maintain the countdown state\n        },\n    }).then(async (result) => {\n        if (result.isConfirmed) {\n            await verifyOtp(result.value);\n        }\n    });\n};\n\n// Verify OTP\nconst verifyOtp = async (otp) => {\n    // If OTP is expired, don't proceed with verification\n    if (otpExpirationTime.value && new Date() > otpExpirationTime.value) {\n        Swal.fire({\n            icon: \"error\",\n            title: \"OTP Expired\",\n            text: \"The verification code has expired. Please request a new one.\",\n            confirmButtonColor: \"#10b981\",\n        });\n        return;\n    }\n\n    // Increment attempts counter\n    otpAttempts.value += 1;\n\n    // Check if max attempts reached\n    if (otpAttempts.value >= maxOtpAttempts.value) {\n        Swal.fire({\n            icon: \"error\",\n            title: \"Maximum Attempts Reached\",\n            text: `You've exceeded the maximum number of verification attempts. Please request a new OTP.`,\n            confirmButtonColor: \"#10b981\",\n        });\n        return;\n    }\n\n    try {\n        // Show loading state\n        Swal.fire({\n            title: \"Verifying OTP\",\n            text: \"Please wait while we verify your OTP...\",\n            allowOutsideClick: false,\n            didOpen: () => {\n                Swal.showLoading();\n            },\n        });\n\n        // Verify OTP request\n        const response = await axios.post(route(\"auth.verify-otp\"), {\n            telephone: form.telephone,\n            otp: otp,\n        });\n\n        if (response.data.status === \"success\" && response.data.verified) {\n            // Reset attempts on successful verification\n            otpAttempts.value = 0;\n            // Mark OTP as verified\n            form.otpVerified = true;\n\n            // Show success message\n            Swal.fire({\n                icon: \"success\",\n                title: \"Telephone Verified\",\n                text: response.data.message,\n                confirmButtonColor: \"#10b981\",\n            }).then(() => {\n                // Submit the form after OTP verification\n                submit();\n            });\n        } else {\n            Swal.fire({\n                icon: \"error\",\n                title: \"Verification Failed\",\n                text: response.data.message || \"Invalid OTP. Please try again.\",\n                confirmButtonColor: \"#10b981\",\n            }).then(() => {\n                // Show OTP verification modal again\n                showOtpVerificationModal();\n            });\n        }\n    } catch (error) {\n        Swal.fire({\n            icon: \"error\",\n            title: \"Verification Failed\",\n            html: `\n                <p>${\n                    error.response?.data?.message ||\n                    \"Failed to verify OTP. Please try again.\"\n                }</p>\n                ${\n                    error.response?.data?.message?.includes(\"attempts exceeded\")\n                        ? `<p class=\"mt-2 text-sm\">You have exceeded the maximum of ${maxOtpAttempts.value} attempts. Please request a new OTP.</p>`\n                        : \"\"\n                }\n            `,\n            confirmButtonColor: \"#10b981\",\n        }).then(() => {\n            // Show OTP verification modal again\n            showOtpVerificationModal();\n        });\n    }\n};\n\nconst submit = async () => {\n    isSubmitting.value = true;\n    try {\n        for (let i = 1; i <= totalSteps; i++) {\n            const { isValid, message } = validateStep(i);\n            if (!isValid) {\n                showToast(\"error\", \"Validation Error\", `Step ${i}: ${message}`);\n                currentStep.value = i;\n                window.scrollTo({ top: 0, behavior: \"smooth\" });\n                return;\n            }\n        }\n\n        // Additional validation for terms in Step 3\n        if (!form.terms) {\n            showToast(\n                \"error\",\n                \"Validation Error\",\n                \"You must agree to the terms and affirmation\"\n            );\n            return;\n        }\n\n        // Ensure OTP is verified before submitting\n        if (!form.otpVerified) {\n            await sendOtp();\n            return;\n        }\n\n        // Use Inertia's form helper to submit the form\n        form.post(route(\"register\"), {\n            forceFormData: true,\n            onSuccess: () => {\n                // Handle successful registration\n                showToast(\n                    \"success\",\n                    \"Registration Successful\",\n                    \"Your registration was successful! Redirecting...\"\n                );\n                // The server should handle the redirect in the response\n            },\n            onError: (errors) => {\n                // Handle form errors\n                let errorMessage = \"An error occurred during registration.\";\n\n                if (errors && typeof errors === \"object\") {\n                    errorMessage = Object.values(errors).flat().join(\" \");\n                } else if (typeof errors === \"string\") {\n                    errorMessage = errors;\n                }\n\n                showToast(\"error\", \"Registration Failed\", errorMessage);\n            },\n            onFinish: () => {\n                form.processing = false;\n            },\n        });\n    } catch (error) {\n        Swal.fire({\n            icon: \"error\",\n            title: \"Registration Failed\",\n            text: error.message || \"An error occurred during registration.\",\n            confirmButtonColor: \"#10b981\",\n        });\n    } finally {\n        isSubmitting.value = false;\n    }\n};\n\nconst getLocationName = (id, locations) => {\n    const location = locations.find((loc) => loc.id == id);\n    return location ? toTitleCase(location.name) : \"Not specified\";\n};\n\nconst getItemName = (id, items) => {\n    const item = items.find((item) => item.id == id);\n    return item ? toTitleCase(item.name) : \"Not specified\";\n};\n\nconst toTitleCase = (str) => {\n    return str.replace(/\\b\\w/g, (match) => match.toUpperCase());\n};\n\n// Format date as YYYY-MM-DD for display\nconst formatDate = (date) => {\n    const d = new Date(date);\n    const year = d.getFullYear();\n    const month = String(d.getMonth() + 1).padStart(2, \"0\");\n    const day = String(d.getDate()).padStart(2, \"0\");\n    return `${year}-${month}-${day}`;\n};\n\nconst genderDisplayName = computed(() => {\n    if (form.gender === \"XY\") return \"Male\";\n    if (form.gender === \"XX\") return \"Female\";\n    return form.gender || \"\";\n});\n\nconst canProceedToNextStep = computed(() => {\n    // For step 1, only check the acknowledgment checkbox\n    if (currentStep.value === 1) {\n        return form.understood_instructions;\n    }\n    // For step 2, check personal information fields\n    else if (currentStep.value === 2) {\n        return (\n            form.surname &&\n            form.other_name &&\n            form.telephone &&\n            form.identification_type &&\n            form.identification_number &&\n            form.date_of_birth &&\n            form.gender &&\n            form.ethnicity_id &&\n            form.religion_id &&\n            (form.disability_status === false || form.ncpwd_number)\n        );\n    }\n    // For step 3, check location fields\n    else if (currentStep.value === 3) {\n        return form.county_id && form.constituency_id && form.ward_id;\n    }\n    // For step 4 (confirmation), check terms acceptance\n    return form.terms;\n});\n</script>\n\n<template>\n    <Head title=\"Sign up\" />\n\n    <div\n        class=\"min-h-screen flex flex-col justify-center items-center bg-gray-100 px-4 py-8 md:h-screen\"\n    >\n        <div\n            class=\"flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white\"\n        >\n            <AuthenticationCardLogo />\n        </div>\n        <div class=\"flex-1 w-full flex flex-col items-center justify-center\">\n            <div\n                class=\"relative flex flex-col w-full max-w-2xl px-8 py-6 bg-white shadow-md overflow-y-auto sm:rounded-lg rounded-lg dark:border xl:p-0 dark:bg-gray-800 dark:border-gray-700\"\n                style=\"min-height: 0; max-height: 90vh\"\n            >\n                <div class=\"p-2 space-y-4 sm:p-8\">\n                    <div class=\"w-full\">\n                        <h1\n                            class=\"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white\"\n                        >\n                            Create your account\n                        </h1>\n                    </div>\n\n                    <form\n                        @submit.prevent=\"handleSubmit\"\n                        class=\"space-y-4\"\n                        :disabled=\"isSubmitting\"\n                    >\n                        <!-- Step 1: Party Registration Check -->\n                        <div v-if=\"currentStep === 1\" class=\"space-y-6\">\n                            <h2 class=\"text-base font-medium text-gray-700\">\n                                Step 1: Check Your Party Registration Status\n                            </h2>\n\n                            <div\n                                class=\"bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-500 p-4 mb-6\"\n                            >\n                                <div class=\"flex\">\n                                    <div class=\"flex-shrink-0\">\n                                        <i\n                                            class=\"fas fa-info-circle text-blue-500\"\n                                        ></i>\n                                    </div>\n                                    <div class=\"ml-3\">\n                                        <p\n                                            class=\"text-sm text-blue-700 dark:text-blue-300\"\n                                        >\n                                            Before proceeding with your\n                                            registration, you need to verify\n                                            your current political party\n                                            membership status with the Office of\n                                            the Registrar of Political Parties\n                                            (ORPP).\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class=\"space-y-6\">\n                                <!-- Check Registration Status - Collapsible -->\n                                <div\n                                    class=\"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg mb-4\"\n                                >\n                                    <button\n                                        type=\"button\"\n                                        @click=\"toggleSection('checkStatus')\"\n                                        class=\"w-full px-4 py-5 sm:px-6 text-left bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 rounded-t-lg\"\n                                    >\n                                        <div\n                                            class=\"flex items-center justify-between\"\n                                        >\n                                            <h3\n                                                class=\"text-lg leading-6 font-medium text-gray-900 dark:text-white\"\n                                            >\n                                                How to Check Your Party\n                                                Registration Status?\n                                            </h3>\n                                            <i\n                                                :class=\"[\n                                                    activeRegistrationSection ===\n                                                    'checkStatus'\n                                                        ? 'fa-chevron-up'\n                                                        : 'fa-chevron-down',\n                                                    'fas',\n                                                    'transition-transform',\n                                                    'duration-200',\n                                                    'text-gray-500',\n                                                    'text-lg',\n                                                ]\"\n                                            ></i>\n                                        </div>\n                                    </button>\n                                    <div\n                                        v-show=\"\n                                            activeRegistrationSection ===\n                                            'checkStatus'\n                                        \"\n                                        class=\"border-t border-gray-200 dark:border-gray-600 px-4 py-5 sm:p-6\"\n                                    >\n                                        <div class=\"space-y-4\">\n                                            <p\n                                                class=\"text-sm text-gray-700 dark:text-gray-300\"\n                                            >\n                                                To check your current party\n                                                registration status, use one of\n                                                the following official ORPP\n                                                channels:\n                                            </p>\n\n                                            <div\n                                                class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4\"\n                                            >\n                                                <!-- Mobile Check -->\n                                                <div\n                                                    class=\"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-100 dark:border-blue-800\"\n                                                >\n                                                    <h4\n                                                        class=\"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center\"\n                                                    >\n                                                        <i\n                                                            class=\"fas fa-laptop mr-2 text-purple-600 dark:text-purple-400\"\n                                                        ></i>\n                                                        Mobile Check (USSD)\n                                                    </h4>\n                                                    <ol\n                                                        class=\"list-decimal pl-5 space-y-1 text-sm text-blue-700 dark:text-blue-300\"\n                                                    >\n                                                        <li>\n                                                            Dial\n                                                            <button\n                                                                @click.stop=\"\n                                                                    handleUssdClick\n                                                                \"\n                                                                class=\"font-mono bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded text-sm hover:bg-blue-200 dark:hover:bg-blue-800/50 transition-colors\"\n                                                            >\n                                                                *509#\n                                                            </button>\n                                                            on your mobile phone\n                                                        </li>\n                                                        <li>\n                                                            If first time,\n                                                            register with your\n                                                            ID and name\n                                                        </li>\n                                                        <li>\n                                                            You'll receive an\n                                                            ORPP PIN via SMS\n                                                        </li>\n                                                        <li>\n                                                            Dial\n                                                            <button\n                                                                @click.stop=\"\n                                                                    handleUssdClick\n                                                                \"\n                                                                class=\"font-mono bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded text-sm hover:bg-blue-200 dark:hover:bg-blue-800/50 transition-colors\"\n                                                            >\n                                                                *509#\n                                                            </button>\n                                                            again and enter your\n                                                            PIN\n                                                        </li>\n                                                        <li>\n                                                            Select \"Check\n                                                            Membership Status\"\n                                                        </li>\n                                                        <li>\n                                                            View your current\n                                                            party affiliation\n                                                        </li>\n                                                    </ol>\n                                                </div>\n\n                                                <!-- Online Check -->\n                                                <div\n                                                    class=\"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-100 dark:border-purple-800\"\n                                                >\n                                                    <h4\n                                                        class=\"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center\"\n                                                    >\n                                                        <i\n                                                            class=\"fas fa-laptop mr-2 text-purple-600 dark:text-purple-400\"\n                                                        ></i>\n                                                        Online Check (IPPMS)\n                                                    </h4>\n                                                    <ol\n                                                        class=\"list-decimal pl-5 space-y-1 text-sm text-purple-700 dark:text-purple-300\"\n                                                    >\n                                                        <li>\n                                                            Visit\n                                                            <button\n                                                                @click.stop=\"\n                                                                    handleIppmsClick\n                                                                \"\n                                                                class=\"text-purple-700 dark:text-purple-300 hover:underline underline-offset-4 font-medium\"\n                                                            >\n                                                                ippms.orpp.or.ke\n                                                            </button>\n                                                        </li>\n                                                        <li>\n                                                            Click \"Check\n                                                            Membership Status\"\n                                                        </li>\n                                                        <li>\n                                                            Enter ID number and\n                                                            date of birth\n                                                        </li>\n                                                        <li>\n                                                            Complete CAPTCHA\n                                                            verification\n                                                        </li>\n                                                        <li>\n                                                            View your current\n                                                            party affiliation\n                                                        </li>\n                                                    </ol>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- If Registered with Another Party -->\n                                <div\n                                    class=\"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4\"\n                                >\n                                    <div class=\"flex\">\n                                        <div class=\"flex-shrink-0\">\n                                            <i\n                                                class=\"fas fa-exclamation-triangle text-yellow-400\"\n                                            ></i>\n                                        </div>\n                                        <div class=\"ml-3\">\n                                            <h3\n                                                class=\"text-sm font-medium text-yellow-800 dark:text-yellow-200\"\n                                            >\n                                                If You're Registered with\n                                                Another Party\n                                            </h3>\n                                            <div\n                                                class=\"mt-2 text-sm text-yellow-700 dark:text-yellow-300\"\n                                            >\n                                                <p>\n                                                    You must first resign from\n                                                    your current party before\n                                                    joining Forward Kenya Party.\n                                                    Here's how:\n                                                </p>\n                                                <ol\n                                                    class=\"list-decimal pl-5 mt-2 space-y-1\"\n                                                >\n                                                    <li>\n                                                        Use the USSD code\n                                                        <button\n                                                            @click.stop=\"\n                                                                handleUssdClick\n                                                            \"\n                                                            class=\"font-mono bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded text-sm hover:bg-blue-200 dark:hover:bg-blue-800/50 transition-colors\"\n                                                        >\n                                                            *509#\n                                                        </button>\n                                                        or visit the\n                                                        <button\n                                                            @click.stop=\"\n                                                                handleIppmsClick\n                                                            \"\n                                                            class=\"text-purple-700 dark:text-purple-300 hover:underline underline-offset-4 font-medium\"\n                                                        >\n                                                            IPPMS portal\n                                                        </button>\n                                                        to resign\n                                                    </li>\n                                                    <li>\n                                                        Wait for confirmation of\n                                                        your resignation\n                                                        (usually within 24\n                                                        hours)\n                                                    </li>\n                                                    <li>\n                                                        Once confirmed, you can\n                                                        proceed with your\n                                                        Forward Kenya Party\n                                                        registration\n                                                    </li>\n                                                </ol>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- Official Registration Options - Collapsible -->\n                                <div\n                                    class=\"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg\"\n                                >\n                                    <button\n                                        type=\"button\"\n                                        @click=\"toggleSection('register')\"\n                                        class=\"w-full px-4 py-5 sm:px-6 text-left bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 rounded-t-lg\"\n                                    >\n                                        <div\n                                            class=\"flex items-center justify-between\"\n                                        >\n                                            <h3\n                                                class=\"text-lg leading-6 font-medium text-gray-900 dark:text-white\"\n                                            >\n                                                How to Register with Forward\n                                                Kenya Party? (Official Channels)\n                                            </h3>\n                                            <i\n                                                :class=\"[\n                                                    activeRegistrationSection ===\n                                                    'register'\n                                                        ? 'fa-chevron-up'\n                                                        : 'fa-chevron-down',\n                                                    'fas',\n                                                    'transition-transform',\n                                                    'duration-200',\n                                                    'text-gray-500',\n                                                    'text-lg',\n                                                ]\"\n                                            ></i>\n                                        </div>\n                                    </button>\n                                    <div\n                                        v-show=\"\n                                            activeRegistrationSection ===\n                                            'register'\n                                        \"\n                                        class=\"border-t border-gray-200 dark:border-gray-600 px-4 py-5 sm:p-6\"\n                                    >\n                                        <div class=\"space-y-4\">\n                                            <p\n                                                class=\"text-sm text-gray-700 dark:text-gray-300\"\n                                            >\n                                                To officially register with\n                                                Forward Kenya Party, you must\n                                                complete your registration\n                                                through one of the following\n                                                official ORPP channels:\n                                            </p>\n\n                                            <div\n                                                class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4\"\n                                            >\n                                                <!-- Mobile Registration -->\n                                                <div\n                                                    class=\"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-100 dark:border-green-800\"\n                                                >\n                                                    <h4\n                                                        class=\"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center\"\n                                                    >\n                                                        <i\n                                                            class=\"fas fa-laptop mr-2 text-purple-600 dark:text-purple-400\"\n                                                        ></i>\n                                                        Mobile Registration\n                                                        (USSD)\n                                                    </h4>\n                                                    <ol\n                                                        class=\"list-decimal pl-5 space-y-1 text-sm text-green-700 dark:text-green-300\"\n                                                    >\n                                                        <li>\n                                                            Dial\n                                                            <button\n                                                                @click.stop=\"\n                                                                    handleUssdClick\n                                                                \"\n                                                                class=\"font-mono bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded text-sm hover:bg-blue-200 dark:hover:bg-blue-800/50 transition-colors\"\n                                                            >\n                                                                *509#\n                                                            </button>\n                                                            on your mobile phone\n                                                        </li>\n                                                        <li>\n                                                            Enter your ORPP PIN\n                                                        </li>\n                                                        <li>\n                                                            Select \"Join a\n                                                            Party\"\n                                                        </li>\n                                                        <li>\n                                                            Enter party code:\n                                                            <span\n                                                                class=\"font-mono bg-green-100 dark:bg-green-800 px-1.5 py-0.5 rounded\"\n                                                                >FKP</span\n                                                            >\n                                                            (Forward Kenya\n                                                            Party)\n                                                        </li>\n                                                        <li>\n                                                            Follow the prompts\n                                                            to complete your\n                                                            registration\n                                                        </li>\n                                                    </ol>\n                                                </div>\n\n                                                <!-- Online Registration -->\n                                                <div\n                                                    class=\"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-100 dark:border-purple-800\"\n                                                >\n                                                    <h4\n                                                        class=\"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center\"\n                                                    >\n                                                        <i\n                                                            class=\"fas fa-laptop mr-2 text-purple-600 dark:text-purple-400\"\n                                                        ></i>\n                                                        Online Registration\n                                                        (IPPMS)\n                                                    </h4>\n                                                    <ol\n                                                        class=\"list-decimal pl-5 space-y-1 text-sm text-purple-700 dark:text-purple-300\"\n                                                    >\n                                                        <li>\n                                                            Visit\n                                                            <button\n                                                                @click.stop=\"\n                                                                    handleIppmsClick\n                                                                \"\n                                                                class=\"text-purple-700 dark:text-purple-300 hover:underline underline-offset-4 font-medium\"\n                                                            >\n                                                                ippms.orpp.or.ke\n                                                            </button>\n                                                            or log in via\n                                                            <button\n                                                                @click.stop=\"\n                                                                    handleECitizenClick\n                                                                \"\n                                                                class=\"text-purple-700 dark:text-purple-300 hover:underline underline-offset-4 font-medium\"\n                                                            >\n                                                                eCitizen\n                                                            </button>\n                                                        </li>\n                                                        <li>\n                                                            Navigate to \"Join a\n                                                            Party\" section\n                                                        </li>\n                                                        <li>\n                                                            Search for \"Forward\n                                                            Kenya Party\"\n                                                        </li>\n                                                        <li>\n                                                            Complete the online\n                                                            registration form\n                                                        </li>\n                                                        <li>\n                                                            Submit and wait for\n                                                            confirmation\n                                                        </li>\n                                                    </ol>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <!-- Confirmation Checkbox -->\n                                <div class=\"flex items-start\">\n                                    <div class=\"flex items-center h-5\">\n                                        <Checkbox\n                                            id=\"understood_instructions\"\n                                            v-model:checked=\"\n                                                form.understood_instructions\n                                            \"\n                                            required\n                                            class=\"mt-0.5\"\n                                        />\n                                    </div>\n                                    <div class=\"ml-3 text-sm\">\n                                        <label\n                                            for=\"understood_instructions\"\n                                            class=\"font-medium text-gray-700 dark:text-gray-300\"\n                                        >\n                                            I understand that I must complete my\n                                            registration through the official\n                                            ORPP channels (<button\n                                                @click.stop=\"handleUssdClick\"\n                                                class=\"font-mono bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 py-0.5 rounded text-sm hover:bg-blue-200 dark:hover:bg-blue-800/50 transition-colors\"\n                                            >\n                                                *509#\n                                            </button>\n                                            or\n                                            <button\n                                                @click.stop=\"handleIppmsClick\"\n                                                class=\"text-purple-700 dark:text-purple-300 hover:underline underline-offset-4 font-medium\"\n                                            >\n                                                IPPMS portal</button\n                                            >) after submitting this form.\n                                        </label>\n                                        <p\n                                            class=\"text-xs text-gray-500 dark:text-gray-400 mt-1\"\n                                        >\n                                            This form is for pre-registration\n                                            only. Your membership will only be\n                                            valid after completing the official\n                                            ORPP registration process.\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- Step 2: Account and Personal Information -->\n                        <div v-if=\"currentStep === 2\" class=\"space-y-4\">\n                            <h2 class=\"text-base font-medium text-gray-700\">\n                                Step 2: Account and Personal Information\n                            </h2>\n\n                            <!-- Surname and Other Name (Responsive Grid) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"surname\"\n                                            value=\"Surname\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <TextInput\n                                        id=\"surname\"\n                                        v-model=\"form.surname\"\n                                        type=\"text\"\n                                        :class=\"[\n                                            'block w-full rounded-md shadow-sm sm:text-sm py-2 px-3 border transition duration-150 ease-in-out',\n                                            form.errors.surname\n                                                ? 'border-red-500 focus:border-red-500 focus:ring-red-500'\n                                                : 'border-gray-300 focus:border-green-500 focus:ring-green-500',\n                                            isSubmitting\n                                                ? 'opacity-75 cursor-not-allowed'\n                                                : '',\n                                        ]\"\n                                        placeholder=\"Enter your surname\"\n                                        required\n                                        autocomplete=\"name\"\n                                        :disabled=\"isSubmitting\"\n                                        :aria-busy=\"isSubmitting\"\n                                        autofocus\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.surname\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"other_name\"\n                                            value=\"Other Name\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <TextInput\n                                        id=\"other_name\"\n                                        v-model=\"form.other_name\"\n                                        type=\"text\"\n                                        :class=\"[\n                                            'block w-full rounded-md shadow-sm sm:text-sm py-2 px-3 border transition duration-150 ease-in-out',\n                                            form.errors.other_name\n                                                ? 'border-red-500 focus:border-red-500 focus:ring-red-500'\n                                                : 'border-gray-300 focus:border-green-500 focus:ring-green-500',\n                                            isSubmitting\n                                                ? 'opacity-75 cursor-not-allowed'\n                                                : '',\n                                        ]\"\n                                        placeholder=\"Enter your other name\"\n                                        required\n                                        autocomplete=\"name\"\n                                        :disabled=\"isSubmitting\"\n                                        :aria-busy=\"isSubmitting\"\n                                        autofocus\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.other_name\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n\n                            <!-- Member's Mobile No. and Identification Type (Responsive Grid) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"telephone\"\n                                            value=\"Member's Mobile No.\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <TextInput\n                                        id=\"telephone\"\n                                        v-model=\"form.telephone\"\n                                        type=\"tel\"\n                                        class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm py-2 px-3 border transition duration-150 ease-in-out\"\n                                        placeholder=\"e.g. 0712345678\"\n                                        required\n                                        autocomplete=\"tel\"\n                                        :disabled=\"isSubmitting\"\n                                        :aria-busy=\"isSubmitting\"\n                                        pattern=\"\\d{10}\"\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.telephone\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"identification_type\"\n                                            value=\"Identification Type\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <select\n                                        id=\"identification_type\"\n                                        v-model=\"form.identification_type\"\n                                        class=\"block w-full rounded-md border-gray-300 bg-gray-200 text-gray-500 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm py-2 px-3 border transition duration-150 ease-in-out\"\n                                        required\n                                        :disabled=\"true\"\n                                        @change=\"\n                                            form.identification_number = ''\n                                        \"\n                                    >\n                                        <option\n                                            value=\"national_identification_number\"\n                                            selected\n                                        >\n                                            National Identification Number\n                                        </option>\n                                    </select>\n                                    <InputError\n                                        :message=\"\n                                            form.errors.identification_type\n                                        \"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n\n                            <!-- National ID and Party Membership No. (Half Width, Party Read-Only) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            :for=\"\n                                                form.identification_type ===\n                                                'national_identification_number'\n                                                    ? 'national_identification_number'\n                                                    : 'passport_number'\n                                            \"\n                                            :value=\"\n                                                form.identification_type ===\n                                                'national_identification_number'\n                                                    ? 'National Identification Number'\n                                                    : 'Passport Number'\n                                            \"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <TextInput\n                                        :id=\"\n                                            form.identification_type ===\n                                            'national_identification_number'\n                                                ? 'national_identification_number'\n                                                : 'passport_number'\n                                        \"\n                                        v-model=\"form.identification_number\"\n                                        type=\"number\"\n                                        class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm py-2 px-3 border transition duration-150 ease-in-out\"\n                                        :placeholder=\"\n                                            form.identification_type ===\n                                            'national_identification_number'\n                                                ? 'Enter National Identification Number'\n                                                : 'Enter Passport Number'\n                                        \"\n                                        required\n                                        maxlength=\"8\"\n                                    />\n                                    <InputError\n                                        :message=\"\n                                            form.errors.identification_number\n                                        \"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"party_membership_number\"\n                                            value=\"Party Membership Number\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <TextInput\n                                        id=\"party_membership_number\"\n                                        v-model=\"form.party_membership_number\"\n                                        type=\"text\"\n                                        class=\"block w-full rounded-md border-gray-300 bg-gray-200 text-gray-500 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm py-2 px-3 border transition duration-150 ease-in-out\"\n                                        required\n                                        readonly\n                                    />\n                                    <InputError\n                                        :message=\"\n                                            form.errors.party_membership_number\n                                        \"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n\n                            <!-- Date of Birth and Sex (Responsive Grid) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"date_of_birth\"\n                                            value=\"Date of Birth (dd-mm-yyyy)\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <TextInput\n                                        id=\"date_of_birth\"\n                                        v-model=\"form.date_of_birth\"\n                                        type=\"date\"\n                                        class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 sm:text-sm py-2 px-3 border transition duration-150 ease-in-out\"\n                                        required\n                                        :max=\"\n                                            new Date(\n                                                Date.now() -\n                                                    1000 *\n                                                        60 *\n                                                        60 *\n                                                        24 *\n                                                        365.25 *\n                                                        18\n                                            )\n                                                .toISOString()\n                                                .split('T')[0]\n                                        \"\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.date_of_birth\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            value=\"Sex\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <VueSelect\n                                        id=\"gender\"\n                                        v-model=\"form.gender\"\n                                        :options=\"genders\"\n                                        label=\"name\"\n                                        :reduce=\"(option) => option.id\"\n                                        placeholder=\"Select sex\"\n                                        class=\"w-full\"\n                                        :class=\"{\n                                            'border-red-300':\n                                                form.errors.gender,\n                                        }\"\n                                        required\n                                        :clearable=\"false\"\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.gender\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n\n                            <!-- Ethnicity and Religion (Responsive Grid) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"ethnicity_id\"\n                                            value=\"Ethnicity\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <VueSelect\n                                        id=\"ethnicity_id\"\n                                        v-model=\"form.ethnicity_id\"\n                                        :options=\"ethnicities\"\n                                        label=\"name\"\n                                        :reduce=\"(option) => option.id\"\n                                        placeholder=\"Select ethnicity\"\n                                        class=\"w-full\"\n                                        :class=\"{\n                                            'border-red-300':\n                                                form.errors.ethnicity_id,\n                                        }\"\n                                        required\n                                        :clearable=\"false\"\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.ethnicity_id\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"religion_id\"\n                                            value=\"Religion\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <VueSelect\n                                        id=\"religion_id\"\n                                        v-model=\"form.religion_id\"\n                                        :options=\"religions\"\n                                        label=\"name\"\n                                        :reduce=\"(option) => option.id\"\n                                        placeholder=\"Select religion\"\n                                        class=\"w-full\"\n                                        :class=\"{\n                                            'border-red-300':\n                                                form.errors.religion_id,\n                                        }\"\n                                        required\n                                        :clearable=\"false\"\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.religion_id\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n\n                            <!-- Disability Status and NCPWD Number (Responsive Grid) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"are you a pwd?\"\n                                            value=\"Are you a PWD?\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <div class=\"grid grid-cols-2 gap-2\">\n                                        <label class=\"inline-flex items-center\">\n                                            <input\n                                                type=\"radio\"\n                                                v-model=\"form.disability_status\"\n                                                :value=\"false\"\n                                                class=\"text-green-600 border-gray-300 focus:ring-green-500\"\n                                                required\n                                            />\n                                            <span\n                                                class=\"ml-1 text-sm text-gray-700\"\n                                                >No</span\n                                            >\n                                        </label>\n                                        <label class=\"inline-flex items-center\">\n                                            <input\n                                                type=\"radio\"\n                                                v-model=\"form.disability_status\"\n                                                :value=\"true\"\n                                                class=\"text-green-600 border-gray-300 focus:ring-green-500\"\n                                            />\n                                            <span\n                                                class=\"ml-1 text-sm text-gray-700\"\n                                                >Yes</span\n                                            >\n                                        </label>\n                                    </div>\n                                    <InputError\n                                        :message=\"form.errors.disability_status\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n\n                                <div\n                                    v-if=\"form.disability_status\"\n                                    class=\"space-y-2\"\n                                >\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"ncpwd_number\"\n                                            value=\"NCPWD Number\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        >\n                                            <i\n                                                class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                            ></i>\n                                        </InputLabel>\n                                    </div>\n                                    <TextInput\n                                        id=\"ncpwd_number\"\n                                        v-model=\"form.ncpwd_number\"\n                                        type=\"text\"\n                                        :class=\"[\n                                            'block w-full rounded-md shadow-sm sm:text-sm py-2 px-3 border transition duration-150 ease-in-out',\n                                            form.errors.ncpwd_number\n                                                ? 'border-red-500'\n                                                : 'border-gray-300 focus:border-green-500 focus:ring-green-500',\n                                        ]\"\n                                        required\n                                        placeholder=\"Enter your NCPWD number\"\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.ncpwd_number\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- Step 3: Location and Enlisting Information -->\n                        <div v-if=\"currentStep === 3\" class=\"space-y-4\">\n                            <h2 class=\"text-base font-medium text-gray-700\">\n                                Step 3: Location and Enlisting Information\n                            </h2>\n                            <!-- County, Constituency, and Ward (Responsive Grid) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"county_id\"\n                                            value=\"County of Member Registration\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <VueSelect\n                                        v-model=\"form.county_id\"\n                                        :options=\"counties\"\n                                        label=\"name\"\n                                        :reduce=\"(county) => county.id\"\n                                        placeholder=\"Select County\"\n                                        class=\"w-full\"\n                                        :class=\"{\n                                            'border-red-500':\n                                                form.errors.county_id,\n                                        }\"\n                                        :clearable=\"false\"\n                                    >\n                                        <template #no-options>\n                                            <div\n                                                class=\"text-sm text-gray-500 py-2 px-3\"\n                                            >\n                                                {{\n                                                    counties.length === 0\n                                                        ? \"No counties available\"\n                                                        : \"Type to search...\"\n                                                }}\n                                            </div>\n                                        </template>\n                                    </VueSelect>\n                                    <InputError\n                                        :message=\"form.errors.county_id\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"constituency_id\"\n                                            value=\"Constituency of Member Registration\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <VueSelect\n                                        v-model=\"form.constituency_id\"\n                                        :options=\"constituencies\"\n                                        label=\"name\"\n                                        :reduce=\"\n                                            (constituency) => constituency.id\n                                        \"\n                                        placeholder=\"Select Constituency\"\n                                        class=\"w-full\"\n                                        :class=\"{\n                                            'border-red-500':\n                                                form.errors.constituency_id,\n                                        }\"\n                                        :disabled=\"!form.county_id\"\n                                        :clearable=\"false\"\n                                    >\n                                        <template #no-options>\n                                            <div\n                                                class=\"text-sm text-gray-500 py-2 px-3\"\n                                            >\n                                                {{\n                                                    !form.county_id\n                                                        ? \"Please select a county first\"\n                                                        : \"No constituencies found\"\n                                                }}\n                                            </div>\n                                        </template>\n                                    </VueSelect>\n                                    <InputError\n                                        :message=\"form.errors.constituency_id\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n\n                            <!-- Ward and Enlisting Date (Responsive Grid) -->\n                            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"ward_id\"\n                                            value=\"Ward of Member Registration\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <VueSelect\n                                        v-model=\"form.ward_id\"\n                                        :options=\"wards\"\n                                        label=\"name\"\n                                        :reduce=\"(ward) => ward.id\"\n                                        placeholder=\"Select Ward\"\n                                        class=\"w-full\"\n                                        :class=\"{\n                                            'border-red-500':\n                                                form.errors.ward_id,\n                                        }\"\n                                        :disabled=\"!form.constituency_id\"\n                                        :clearable=\"false\"\n                                    >\n                                        <template #no-options>\n                                            <div\n                                                class=\"text-sm text-gray-500 py-2 px-3\"\n                                            >\n                                                {{\n                                                    !form.constituency_id\n                                                        ? \"Please select a constituency first\"\n                                                        : \"No wards found\"\n                                                }}\n                                            </div>\n                                        </template>\n                                    </VueSelect>\n                                    <InputError\n                                        :message=\"form.errors.ward_id\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                                <div class=\"space-y-2\">\n                                    <div class=\"flex items-center\">\n                                        <InputLabel\n                                            for=\"enlistment_date\"\n                                            value=\"Membership Enlistment Date\"\n                                            class=\"block text-sm font-medium text-gray-700\"\n                                        />\n                                        <i\n                                            class=\"fas fa-star text-red-500 text-xs ml-1\"\n                                        ></i>\n                                    </div>\n                                    <input\n                                        id=\"enlistment_date\"\n                                        type=\"text\"\n                                        :value=\"formatDate(new Date())\"\n                                        readonly\n                                        class=\"block w-full rounded-md shadow-sm sm:text-sm py-2 px-3 border border-gray-300 bg-gray-100 text-gray-500 cursor-not-allowed\"\n                                    />\n                                    <InputError\n                                        :message=\"form.errors.enlistment_date\"\n                                        class=\"mt-1 text-sm text-red-600\"\n                                    />\n                                </div>\n                            </div>\n                        </div>\n\n                        <!-- Step 4: Confirmation -->\n                        <div v-if=\"currentStep === 4\" class=\"space-y-6\">\n                            <h2 class=\"text-base font-medium text-gray-700\">\n                                Step 4: Confirmation\n                            </h2>\n\n                            <!-- Account Information Card -->\n                            <div\n                                class=\"bg-white rounded-lg shadow overflow-hidden border border-gray-200\"\n                            >\n                                <div\n                                    class=\"px-6 py-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center cursor-pointer\"\n                                    @click=\"\n                                        toggleAccordion('account information')\n                                    \"\n                                >\n                                    <h3\n                                        class=\"text-lg font-medium text-gray-900\"\n                                    >\n                                        Account Information\n                                    </h3>\n                                    <i\n                                        class=\"fas fa-chevron-down w-5 h-5 text-gray-500 transform transition-transform duration-200\"\n                                        :class=\"{\n                                            'rotate-180':\n                                                activeAccordion ===\n                                                'account information',\n                                        }\"\n                                    ></i>\n                                </div>\n                                <div\n                                    v-if=\"\n                                        activeAccordion ===\n                                        'account information'\n                                    \"\n                                    class=\"p-6\"\n                                >\n                                    <dl class=\"space-y-4\">\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Name of Member\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    form.surname +\n                                                        \" \" +\n                                                        form.other_name ||\n                                                    \"Not specified\"\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                ID/Passport No.\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    form.identification_number ||\n                                                    \"Not specified\"\n                                                }}\n                                                - ({{\n                                                    form.identification_type ===\n                                                    \"national_identification_number\"\n                                                        ? \"National Identification Number\"\n                                                        : \"Passport Number\"\n                                                }})\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Party Membership Number\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    form.party_membership_number ||\n                                                    \"Not specified\"\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Date of Birth\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    form.date_of_birth ||\n                                                    \"Not specified\"\n                                                }}\n                                            </dd>\n                                        </div>\n                                    </dl>\n                                </div>\n                            </div>\n\n                            <!-- Personal Information Card -->\n                            <div\n                                class=\"bg-white rounded-lg shadow overflow-hidden border border-gray-200\"\n                            >\n                                <div\n                                    class=\"px-6 py-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center cursor-pointer\"\n                                    @click=\"\n                                        toggleAccordion('personal information')\n                                    \"\n                                >\n                                    <h3\n                                        class=\"text-lg font-medium text-gray-900\"\n                                    >\n                                        Personal Information\n                                    </h3>\n                                    <i\n                                        class=\"fas fa-chevron-down w-5 h-5 text-gray-500 transform transition-transform duration-200\"\n                                        :class=\"{\n                                            'rotate-180':\n                                                activeAccordion ===\n                                                'personal information',\n                                        }\"\n                                    ></i>\n                                </div>\n                                <div\n                                    v-if=\"\n                                        activeAccordion ===\n                                        'personal information'\n                                    \"\n                                    class=\"p-6\"\n                                >\n                                    <dl class=\"space-y-4\">\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Sex\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    genderDisplayName ||\n                                                    \"Not specified\"\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Ethnicity\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    getItemName(\n                                                        form.ethnicity_id,\n                                                        ethnicities\n                                                    )\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Religion\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    getItemName(\n                                                        form.religion_id,\n                                                        religions\n                                                    )\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Are you a PWD\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    form.disability_status\n                                                        ? \"Yes\"\n                                                        : \"No\"\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            v-if=\"form.disability_status\"\n                                            class=\"sm:grid sm:grid-cols-3 sm:gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                NCPWD Number\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    form.ncpwd_number ||\n                                                    \"Not specified\"\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Member's Mobile No.\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    form.telephone ||\n                                                    \"Not specified\"\n                                                }}\n                                            </dd>\n                                        </div>\n                                    </dl>\n                                </div>\n                            </div>\n\n                            <div\n                                class=\"bg-white rounded-lg shadow overflow-hidden border border-gray-200\"\n                            >\n                                <div\n                                    class=\"px-6 py-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center cursor-pointer\"\n                                    @click=\"\n                                        toggleAccordion(\n                                            'location and enlisting information'\n                                        )\n                                    \"\n                                >\n                                    <h3\n                                        class=\"text-lg font-medium text-gray-900\"\n                                    >\n                                        Location and Enlisting Information\n                                    </h3>\n                                    <i\n                                        class=\"fas fa-chevron-down w-5 h-5 text-gray-500 transform transition-transform duration-200\"\n                                        :class=\"{\n                                            'rotate-180':\n                                                activeAccordion ===\n                                                'location and enlisting information',\n                                        }\"\n                                    ></i>\n                                </div>\n                                <div\n                                    v-if=\"\n                                        activeAccordion ===\n                                        'location and enlisting information'\n                                    \"\n                                    class=\"p-6\"\n                                >\n                                    <dl class=\"space-y-4\">\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                County of Member Registration\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    getLocationName(\n                                                        form.county_id,\n                                                        counties\n                                                    )\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Constituency of Member\n                                                Registration\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    getLocationName(\n                                                        form.constituency_id,\n                                                        constituencies\n                                                    )\n                                                }}\n                                            </dd>\n                                        </div>\n                                        <div\n                                            class=\"grid grid-cols-1 sm:grid-cols-3 gap-4\"\n                                        >\n                                            <dt\n                                                class=\"text-sm font-medium text-gray-500\"\n                                            >\n                                                Ward of Member Registration\n                                            </dt>\n                                            <dd\n                                                class=\"mt-1 text-sm text-gray-900 sm:col-span-2\"\n                                            >\n                                                {{\n                                                    getLocationName(\n                                                        form.ward_id,\n                                                        wards\n                                                    )\n                                                }}\n                                            </dd>\n                                        </div>\n                                    </dl>\n                                </div>\n                            </div>\n\n                            <!-- Terms and Affirmation -->\n                            <div\n                                class=\"p-4 sm:p-6 bg-white rounded-lg shadow border border-gray-200\"\n                            >\n                                <div\n                                    class=\"flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-4\"\n                                >\n                                    <div class=\"flex items-start pt-1\">\n                                        <Checkbox\n                                            id=\"terms\"\n                                            v-model:checked=\"form.terms\"\n                                            required\n                                            class=\"mt-0.5\"\n                                        />\n                                    </div>\n                                    <div class=\"text-sm flex-1\">\n                                        <InputLabel\n                                            for=\"terms\"\n                                            class=\"font-medium text-gray-700 block\"\n                                        >\n                                            <div class=\"flex flex-wrap\">\n                                                <span class=\"mr-1 w-full\">\n                                                    I, the undersigned, do\n                                                    hereby\n                                                    affirm/declare/confirm/verify\n                                                    that I am not a registered\n                                                    member of any other\n                                                    registered political party\n                                                    in Kenya. By signing up, I\n                                                    agree to the\n                                                    <a\n                                                        :href=\"\n                                                            route(\n                                                                'frontend.terms-and-conditions'\n                                                            )\n                                                        \"\n                                                        target=\"_blank\"\n                                                        class=\"text-emerald-600 hover:text-emerald-500 hover:underline underline-offset-4 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-emerald-500 rounded\"\n                                                    >\n                                                        Terms of Service\n                                                    </a>\n                                                    <span class=\"mx-1\"\n                                                        >and</span\n                                                    >\n                                                    <a\n                                                        :href=\"\n                                                            route(\n                                                                'frontend.privacy-policy'\n                                                            )\n                                                        \"\n                                                        target=\"_blank\"\n                                                        class=\"text-emerald-600 hover:text-emerald-500 hover:underline underline-offset-4 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-emerald-500 rounded\"\n                                                    >\n                                                        Privacy Policy\n                                                    </a>\n                                                    and affirm that all\n                                                    information provided is true\n                                                    and accurate.\n                                                </span>\n                                            </div>\n                                        </InputLabel>\n                                        <p\n                                            class=\"text-xs text-gray-500 mt-2 sm:mt-1\"\n                                        >\n                                            You must agree to the terms of\n                                            service and our privacy policy to\n                                            create an account.\n                                        </p>\n                                    </div>\n                                </div>\n                                <InputError\n                                    :message=\"form.errors.terms\"\n                                    class=\"mt-1 text-sm text-red-600\"\n                                />\n                            </div>\n\n                            <!-- reCAPTCHA Component -->\n                            <div class=\"mt-6\">\n                                <ReCaptcha\n                                    action=\"register\"\n                                    :site-key=\"$page.props.recaptchaSiteKey\"\n                                    @captcha-response=\"setCaptchaResponse\"\n                                />\n                                <InputError\n                                    :message=\"\n                                        form.errors['g-recaptcha-response']\n                                    \"\n                                    class=\"mt-1 text-sm text-red-600\"\n                                />\n                            </div>\n                        </div>\n\n                        <!-- Shared Navigation Buttons -->\n                        <div class=\"flex items-center justify-between pt-6\">\n                            <button\n                                v-if=\"currentStep > 1\"\n                                type=\"button\"\n                                @click=\"prevStep\"\n                                class=\"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150\"\n                                :disabled=\"currentStep === 1 || isSubmitting\"\n                                :aria-busy=\"isSubmitting\"\n                            >\n                                <i\n                                    v-if=\"isSubmitting\"\n                                    class=\"fas fa-spinner fa-spin mr-2 text-gray-700\"\n                                ></i>\n                                {{\n                                    isSubmitting ? \"Processing...\" : \"Previous\"\n                                }}\n                            </button>\n                            <div v-else class=\"w-24\"></div>\n\n                            <button\n                                type=\"submit\"\n                                class=\"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-75 disabled:cursor-not-allowed\"\n                                :disabled=\"\n                                    !canProceedToNextStep || isSubmitting\n                                \"\n                                :aria-busy=\"isSubmitting\"\n                            >\n                                <i\n                                    v-if=\"form.processing\"\n                                    class=\"fas fa-spinner fa-spin mr-2\"\n                                ></i>\n                                <template v-else>\n                                    <span class=\"hidden sm:inline\">\n                                        {{\n                                            currentStep === 4\n                                                ? \"Submit Application\"\n                                                : currentStep === 1\n                                                ? \"Start: With Personal Information\"\n                                                : \"Next: \" + nextStepDescription\n                                        }}\n                                    </span>\n                                    <span class=\"sm:hidden\">{{\n                                        currentStep === 4 ? \"Submit\" : \"Next\"\n                                    }}</span>\n                                    <i\n                                        :class=\"\n                                            currentStep === 4\n                                                ? 'fas fa-check ml-2'\n                                                : 'fas fa-arrow-right ml-2'\n                                        \"\n                                    ></i>\n                                </template>\n                            </button>\n                        </div>\n\n                        <!-- Progress Bar -->\n                        <div class=\"mt-6\">\n                            <div class=\"flex items-center justify-between mb-1\">\n                                <span class=\"text-sm font-medium text-gray-700\">\n                                    {{ Math.round((currentStep / 4) * 100) }}%\n                                    Complete\n                                </span>\n                            </div>\n                            <div class=\"w-full bg-gray-200 rounded-full h-2.5\">\n                                <div\n                                    class=\"bg-emerald-600 h-2.5 rounded-full transition-all duration-300\"\n                                    :style=\"{\n                                        width: `${(currentStep / 4) * 100}%`,\n                                    }\"\n                                ></div>\n                            </div>\n                        </div>\n\n                        <!-- Sign In Link -->\n                        <div class=\"mt-6\">\n                            <p\n                                class=\"text-sm font-light text-gray-500 dark:text-gray-400\"\n                            >\n                                Already have an account?\n                                <Link\n                                    :href=\"route('login')\"\n                                    class=\"text-emerald-600 hover:text-emerald-500 font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 rounded\"\n                                >\n                                    Sign in\n                                </Link>\n                            </p>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n"],"names":["totalSteps","props","__props","otpConfig","computed","_a","currentStep","ref","activeAccordion","activeRegistrationSection","toggleSection","section","handleUssdClick","showToast","handleIppmsClick","handleECitizenClick","nextStepDescription","toggleAccordion","type","title","message","toast","constituencies","wards","genders","ethnicities","religions","counties","_b","today","form","useForm","isSubmitting","setCaptchaResponse","response","watch","newCountyId","filtered","_c","c","newConstituencyId","w","newStatus","validateStep","step","nameRegex","_d","_e","nextStep","isValid","prevStep","handleSubmit","submit","sendOtp","Swal","otpAttempts","cleanupOtpTimer","expTime","otpExpirationTime","axios","showOtpVerificationModal","error","secondsLeft","timeMatch","timerInterval","timerElement","maxOtpAttempts","otpTimerInterval","formatTimeRemaining","endTime","diffInSeconds","minutes","seconds","otp","updateTimerDisplay","now","timeLeft","otpTimerEl","timerMessageEl","expiredMessageEl","otpInput","confirmButton","isExpired","formattedTime","lastUpdate","animationFrameId","updateLoop","timestamp","result","verifyOtp","i","errors","errorMessage","getLocationName","id","locations","location","loc","toTitleCase","getItemName","items","item","str","match","formatDate","date","d","year","month","day","genderDisplayName","canProceedToNextStep","_createVNode","_unref","Head","_createElementVNode","_hoisted_1","_hoisted_2","AuthenticationCardLogo","_hoisted_3","_hoisted_4","_hoisted_5","_openBlock","_createElementBlock","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_cache","_normalizeClass","_withDirectives","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_withModifiers","args","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","Checkbox","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","InputLabel","TextInput","$event","InputError","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_vModelSelect","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","VueSelect","option","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_vModelRadio","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","county","_hoisted_74","_toDisplayString","_hoisted_75","_hoisted_76","constituency","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","ward","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","_hoisted_113","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_117","_hoisted_118","_hoisted_119","_hoisted_120","_hoisted_121","_hoisted_122","_hoisted_123","_hoisted_124","_hoisted_125","_hoisted_126","route","_hoisted_127","_hoisted_128","_hoisted_129","ReCaptcha","$page","_hoisted_130","_hoisted_132","_createTextVNode","_hoisted_133","_hoisted_135","_Fragment","_hoisted_136","_hoisted_137","_hoisted_138","_hoisted_139","_hoisted_140","_hoisted_141","_normalizeStyle","_hoisted_142","_hoisted_143","Link"],"mappings":"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"}