import{K as $e,A as Z,u as he,d as p,B as v,e as d,o as a,b as n,f as O,w as m,g as l,h as c,n as A,a as i,y as b,c as Te,z as q,G as Ie,k as K,F as S,i as B,t as V,D as $,l as Le,N as ze,S as y,O as Ve,P as De}from"./app-cPjqwImF.js";import{_ as Ne}from"./ActionMessage-Cx1IFcc-.js";import{_ as Ue}from"./FormSection-DuNH9H1W.js";import{a as g,_ as E}from"./TextInput-BEj1NlA7.js";import{_ as f}from"./InputLabel-hXHGZ5b4.js";import{_ as Me}from"./PrimaryButton-Po2rAFp5.js";import{_ as Ce}from"./SecondaryButton-Dx3Ve6ex.js";import"./SectionTitle-DqdAH_fG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const je={key:0,class:"col-span-6 sm:col-span-4"},Ae={class:"mt-2"},qe=["src","alt"],Fe={class:"mt-2"},Re={class:"col-span-6 space-y-4"},He={class:"border rounded-lg overflow-hidden dark:border-gray-700"},We={class:"p-6 bg-white dark:bg-gray-900"},Ke={class:"grid grid-cols-6 gap-6"},Ge={class:"col-span-6 sm:col-span-3"},Ye={class:"col-span-6 sm:col-span-3"},Je={class:"col-span-6 sm:col-span-3"},Qe={class:"col-span-6 sm:col-span-3"},Xe=["value","selected"],Ze={class:"col-span-6 sm:col-span-3"},et=["value","selected"],tt={class:"col-span-6 sm:col-span-3"},it=["value","selected"],ot={class:"border rounded-lg overflow-hidden dark:border-gray-700"},st={class:"p-6 bg-white dark:bg-gray-900"},lt={class:"grid grid-cols-6 gap-6"},nt={class:"col-span-6 sm:col-span-3"},rt={class:"col-span-6 sm:col-span-3"},at={class:"col-span-6 sm:col-span-3"},dt={class:"col-span-6 sm:col-span-3"},ut={class:"border rounded-lg overflow-hidden dark:border-gray-700"},ct={class:"p-6 bg-white dark:bg-gray-900"},mt={class:"grid grid-cols-6 gap-6"},pt={class:"col-span-6 sm:col-span-3"},gt={key:0,class:"mt-2"},ft={class:"text-xs text-gray-600 dark:text-gray-400"},_t={class:"text-xs text-green-600 dark:text-green-400 mt-1"},vt={class:"col-span-6 sm:col-span-3"},yt={class:"col-span-6"},bt={class:"col-span-6"},xt={class:"col-span-6 sm:col-span-2"},wt={class:"col-span-6 sm:col-span-2"},kt={class:"col-span-6 sm:col-span-2"},ht={class:"border rounded-lg overflow-hidden dark:border-gray-700"},zt={class:"p-6 bg-white dark:bg-gray-900"},Vt={class:"grid grid-cols-6 gap-6"},Ct={class:"col-span-6 sm:col-span-3"},St=["value"],Pt={class:"col-span-6 sm:col-span-3"},Bt={class:"relative"},Et=["disabled"],Ot=["value"],$t={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},Tt={class:"col-span-6 sm:col-span-3"},It=["disabled"],Lt=["value"],Dt={class:"col-span-6 sm:col-span-3"},Nt={class:"relative"},Ut=["disabled"],Mt=["value"],jt={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},At={class:"col-span-6 sm:col-span-3"},qt={class:"relative"},Ft=["disabled"],Rt=["value"],Ht={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},Wt={class:"col-span-6 sm:col-span-3"},Kt={class:"relative"},Gt=["disabled"],Yt=["value"],Jt={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},Qt={class:"col-span-6 sm:col-span-3"},Xt={class:"relative"},Zt=["disabled"],ei=["value"],ti={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},ii={class:"col-span-6 sm:col-span-3"},oi={class:"relative"},si=["disabled"],li=["value"],ni={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},ri={class:"col-span-6 sm:col-span-3"},ai={class:"relative"},di=["disabled"],ui=["value"],ci={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},mi={key:0,class:"fixed z-50 inset-0 overflow-y-auto","aria-labelledby":"otp-modal-title",role:"dialog","aria-modal":"true"},pi={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},gi={class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-6 pt-5 pb-6 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-md sm:w-full sm:p-8 relative"},fi=["disabled"],_i={class:"sm:flex sm:items-start"},vi={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},yi={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100",id:"otp-modal-title"},bi={class:"mt-4"},xi={class:"text-sm text-gray-600 dark:text-gray-300"},wi={class:"block font-medium text-gray-900 dark:text-white mt-1"},ki={class:"mt-6"},hi={class:"flex justify-between space-x-3"},zi=["onUpdate:modelValue","onInput","onKeydown","disabled"],Vi={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-400"},Ci={class:"mt-4 text-center"},Si={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},Pi={class:"font-medium"},Bi=["disabled"],Ei={class:"mt-6 sm:mt-8 sm:flex sm:flex-row-reverse"},Oi=["disabled"],$i={key:0},Ti={key:1,class:"flex items-center"},Ii=["disabled"],Hi={__name:"UpdateProfileInformationForm",props:{},setup(Li){const{props:G}=$e(),w=Z(()=>{var s;return((s=G==null?void 0:G.auth)==null?void 0:s.user)||null}),T=Z(()=>{var s;return((s=w.value)==null?void 0:s.profile)||{}}),de=Z(()=>{var s;return((s=w.value)==null?void 0:s.citizen)||{}}),t=he({_method:"PUT",profile:{surname:"",other_name:"",email:"",photo:null,date_of_birth:"",gender:"",ncpwd_number:"",ethnicity_id:"",religion_id:"",telephone:"",address_line_1:"",address_line_2:"",city:"",state:"",country:""},citizen:{national_identification_number:"",passport_number:"",driver_license_number:"",county_id:"",sub_county_id:"",constituency_id:"",ward_id:"",location_id:"",village_id:"",polling_center_id:"",polling_station_id:"",polling_stream_id:""}},{resetOnSuccess:!1,rules:{"citizen.national_identification_number":[(s,e)=>!s&&!e.citizen.passport_number?"Either National Identification Number or Passport Number is required":!0],"citizen.passport_number":[(s,e)=>!s&&!e.citizen.national_identification_number?"Either Passport Number or National Identification Number is required":!0]}}),I={ttl:300,rate_limit:60,attempts_limit:5},L=p(0),U=p(null);let Y=null;const M=p(!1),F=p(!1),x=he({otp:"",field_to_verify:"",verification_value:""}),ue=s=>{const o=Math.max(0,Math.floor((s-new Date)/1e3)),r=Math.floor(o/60),h=o%60;return{formatted:`${r}:${h.toString().padStart(2,"0")}`,isExpired:o<=0}},Se=s=>{let e=s.target.value.replace(/\D/g,"");e=e.substring(0,10),e.length>6?e=e.replace(/^(\d{3})(\d{3})(\d+)$/,"$1 $2 $3"):e.length>3&&(e=e.replace(/^(\d{3})(\d+)$/,"$1 $2")),t.telephone=e},J=()=>{Y&&(clearInterval(Y),Y=null)},ce=()=>{let s=!1,e=0,o=null;if(!U.value){const r=new Date;r.setSeconds(r.getSeconds()+I.ttl),U.value=r}J(),y.fire({title:"Verification Required",html:`
            <p class="mb-4">We've sent a 6-digit verification code to your ${x.field_to_verify==="email"?"email":"phone number"}: <strong>${x.new_value}</strong></p>
            <p class="mb-4 text-sm text-gray-600">
                This code will expire in 
                <span id="otp-timer" class="font-medium">${ue(U.value).formatted}</span>
            </p>
            <div class="flex flex-col items-center">
                <input id="swal-otp-input" class="swal2-input w-full text-center" placeholder="Enter 6-digit code" maxlength="6" type="text">
                <div class="text-sm text-gray-500 mt-2">
                    Didn't receive the code?
                    <button type="button" id="resend-otp-btn" class="text-green-600 hover:text-green-800">Resend</button>
                    <span id="resend-countdown" class="hidden ml-1 text-gray-500"></span>
                </div>
                <div class="text-xs text-gray-500 mt-1">
                    Attempts remaining: <span class="font-medium">${I.attempts_limit-L.value}</span> of ${I.attempts_limit}
                </div>
                ${L.value>0?`
                <div class="text-xs text-red-500 mt-1">
                    ${I.attempts_limit-L.value===0?"No attempts left. ":""}${L.value} failed attempt${L.value>1?"s":""}.
                </div>
                `:""}
            </div>
        `,showCancelButton:!0,confirmButtonText:"Verify",confirmButtonColor:"#10b981",cancelButtonText:"Cancel",allowOutsideClick:!1,preConfirm:()=>{const h=document.getElementById("swal-otp-input").value;return!h||h.length!==6?(y.showValidationMessage("Please enter the 6-digit verification code"),!1):h},didOpen:()=>{const r=document.getElementById("resend-otp-btn"),h=document.getElementById("resend-countdown"),z=document.getElementById("otp-timer");if(z){const u=()=>{const{formatted:_,isExpired:C}=ue(U.value);z.textContent=_,_.startsWith("0:")||C?(z.classList.add("text-red-500"),z.classList.remove("text-gray-600")):(z.classList.remove("text-red-500"),z.classList.add("text-gray-600")),C&&(z.textContent="expired",z.classList.add("font-bold"))};u(),Y=setInterval(u,1e3)}const k=()=>{s?(r.disabled=!0,r.classList.remove("text-green-600","hover:text-green-800"),r.classList.add("text-gray-400","cursor-not-allowed"),h.classList.remove("hidden"),h.textContent=`(${e}s)`):(r.disabled=!1,r.classList.add("text-green-600","hover:text-green-800"),r.classList.remove("text-gray-400","cursor-not-allowed"),h.classList.add("hidden"))};r.addEventListener("click",async()=>{var u,_,C;if(!s)try{await me(x.field_to_verify,x.new_value)}catch(P){if((C=(_=(u=P.response)==null?void 0:u.data)==null?void 0:_.message)!=null&&C.includes("wait")){const ae=P.response.data.message.match(/wait (\d+) (?:seconds|second)/i);e=ae&&ae[1]?parseInt(ae[1]):I.rate_limit,s=!0,k(),o=setInterval(()=>{e-=1,k(),e<=0&&(clearInterval(o),s=!1,k())},1e3)}}})},willClose:()=>{o&&clearInterval(o),J()}}).then(async r=>{r.isConfirmed&&await pe(r.value)})},me=async(s,e)=>{var o,r,h,z;try{if(!s||!e){Q("error","Validation Error",`${s==="email"?"Email":"Phone number"} is required for verification`);return}y.fire({title:"Sending OTP",text:`Please wait while we send an OTP to your ${s==="email"?"email":"phone number"}...`,allowOutsideClick:!1,didOpen:()=>{y.showLoading()}}),L.value=0,J();const k=new Date;k.setSeconds(k.getSeconds()+I.ttl),U.value=k;const u={};s==="email"?u.email=e:s==="telephone"&&(u.telephone=e);const _=await axios.post(route("auth.request-otp"),u);if(_.data.status==="success")x.verification_id=_.data.verification_id,x.field_to_verify=s,x.new_value=e,ce();else throw new Error(_.data.message||"Failed to send OTP. Please try again.")}catch(k){if(console.error("OTP send error:",k),(r=(o=k.response)==null?void 0:o.data)!=null&&r.message&&k.response.data.message.includes("wait")){let u=I.rate_limit;const _=k.response.data.message.match(/wait (\d+) (?:seconds|second)/i);_&&_[1]&&(u=parseInt(_[1]));const C=setInterval(()=>{u-=1;const P=document.getElementById("otp-timer");P&&(P.textContent=`${u}`),u<=0&&(clearInterval(C),y.close())},1e3);y.fire({icon:"warning",title:"Rate Limited",html:`
                    <p>You must wait before requesting another OTP.</p>
                    <div class="mt-4 text-center">
                        <p>Try again in <span id="otp-timer" class="font-bold text-lg">${u}</span> seconds</p>
                    </div>
                `,showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#10b981",willClose:()=>{clearInterval(C)}})}else y.fire({icon:"error",title:"OTP Error",text:((z=(h=k.response)==null?void 0:h.data)==null?void 0:z.message)||"Failed to send OTP. Please try again."})}},pe=async s=>{var e,o,r,h,z,k;if(U.value&&new Date>U.value){y.fire({icon:"error",title:"OTP Expired",text:"The verification code has expired. Please request a new one.",confirmButtonColor:"#10b981"});return}if(L.value>=I.attempts_limit){y.fire({icon:"error",title:"Maximum Attempts Reached",text:"You've exceeded the maximum number of verification attempts. Please request a new OTP.",confirmButtonColor:"#10b981"});return}L.value+=1;try{y.fire({title:"Verifying OTP",text:"Please wait while we verify your OTP...",allowOutsideClick:!1,didOpen:()=>{y.showLoading()}});const u={otp:s};x.field_to_verify==="email"?u.email=x.new_value:x.field_to_verify==="telephone"&&(u.telephone=x.new_value);const _=await axios.post(route("auth.verify-otp"),u);if(_.data.status==="success")L.value=0,x.field_to_verify==="email"?(t.email=x.new_value,t.email_verified_at=new Date().toISOString(),t.clearErrors("email")):x.field_to_verify==="telephone"&&(t.telephone=x.new_value,t.telephone_verified_at=new Date().toISOString(),t.clearErrors("telephone")),F.value=!1,x.reset(),J(),y.fire({icon:"success",title:"Verification Successful",text:`Your ${x.field_to_verify==="email"?"email address":"telephone number"} has been verified successfully.`,confirmButtonColor:"#10b981"}),(e=_.data.data)!=null&&e.accessToken&&(window.localStorage.setItem("auth_token",_.data.data.accessToken),axios.defaults.headers.common.Authorization=`Bearer ${_.data.data.accessToken}`,await Ve.reload({only:["user"]})),j.value&&(j.value=!1,await fe());else throw new Error(_.data.message||"Invalid OTP. Please try again.")}catch(u){console.error("OTP verification error:",u),y.fire({icon:"error",title:"Verification Failed",html:`
                <p>${((r=(o=u.response)==null?void 0:o.data)==null?void 0:r.message)||"Failed to verify OTP. Please try again."}</p>
                ${(k=(z=(h=u.response)==null?void 0:h.data)==null?void 0:z.message)!=null&&k.includes("attempts exceeded")?`<p class="mt-2 text-sm">You have exceeded the maximum of ${I.attempts_limit} attempts. Please request a new OTP.</p>`:""}
            `,confirmButtonColor:"#10b981"}).then(()=>{L.value<I.attempts_limit&&ce()})}},j=p(!1),Q=(s,e,o)=>{y.fire({toast:!0,position:"top-end",icon:s,title:e,text:o,showConfirmButton:!1,timer:3e3,timerProgressBar:!0})};v(T,s=>{s&&Object.keys(s).forEach(e=>{e in t.profile&&(t.profile[e]=s[e])})},{immediate:!0,deep:!0}),v(de,s=>{s&&Object.keys(s).length>0&&Object.keys(s).forEach(e=>{e in t.citizen&&(t.citizen[e]=s[e])})},{immediate:!0,deep:!0}),v(T,s=>{if(s){t.profile.surname=s.last_name||null,t.profile.other_name=(s.first_name||"")+(s.middle_name?` ${s.middle_name}`:""),t.profile.email=s.email||w.value.email;const e=s.date_of_birth||null;if(e){const o=new Date(e);t.profile.date_of_birth=isNaN(o.getTime())?"":o.toISOString().split("T")[0]}else t.profile.date_of_birth="";t.profile.gender=s.gender||null,t.profile.ncpwd_number=s.ncpwd_number||null,t.profile.ethnicity_id=s.ethnicity_id||null,t.profile.religion_id=s.religion_id||null,t.profile.telephone=s.telephone||null,t.profile.address_line_1=s.address_line_1||null,t.profile.address_line_2=s.address_line_2||null,t.profile.city=s.city||null,t.profile.state=s.state||null,t.profile.country=s.country||null}},{immediate:!0,deep:!0}),v(de,s=>{s&&Object.keys(s).length>0&&(console.log("Updating citizen form data:",s),t.citizen.national_identification_number=s.national_identification_number||null,t.citizen.passport_number=s.passport_number||null,t.citizen.driver_license_number=s.driver_license_number||null,t.citizen.county_id=s.county_id||null,t.citizen.sub_county_id=s.sub_county_id||null,t.citizen.constituency_id=s.constituency_id||null,t.citizen.ward_id=s.ward_id||null,t.citizen.location_id=s.location_id||null,t.citizen.village_id=s.village_id||null,t.citizen.polling_center_id=s.polling_center_id||null,t.citizen.polling_station_id=s.polling_station_id||null,t.citizen.polling_stream_id=s.polling_stream_id||null,console.log("Updated form.citizen:",t.citizen))},{immediate:!0,deep:!0});const ge=p(null),R=p(null),H=p(null),fe=async(s=!1)=>{var r,h,z,k;const e=(w==null?void 0:w.email)&&t.profile.email!==w.email,o=(T==null?void 0:T.telephone)&&t.profile.telephone!==T.telephone;if(!s&&(j.value||e||o)){j.value=!0;let u="",_="",C="";if(o?(u="telephone",T!=null&&T.telephone?(_=T.telephone,C=`We'll send a verification code to your current number <strong>${T.telephone}</strong> to confirm this change.`):j.value=!1):e&&(w!=null&&w.email)&&(u="email",_=w.email,C=`We'll send a verification code to <strong>${w.email}</strong> to confirm your email address change.`),u)try{const P=await y.fire({title:"Verify "+(u==="email"?"Email Address":"Phone Number"),html:C,icon:"info",showCancelButton:!0,confirmButtonText:"Send Verification Code",cancelButtonText:"Cancel",reverseButtons:!0,customClass:{confirmButton:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",cancelButton:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300"},buttonsStyling:!1});P.isConfirmed?await me(u,_):P.isDismissed&&(j.value=!1);return}catch(P){console.error("Error in verification flow:",P),Q("error","Verification Error","An error occurred while setting up verification. Please try again."),j.value=!1;return}}try{t.transform(u=>({...u,_method:"PUT"})).post(route("user-profile-information.update"),{onSuccess:()=>{W(),Q("success","Success","Profile updated successfully!"),window.location.reload()},onError:u=>{console.error("Error updating profile:",u),Q("error","Error","Failed to update profile. Please check the form for errors.")},preserveScroll:!0,forceFormData:!0});return}catch(u){console.error("Error updating profile:",u);const _=((h=(r=u.response)==null?void 0:r.data)==null?void 0:h.message)||"Failed to update profile. Please try again.",C=(k=(z=u.response)==null?void 0:z.data)!=null&&k.errors?Object.values(u.response.data.errors).flat()[0]:_;y.fire({toast:!0,position:"top-end",icon:"error",title:C,showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:P=>{P.addEventListener("mouseenter",y.stopTimer),P.addEventListener("mouseleave",y.resumeTimer)}})}},Pe=()=>{ge.value=!0},Be=()=>{H.value.click()},Ee=()=>{const s=H.value.files[0];if(!s)return;if(!s.type.match("image.*")){y.fire({icon:"error",title:"Invalid File Type",text:"Please select an image file (JPEG, PNG, GIF, etc.)",confirmButtonColor:"#10b981"}),W();return}const e=5*1024*1024;if(s.size>e){y.fire({icon:"error",title:"File Too Large",text:"Maximum file size is 5MB. Please choose a smaller file.",confirmButtonColor:"#10b981"}),W();return}const o=new FileReader;o.onload=r=>{R.value=r.target.result,t.profile&&(t.profile.photo=s)},o.readAsDataURL(s)},Oe=()=>{Ve.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{R.value=null,W()}})},W=()=>{var s;(s=H.value)!=null&&s.value&&(H.value.value=null)},D=p("personal");p([]),p([]),p([]),p([]),p([]),p([]),p([]);const _e=p(!1);p(!1);const ve=p(!1),ye=p(!1),be=p(!1),xe=p(!1),we=p(!1),ke=p(!1),N=Z(()=>{var e;return((e=G.formData)==null?void 0:e.locations)||{counties:[],sub_counties:[],constituencies:[],wards:[],locations:[],villages:[],polling_centers:[],polling_stations:[],polling_streams:[]}}),ee=p([]),te=p([]),ie=p([]),oe=p([]),se=p([]),le=p([]),ne=p([]),re=p([]);v(()=>t.citizen.county_id,s=>{var e,o;if(!s){ee.value=[],te.value=[],t.citizen.sub_county_id="",t.citizen.constituency_id="";return}ee.value=((e=N.value.sub_counties)==null?void 0:e.filter(r=>r.county_id==s))||[],te.value=((o=N.value.constituencies)==null?void 0:o.filter(r=>r.county_id==s))||[],t.citizen.sub_county_id="",t.citizen.constituency_id=""}),v(()=>t.citizen.constituency_id,s=>{var e;if(!s){ie.value=[],t.citizen.ward_id="";return}ie.value=((e=N.value.wards)==null?void 0:e.filter(o=>o.constituency_id==s))||[],t.citizen.ward_id=""}),v(()=>t.citizen.ward_id,s=>{var e,o;if(!s){oe.value=[],le.value=[],t.citizen.location_id="",t.citizen.polling_center_id="";return}oe.value=((e=N.value.locations)==null?void 0:e.filter(r=>r.ward_id==s))||[],le.value=((o=N.value.polling_centers)==null?void 0:o.filter(r=>r.ward_id==s))||[],t.citizen.location_id="",t.citizen.polling_center_id=""}),v(()=>t.citizen.location_id,s=>{var e;if(!s){se.value=[],t.citizen.village_id="";return}se.value=((e=N.value.villages)==null?void 0:e.filter(o=>o.location_id==s))||[],t.citizen.village_id=""}),v(()=>t.citizen.polling_center_id,s=>{var e;if(!s){ne.value=[],t.citizen.polling_station_id="";return}ne.value=((e=N.value.polling_stations)==null?void 0:e.filter(o=>o.center_id==s))||[],t.citizen.polling_station_id=""}),v(()=>t.citizen.polling_station_id,s=>{var e;if(!s){re.value=[],t.citizen.polling_stream_id="";return}re.value=((e=N.value.polling_streams)==null?void 0:e.filter(o=>o.station_id==s))||[],t.citizen.polling_stream_id=""}),v(()=>t.citizen.county_id,()=>{t.citizen.sub_county_id="",t.citizen.constituency_id="",t.citizen.ward_id="",t.citizen.location_id="",t.citizen.village_id="",t.citizen.polling_center_id="",t.citizen.polling_station_id="",t.citizen.polling_stream_id=""}),v(()=>t.citizen.constituency_id,()=>{t.citizen.ward_id="",t.citizen.location_id="",t.citizen.village_id="",t.citizen.polling_center_id="",t.citizen.polling_station_id="",t.citizen.polling_stream_id=""}),v(()=>t.citizen.ward_id,()=>{t.citizen.location_id="",t.citizen.village_id="",t.citizen.polling_center_id="",t.citizen.polling_station_id="",t.citizen.polling_stream_id=""}),v(()=>t.citizen.location_id,()=>{t.citizen.village_id=""}),v(()=>t.citizen.polling_center_id,()=>{t.citizen.polling_station_id="",t.citizen.polling_stream_id=""}),v(()=>t.citizen.polling_station_id,()=>{t.citizen.polling_stream_id=""}),v(()=>t.citizen.county_id,s=>{t.citizen.sub_county_id="",t.citizen.constituency_id="",t.citizen.ward_id="",t.citizen.location_id="",t.citizen.village_id="",t.citizen.polling_center_id="",t.citizen.polling_station_id="",t.polling_stream_id=""}),v(()=>t.citizen.sub_county_id,s=>{s&&(t.citizen.ward_id="",t.citizen.location_id="",t.citizen.village_id="",t.citizen.polling_center_id="",t.citizen.polling_station_id="",t.citizen.polling_stream_id="")}),v(()=>t.citizen.constituency_id,s=>{t.citizen.ward_id="",t.citizen.location_id="",t.citizen.village_id="",t.citizen.polling_center_id="",t.citizen.polling_station_id="",t.citizen.polling_stream_id=""}),v(()=>t.citizen.ward_id,s=>{t.citizen.location_id="",t.citizen.village_id="",t.citizen.polling_center_id="",t.citizen.polling_station_id="",t.citizen.polling_stream_id=""}),v(()=>t.citizen.location_id,s=>{s&&(t.citizen.village_id="")}),v(()=>t.citizen.polling_center_id,s=>{t.citizen.polling_station_id="",t.citizen.polling_stream_id=""}),v(()=>t.citizen.polling_station_id,s=>{s&&(t.citizen.polling_stream_id="")});const X=s=>{D.value=D.value===s?null:s};return(s,e)=>(a(),d(S,null,[n(Ue,{onSubmitted:fe},{title:m(()=>e[36]||(e[36]=[c(" Profile Information ")])),description:m(()=>e[37]||(e[37]=[c(" Update your personal, contact, and identification information. Ensure all details are accurate and up-to-date. ")])),form:m(()=>[s.$page.props.jetstream.managesProfilePhotos?(a(),d("div",je,[i("input",{id:"photo",ref_key:"photoInput",ref:H,type:"file",class:"hidden",onChange:Ee},null,544),n(f,{for:"photo",value:"Profile Image"}),b(i("div",Ae,[i("img",{src:w.value.profile_photo_url,alt:w.value.name,class:"rounded-full size-20 object-cover"},null,8,qe)],512),[[q,!R.value]]),b(i("div",Fe,[i("span",{class:"block rounded-full size-20 bg-cover bg-no-repeat bg-center",style:Ie("background-image: url('"+R.value+"');")},null,4)],512),[[q,R.value]]),n(Ce,{class:"mt-2 me-2",type:"button",onClick:K(Be,["prevent"])},{default:m(()=>e[38]||(e[38]=[c(" Select A New Photo ")])),_:1,__:[38]}),w.value.profile_photo_path?(a(),Te(Ce,{key:0,type:"button",class:"mt-2",onClick:K(Oe,["prevent"])},{default:m(()=>e[39]||(e[39]=[c(" Remove Photo ")])),_:1,__:[39]})):O("",!0),n(g,{message:l(t).errors.photo,class:"mt-2"},null,8,["message"])])):O("",!0),i("div",Re,[i("div",He,[i("button",{type:"button",onClick:e[0]||(e[0]=o=>X("personal")),class:"w-full px-6 py-4 text-left font-medium text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex justify-between items-center"},[e[41]||(e[41]=i("span",null,"Personal Information",-1)),(a(),d("svg",{class:A(["w-5 h-5 transition-transform duration-200",{"rotate-180":D.value==="personal"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e[40]||(e[40]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),b(i("div",We,[i("div",Ke,[i("div",Ge,[n(f,{for:"surname"},{default:m(()=>e[42]||(e[42]=[c(" Surname "),i("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[42]}),n(E,{id:"surname",modelValue:l(t).profile.surname,"onUpdate:modelValue":e[1]||(e[1]=o=>l(t).profile.surname=o),type:"text",class:"mt-1 block w-full",placeholder:"Enter your surname",required:"",autocomplete:"family-name"},null,8,["modelValue"]),n(g,{message:l(t).errors.surname,class:"mt-2"},null,8,["message"])]),i("div",Ye,[n(f,{for:"other_name"},{default:m(()=>e[43]||(e[43]=[c(" Other Name "),i("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[43]}),n(E,{id:"other_name",modelValue:l(t).profile.other_name,"onUpdate:modelValue":e[2]||(e[2]=o=>l(t).profile.other_name=o),type:"text",class:"mt-1 block w-full",placeholder:"Enter your other names",required:"",autocomplete:"given-name"},null,8,["modelValue"]),n(g,{message:l(t).errors["profile.other_name"],class:"mt-2"},null,8,["message"])]),i("div",Je,[n(f,{for:"date_of_birth"},{default:m(()=>e[44]||(e[44]=[c(" Date of Birth "),i("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[44]}),n(E,{id:"date_of_birth",modelValue:l(t).profile.date_of_birth,"onUpdate:modelValue":e[3]||(e[3]=o=>l(t).profile.date_of_birth=o),type:"date",class:"mt-1 block w-full",max:new Date().toISOString().split("T")[0],required:""},null,8,["modelValue","max"]),n(g,{message:l(t).errors["profile.date_of_birth"],class:"mt-2"},null,8,["message"])]),i("div",Qe,[n(f,{for:"gender"},{default:m(()=>e[45]||(e[45]=[c(" Gender "),i("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[45]}),b(i("select",{id:"gender","onUpdate:modelValue":e[4]||(e[4]=o=>l(t).profile.gender=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},[e[46]||(e[46]=i("option",{value:""},"Select Gender",-1)),(a(!0),d(S,null,B(s.$page.props.formData.genders,o=>{var r;return a(),d("option",{key:o.id,value:o.id,selected:((r=w.value.profile)==null?void 0:r.gender)===o.id},V(o.name),9,Xe)}),128))],512),[[$,l(t).profile.gender]]),n(g,{message:l(t).errors.gender,class:"mt-2"},null,8,["message"])]),i("div",Ze,[n(f,{for:"ethnicity_id"},{default:m(()=>e[47]||(e[47]=[c(" Ethnicity "),i("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[47]}),b(i("select",{id:"ethnicity_id","onUpdate:modelValue":e[5]||(e[5]=o=>l(t).profile.ethnicity_id=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},[e[48]||(e[48]=i("option",{value:""},"Select Ethnicity",-1)),(a(!0),d(S,null,B(s.$page.props.formData.ethnicities,o=>{var r;return a(),d("option",{key:o.id,value:o.id,selected:((r=w.value.profile)==null?void 0:r.ethnicity_id)===o.id},V(o.name),9,et)}),128))],512),[[$,l(t).profile.ethnicity_id]]),n(g,{message:l(t).errors.ethnicity_id,class:"mt-2"},null,8,["message"])]),i("div",tt,[n(f,{for:"religion_id"},{default:m(()=>e[49]||(e[49]=[c(" Religion "),i("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[49]}),b(i("select",{id:"religion_id","onUpdate:modelValue":e[6]||(e[6]=o=>l(t).profile.religion_id=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},[e[50]||(e[50]=i("option",{value:""},"Select Religion",-1)),(a(!0),d(S,null,B(s.$page.props.formData.religions,o=>{var r;return a(),d("option",{key:o.id,value:o.id,selected:((r=w.value.profile)==null?void 0:r.religion_id)===o.id},V(o.name),9,it)}),128))],512),[[$,l(t).profile.religion_id]]),n(g,{message:l(t).errors.religion_id,class:"mt-2"},null,8,["message"])])])],512),[[q,D.value==="personal"]])]),i("div",ot,[i("button",{type:"button",onClick:e[7]||(e[7]=o=>X("identification")),class:"w-full px-6 py-4 text-left font-medium text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex justify-between items-center"},[e[52]||(e[52]=i("span",null,"Identification Information",-1)),(a(),d("svg",{class:A(["w-5 h-5 transition-transform duration-200",{"rotate-180":D.value==="identification"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e[51]||(e[51]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),b(i("div",st,[i("div",lt,[i("div",nt,[n(f,{for:"national_identification_number"},{default:m(()=>e[53]||(e[53]=[c(" National Identification Number "),i("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1),i("span",{class:"text-xs text-gray-500 font-normal"},"(or Passport Number)",-1)])),_:1,__:[53]}),n(E,{id:"national_identification_number",modelValue:l(t).citizen.national_identification_number,"onUpdate:modelValue":e[8]||(e[8]=o=>l(t).citizen.national_identification_number=o),type:"text",class:"mt-1 block w-full",placeholder:"e.g., 12345678",required:!l(t).citizen.passport_number,autocomplete:"off"},null,8,["modelValue","required"]),n(g,{message:l(t).errors["citizen.national_identification_number"],class:"mt-2"},null,8,["message"])]),i("div",rt,[n(f,{for:"passport_number"},{default:m(()=>e[54]||(e[54]=[c(" Passport Number "),i("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1),i("span",{class:"text-xs text-gray-500 font-normal"},"(or National Identification Number)",-1)])),_:1,__:[54]}),n(E,{id:"passport_number",modelValue:l(t).citizen.passport_number,"onUpdate:modelValue":e[9]||(e[9]=o=>l(t).citizen.passport_number=o),type:"text",class:"mt-1 block w-full",placeholder:"e.g., A1234567",required:!l(t).citizen.national_identification_number,autocomplete:"off"},null,8,["modelValue","required"]),n(g,{message:l(t).errors["citizen.passport_number"],class:"mt-2"},null,8,["message"])]),i("div",at,[n(f,{for:"driver_license_number"},{default:m(()=>e[55]||(e[55]=[c(" Driver's License Number "),i("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[55]}),n(E,{id:"driver_license_number",modelValue:l(t).citizen.driver_license_number,"onUpdate:modelValue":e[10]||(e[10]=o=>l(t).citizen.driver_license_number=o),type:"text",class:"mt-1 block w-full",placeholder:"e.g., DL12345678"},null,8,["modelValue"]),n(g,{message:l(t).errors["citizen.driver_license_number"],class:"mt-2"},null,8,["message"])]),i("div",dt,[n(f,{for:"ncpwd_number"},{default:m(()=>e[56]||(e[56]=[c(" NCPWD Number "),i("span",{class:"text-xs text-gray-500 font-normal"},"(if Applicable)",-1)])),_:1,__:[56]}),n(E,{id:"ncpwd_number",modelValue:l(t).profile.ncpwd_number,"onUpdate:modelValue":e[11]||(e[11]=o=>l(t).profile.ncpwd_number=o),type:"text",class:"mt-1 block w-full",placeholder:"e.g., NCPWD/1234/5678"},null,8,["modelValue"]),n(g,{message:l(t).errors.ncpwd_number,class:"mt-2"},null,8,["message"])])])],512),[[q,D.value==="identification"]])]),i("div",ut,[i("button",{type:"button",onClick:e[12]||(e[12]=o=>X("contact")),class:"w-full px-6 py-4 text-left font-medium text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex justify-between items-center"},[e[58]||(e[58]=i("span",null,"Contact Information",-1)),(a(),d("svg",{class:A(["w-5 h-5 transition-transform duration-200",{"rotate-180":D.value==="contact"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e[57]||(e[57]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),b(i("div",ct,[i("div",mt,[i("div",pt,[n(f,{for:"email"},{default:m(()=>e[59]||(e[59]=[c(" Email Address "),i("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[59]}),n(E,{id:"email",modelValue:l(t).profile.email,"onUpdate:modelValue":e[13]||(e[13]=o=>l(t).profile.email=o),type:"email",class:"mt-1 block w-full",placeholder:"your.email@example.com",autocomplete:"email"},null,8,["modelValue"]),n(g,{message:l(t).errors["profile.email"],class:"mt-2"},null,8,["message"]),s.$page.props.jetstream.hasEmailVerification&&w.value.email_verified_at===null?(a(),d("div",gt,[i("p",ft,[e[61]||(e[61]=c(" Your email is unverified. ")),n(l(Le),{href:s.route("verification.send"),method:"post",as:"button",class:"underline text-xs hover:text-gray-900 dark:hover:text-gray-200",onClick:K(Pe,["prevent"])},{default:m(()=>e[60]||(e[60]=[c(" Resend verification ")])),_:1,__:[60]},8,["href","onClick"])]),b(i("div",_t," Verification link sent! ",512),[[q,ge.value]])])):O("",!0)]),i("div",vt,[n(f,{for:"telephone"},{default:m(()=>e[62]||(e[62]=[c(" Telephone Number "),i("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[62]}),b(i("input",{id:"telephone",name:"telephone","onUpdate:modelValue":e[14]||(e[14]=o=>l(t).profile.telephone=o),type:"tel",class:"border-gray-300 focus:border-green-500 focus:ring-green-500 rounded-md shadow-sm mt-1 block w-full",placeholder:"e.g., 0712345678",required:"",onInput:Se},null,544),[[ze,l(t).profile.telephone]]),n(g,{message:l(t).errors["profile.telephone"],class:"mt-2"},null,8,["message"])]),i("div",yt,[n(f,{for:"address_line_1"},{default:m(()=>e[63]||(e[63]=[c(" Address Line 1 "),i("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[63]}),n(E,{id:"address_line_1",modelValue:l(t).profile.address_line_1,"onUpdate:modelValue":e[15]||(e[15]=o=>l(t).profile.address_line_1=o),type:"text",class:"mt-1 block w-full",placeholder:"e.g., 123 Main Street"},null,8,["modelValue"]),n(g,{message:l(t).errors["profile.address_line_1"],class:"mt-2"},null,8,["message"])]),i("div",bt,[n(f,{for:"address_line_2"},{default:m(()=>e[64]||(e[64]=[c(" Address Line 2 "),i("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[64]}),n(E,{id:"address_line_2",modelValue:l(t).profile.address_line_2,"onUpdate:modelValue":e[16]||(e[16]=o=>l(t).profile.address_line_2=o),type:"text",class:"mt-1 block w-full",placeholder:"e.g., Apartment, suite, etc. (optional)"},null,8,["modelValue"]),n(g,{message:l(t).errors["profile.address_line_2"],class:"mt-2"},null,8,["message"])]),i("div",xt,[n(f,{for:"city"},{default:m(()=>e[65]||(e[65]=[c(" City "),i("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[65]}),n(E,{id:"city",modelValue:l(t).profile.city,"onUpdate:modelValue":e[17]||(e[17]=o=>l(t).profile.city=o),type:"text",class:"mt-1 block w-full",placeholder:"e.g., Nairobi"},null,8,["modelValue"]),n(g,{message:l(t).errors["profile.city"],class:"mt-2"},null,8,["message"])]),i("div",wt,[n(f,{for:"state"},{default:m(()=>e[66]||(e[66]=[c(" State/Province "),i("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[66]}),n(E,{id:"state",modelValue:l(t).profile.state,"onUpdate:modelValue":e[18]||(e[18]=o=>l(t).profile.state=o),type:"text",class:"mt-1 block w-full",placeholder:"e.g., Nairobi"},null,8,["modelValue"]),n(g,{message:l(t).errors["profile.state"],class:"mt-2"},null,8,["message"])]),i("div",kt,[n(f,{for:"country"},{default:m(()=>e[67]||(e[67]=[c(" Country "),i("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[67]}),n(E,{id:"country",modelValue:l(t).profile.country,"onUpdate:modelValue":e[19]||(e[19]=o=>l(t).profile.country=o),type:"text",class:"mt-1 block w-full bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"e.g., Kenya",readonly:""},null,8,["modelValue"]),n(g,{message:l(t).errors["profile.country"],class:"mt-2"},null,8,["message"])])])],512),[[q,D.value==="contact"]])]),i("div",ht,[i("button",{type:"button",onClick:e[20]||(e[20]=o=>X("location")),class:"w-full px-6 py-4 text-left font-medium text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex justify-between items-center"},[e[69]||(e[69]=i("span",null,"Location Information",-1)),(a(),d("svg",{class:A(["w-5 h-5 transition-transform duration-200",{"rotate-180":D.value==="location"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e[68]||(e[68]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),b(i("div",zt,[i("div",Vt,[i("div",Ct,[n(f,{for:"county_id"},{default:m(()=>e[70]||(e[70]=[c(" County "),i("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[70]}),b(i("select",{id:"county_id","onUpdate:modelValue":e[21]||(e[21]=o=>l(t).citizen.county_id=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},[e[71]||(e[71]=i("option",{value:""},"Select County",-1)),(a(!0),d(S,null,B(s.$page.props.formData.locations.counties,o=>(a(),d("option",{key:o.id,value:o.id},V(o.name),9,St))),128))],512),[[$,l(t).citizen.county_id]]),n(g,{message:l(t).errors["citizen.county_id"],class:"mt-2"},null,8,["message"])]),i("div",Pt,[n(f,{for:"sub_county_id"},{default:m(()=>e[72]||(e[72]=[c(" Sub County ")])),_:1,__:[72]}),i("div",Bt,[b(i("select",{id:"sub_county_id","onUpdate:modelValue":e[22]||(e[22]=o=>l(t).citizen.sub_county_id=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).citizen.county_id||_e.value},[e[73]||(e[73]=i("option",{value:""},"Select Sub County",-1)),(a(!0),d(S,null,B(ee.value,o=>(a(),d("option",{key:o.id,value:o.id},V(o.name),9,Ot))),128))],8,Et),[[$,l(t).citizen.sub_county_id]]),_e.value?(a(),d("div",$t,e[74]||(e[74]=[i("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):O("",!0)]),n(g,{message:l(t).errors["citizen.sub_county_id"],class:"mt-2"},null,8,["message"])]),i("div",Tt,[n(f,{for:"constituency_id"},{default:m(()=>e[75]||(e[75]=[c(" Constituency "),i("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[75]}),b(i("select",{id:"constituency_id","onUpdate:modelValue":e[23]||(e[23]=o=>l(t).citizen.constituency_id=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).citizen.county_id,required:""},[e[76]||(e[76]=i("option",{value:""}," Select Constituency ",-1)),(a(!0),d(S,null,B(te.value,o=>(a(),d("option",{key:o.id,value:o.id},V(o.name),9,Lt))),128))],8,It),[[$,l(t).citizen.constituency_id]]),n(g,{message:l(t).errors["citizen.constituency_id"],class:"mt-2"},null,8,["message"])]),i("div",Dt,[n(f,{for:"ward_id"},{default:m(()=>e[77]||(e[77]=[c(" Ward "),i("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[77]}),i("div",Nt,[b(i("select",{id:"ward_id","onUpdate:modelValue":e[24]||(e[24]=o=>l(t).citizen.ward_id=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).citizen.constituency_id||ve.value,required:""},[e[78]||(e[78]=i("option",{value:""},"Select Ward",-1)),(a(!0),d(S,null,B(ie.value,o=>(a(),d("option",{key:o.id,value:o.id},V(o.name),9,Mt))),128))],8,Ut),[[$,l(t).citizen.ward_id]]),ve.value?(a(),d("div",jt,e[79]||(e[79]=[i("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):O("",!0)]),n(g,{message:l(t).errors["citizen.ward_id"],class:"mt-2"},null,8,["message"])]),i("div",At,[n(f,{for:"location_id"},{default:m(()=>e[80]||(e[80]=[c(" Location ")])),_:1,__:[80]}),i("div",qt,[b(i("select",{id:"location_id","onUpdate:modelValue":e[25]||(e[25]=o=>l(t).citizen.location_id=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).citizen.ward_id||ye.value},[e[81]||(e[81]=i("option",{value:""},"Select Location",-1)),(a(!0),d(S,null,B(oe.value,o=>(a(),d("option",{key:o.id,value:o.id},V(o.name),9,Rt))),128))],8,Ft),[[$,l(t).citizen.location_id]]),ye.value?(a(),d("div",Ht,e[82]||(e[82]=[i("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):O("",!0)]),n(g,{message:l(t).errors["citizen.location_id"],class:"mt-2"},null,8,["message"])]),i("div",Wt,[n(f,{for:"village_id"},{default:m(()=>e[83]||(e[83]=[c(" Village ")])),_:1,__:[83]}),i("div",Kt,[b(i("select",{id:"village_id","onUpdate:modelValue":e[26]||(e[26]=o=>l(t).citizen.village_id=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).citizen.location_id||be.value},[e[84]||(e[84]=i("option",{value:""},"Select Village",-1)),(a(!0),d(S,null,B(se.value,o=>(a(),d("option",{key:o.id,value:o.id},V(o.name),9,Yt))),128))],8,Gt),[[$,l(t).citizen.village_id]]),be.value?(a(),d("div",Jt,e[85]||(e[85]=[i("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):O("",!0)]),n(g,{message:l(t).errors["citizen.village_id"],class:"mt-2"},null,8,["message"])]),i("div",Qt,[n(f,{for:"polling_center_id"},{default:m(()=>e[86]||(e[86]=[c(" Polling Center ")])),_:1,__:[86]}),i("div",Xt,[b(i("select",{id:"polling_center_id","onUpdate:modelValue":e[27]||(e[27]=o=>l(t).citizen.polling_center_id=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).citizen.ward_id||xe.value},[e[87]||(e[87]=i("option",{value:""}," Select Polling Center ",-1)),(a(!0),d(S,null,B(le.value,o=>(a(),d("option",{key:o.id,value:o.id},V(o.name),9,ei))),128))],8,Zt),[[$,l(t).citizen.polling_center_id]]),xe.value?(a(),d("div",ti,e[88]||(e[88]=[i("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):O("",!0)]),n(g,{message:l(t).errors["citizen.polling_center_id"],class:"mt-2"},null,8,["message"])]),i("div",ii,[n(f,{for:"polling_station_id"},{default:m(()=>e[89]||(e[89]=[c(" Polling Station ")])),_:1,__:[89]}),i("div",oi,[b(i("select",{id:"polling_station_id","onUpdate:modelValue":e[28]||(e[28]=o=>l(t).citizen.polling_station_id=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).citizen.polling_center_id||we.value},[e[90]||(e[90]=i("option",{value:""}," Select Polling Station ",-1)),(a(!0),d(S,null,B(ne.value,o=>(a(),d("option",{key:o.id,value:o.id},V(o.name),9,li))),128))],8,si),[[$,l(t).citizen.polling_station_id]]),we.value?(a(),d("div",ni,e[91]||(e[91]=[i("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):O("",!0)]),n(g,{message:l(t).errors["citizen.polling_station_id"],class:"mt-2"},null,8,["message"])]),i("div",ri,[n(f,{for:"polling_stream_id"},{default:m(()=>e[92]||(e[92]=[c(" Polling Stream ")])),_:1,__:[92]}),i("div",ai,[b(i("select",{id:"polling_stream_id","onUpdate:modelValue":e[29]||(e[29]=o=>l(t).citizen.polling_stream_id=o),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).citizen.polling_station_id||ke.value},[e[93]||(e[93]=i("option",{value:""}," Select Polling Stream ",-1)),(a(!0),d(S,null,B(re.value,o=>(a(),d("option",{key:o.id,value:o.id},V(o.name),9,ui))),128))],8,di),[[$,l(t).citizen.polling_stream_id]]),ke.value?(a(),d("div",ci,e[94]||(e[94]=[i("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):O("",!0)]),n(g,{message:l(t).errors["citizen.polling_stream_id"],class:"mt-2"},null,8,["message"])])])],512),[[q,D.value==="location"]])])])]),actions:m(()=>[n(Ne,{on:l(t).recentlySuccessful,class:"me-3"},{default:m(()=>e[95]||(e[95]=[c(" Saved. ")])),_:1,__:[95]},8,["on"]),n(Me,{class:A({"opacity-25":l(t).processing}),disabled:l(t).processing},{default:m(()=>e[96]||(e[96]=[c(" Save ")])),_:1,__:[96]},8,["class","disabled"])]),_:1}),F.value?(a(),d("div",mi,[i("div",pi,[i("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:e[30]||(e[30]=K(o=>F.value=!1,["self"]))}),i("div",gi,[i("button",{type:"button",onClick:e[31]||(e[31]=o=>F.value=!1),class:"absolute top-4 right-4 text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200 focus:outline-none",disabled:M.value},e[97]||(e[97]=[i("span",{class:"sr-only"},"Close",-1),i("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,fi),i("div",_i,[e[101]||(e[101]=i("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 dark:bg-indigo-900 sm:mx-0 sm:h-10 sm:w-10"},[i("svg",{class:"h-6 w-6 text-indigo-600 dark:text-indigo-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),i("div",vi,[i("h3",yi," Verify "+V(l(x).field_to_verify==="email"?"Email Address":"Phone Number"),1),i("div",bi,[i("p",xi,[e[98]||(e[98]=c(" We've sent a 6-digit verification code to: ")),i("span",wi,V(l(x).field_to_verify==="email"?l(t).email:s.formatPhoneNumberForDisplay(l(x).new_value)),1)]),i("div",ki,[e[100]||(e[100]=i("label",{for:"otp",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Enter verification code ",-1)),i("div",hi,[(a(),d(S,null,B(6,o=>b(i("input",{key:o,"onUpdate:modelValue":r=>s.otpDigits[o-1]=r,onInput:r=>s.onOtpInput(r,o-1),onKeydown:De(r=>s.onOtpKeyDown(r,o-1),["delete"]),onPaste:e[32]||(e[32]=K(r=>s.onOtpPaste(r),["prevent"])),type:"tel",maxlength:"1",pattern:"[0-9]",inputmode:"numeric",autocomplete:"one-time-code",disabled:M.value,class:A(["w-full h-14 text-2xl text-center font-semibold text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:opacity-50",{"border-red-500":s.otpError}])},null,42,zi),[[ze,s.otpDigits[o-1]]])),64))]),s.otpError?(a(),d("p",Vi,V(s.otpError),1)):O("",!0),i("div",Ci,[s.otpResendEnabled?(a(),d("button",{key:1,type:"button",class:"text-sm font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300 focus:outline-none disabled:opacity-50",onClick:e[33]||(e[33]=(...o)=>s.resendOtp&&s.resendOtp(...o)),disabled:!s.otpResendEnabled||M.value}," Resend code ",8,Bi)):(a(),d("p",Si,[e[99]||(e[99]=c(" Didn't receive a code? Resend in ")),i("span",Pi,V(Math.floor(s.otpCountdown/60))+":"+V((s.otpCountdown%60).toString().padStart(2,"0")),1)]))])])])])]),i("div",Ei,[i("button",{type:"button",class:A(["w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-3 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm transition-colors duration-150",{"opacity-75 cursor-not-allowed":s.otpDigits.join("").length!==6||M.value}]),onClick:e[34]||(e[34]=o=>pe(s.otpDigits.join(""))),disabled:s.otpDigits.join("").length!==6||M.value},[M.value?(a(),d("span",Ti,e[102]||(e[102]=[i("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),c(" Verifying... ")]))):(a(),d("span",$i,"Verify Now"))],10,Oi),i("button",{type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-3 bg-white dark:bg-gray-700 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors duration-150",onClick:e[35]||(e[35]=o=>F.value=!1),disabled:M.value}," Cancel ",8,Ii)]),e[103]||(e[103]=i("div",{class:"mt-4 text-center"},[i("p",{class:"text-xs text-gray-500 dark:text-gray-400"},[c(" Having trouble? Contact support at "),i("a",{href:"mailto:support@forwardkenyaparty.com",class:"text-indigo-600 dark:text-indigo-400 hover:underline"},"support@forwardkenyaparty.com"),c(" or call +254 700 000 000 ")])],-1))])])])):O("",!0)],64))}};export{Hi as default};
