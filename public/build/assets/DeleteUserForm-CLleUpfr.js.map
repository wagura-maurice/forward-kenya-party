{"version":3,"file":"DeleteUserForm-CLleUpfr.js","sources":["../../../resources/js/Pages/Profile/Partials/DeleteUserForm.vue"],"sourcesContent":["<script setup>\nimport { ref } from 'vue';\nimport { useForm } from '@inertiajs/vue3';\nimport ActionSection from '@/Components/ActionSection.vue';\nimport DangerButton from '@/Components/DangerButton.vue';\nimport DialogModal from '@/Components/DialogModal.vue';\nimport InputError from '@/Components/InputError.vue';\nimport SecondaryButton from '@/Components/SecondaryButton.vue';\nimport TextInput from '@/Components/TextInput.vue';\n\nconst confirmingUserDeletion = ref(false);\nconst passwordInput = ref(null);\n\nconst form = useForm({\n    password: '',\n});\n\nconst confirmUserDeletion = () => {\n    confirmingUserDeletion.value = true;\n\n    setTimeout(() => passwordInput.value.focus(), 250);\n};\n\nconst deleteUser = () => {\n    form.delete(route('current-user.destroy'), {\n        preserveScroll: true,\n        onSuccess: () => closeModal(),\n        onError: () => passwordInput.value.focus(),\n        onFinish: () => form.reset(),\n    });\n};\n\nconst closeModal = () => {\n    confirmingUserDeletion.value = false;\n\n    form.reset();\n};\n</script>\n\n<template>\n    <ActionSection>\n        <template #title>\n            Party Membership\n        </template>\n\n        <template #description>\n            Official process to leave Forward Kenya Party\n        </template>\n\n        <template #content>\n            <div class=\"max-w-xl text-sm text-gray-600 dark:text-gray-400 space-y-4\">\n                <p>If you wish to officially leave the Forward Kenya Party, you can initiate the process here. This action will:</p>\n                <ul class=\"list-disc pl-5 space-y-2\">\n                    <li>Remove your access to all party systems and platforms</li>\n                    <li>Withdraw your party membership</li>\n                    <li>Remove your personal information from our active member database</li>\n                </ul>\n                <p>Before proceeding, please ensure you have saved any important information you may need from your account.</p>\n                <p class=\"text-sm text-gray-500 italic\">Note: Certain information may be retained as required by law or for record-keeping purposes.</p>\n            </div>\n\n            <div class=\"mt-5 flex items-center justify-end\">\n                <DangerButton @click=\"confirmUserDeletion\">\n                    Party Membership\n                </DangerButton>\n            </div>\n\n            <!-- Delete Account Confirmation Modal -->\n            <DialogModal :show=\"confirmingUserDeletion\" @close=\"closeModal\">\n                <template #title>\n                    Party Membership\n                </template>\n\n                <template #content>\n                    You are about to initiate the process to leave Forward Kenya Party. This action will:\n                    <ul class=\"list-disc pl-5 mt-2 space-y-1\">\n                        <li>Remove your access to all party systems and platforms</li>\n                        <li>Withdraw your party membership</li>\n                        <li>Remove your personal information from our active member database</li>\n                    </ul>\n                    <p class=\"mt-3\">If you need any assistance or have questions, please contact us at <a href=\"mailto:forwardkenyaparty@gmail.com\" class=\"text-green-600 hover:underline\">forwardkenyaparty@gmail.com</a> before proceeding.</p>\n                    <p class=\"mt-2\">To confirm, please enter your password:</p>\n\n                    <div class=\"mt-4\">\n                        <TextInput\n                            ref=\"passwordInput\"\n                            v-model=\"form.password\"\n                            type=\"password\"\n                            class=\"mt-1 block w-3/4\"\n                            placeholder=\"Password\"\n                            autocomplete=\"current-password\"\n                            @keyup.enter=\"deleteUser\"\n                        />\n\n                        <InputError :message=\"form.errors.password\" class=\"mt-2\" />\n                    </div>\n                </template>\n\n                <template #footer>\n                    <SecondaryButton @click=\"closeModal\">\n                        Cancel\n                    </SecondaryButton>\n\n                    <DangerButton\n                        class=\"ms-3\"\n                        :class=\"{ 'opacity-25': form.processing }\"\n                        :disabled=\"form.processing\"\n                        @click=\"deleteUser\"\n                    >\n                        Party Membership\n                    </DangerButton>\n                </template>\n            </DialogModal>\n        </template>\n    </ActionSection>\n</template>\n"],"names":["confirmingUserDeletion","ref","passwordInput","form","useForm","confirmUserDeletion","deleteUser","closeModal","_createBlock","ActionSection","_cache","_createElementVNode","_hoisted_1","_createVNode","DangerButton","DialogModal","_hoisted_2","TextInput","_unref","$event","InputError","SecondaryButton","_normalizeClass"],"mappings":"2hBAUA,MAAMA,EAAyBC,EAAI,EAAK,EAClCC,EAAgBD,EAAI,IAAI,EAExBE,EAAOC,EAAQ,CACjB,SAAU,EACd,CAAC,EAEKC,EAAsB,IAAM,CAC9BL,EAAuB,MAAQ,GAE/B,WAAW,IAAME,EAAc,MAAM,MAAK,EAAI,GAAG,CACrD,EAEMI,EAAa,IAAM,CACrBH,EAAK,OAAO,MAAM,sBAAsB,EAAG,CACvC,eAAgB,GAChB,UAAW,IAAMI,EAAU,EAC3B,QAAS,IAAML,EAAc,MAAM,MAAK,EACxC,SAAU,IAAMC,EAAK,MAAK,CAClC,CAAK,CACL,EAEMI,EAAa,IAAM,CACrBP,EAAuB,MAAQ,GAE/BG,EAAK,MAAK,CACd,oBAIIK,EA0EgBC,EAAA,KAAA,CAzED,QAAM,IAEjBC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAFiB,oBAEjB,KAEW,cAAY,IAEvBA,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAFuB,iDAEvB,KAEW,UACP,IASM,eATNC,EASM,MAAA,CATD,MAAM,+DAA6D,CACpEA,EAAoH,SAAjH,+GAA6G,EAChHA,EAIK,KAAA,CAJD,MAAM,0BAA0B,EAAA,CAChCA,EAA8D,UAA1D,uDAAqD,EACzDA,EAAuC,UAAnC,gCAA8B,EAClCA,EAAyE,UAArE,kEAAgE,IAExEA,EAAgH,SAA7G,2GAAyG,EAC5GA,EAAwI,IAAA,CAArI,MAAM,8BAA8B,EAAC,8FAA4F,QAGxIA,EAIM,MAJNC,EAIM,CAHFC,EAEeC,EAAA,CAFA,QAAOT,CAAmB,EAAA,WAAE,IAE3CK,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAF2C,oBAE3C,oBAIJG,EA4CcE,EAAA,CA5CA,KAAMf,EAAA,MAAyB,QAAOO,IACrC,QAAM,IAEjBG,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAFiB,oBAEjB,KAEW,UAAQ,IAEf,eAFe,yFAEf,eAAAC,EAIK,KAAA,CAJD,MAAM,iCAA+B,CACrCA,EAA8D,UAA1D,uDAAqD,EACzDA,EAAuC,UAAnC,gCAA8B,EAClCA,EAAyE,UAArE,kEAAgE,oBAExEA,EAA6N,IAAA,CAA1N,MAAM,QAAM,GAAC,qEAAmE,EAAAA,EAAmH,IAAA,CAAhH,KAAK,qCAAqC,MAAM,kCAAiC,6BAA2B,IAAI,qBAAmB,QACzND,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAA2D,IAAA,CAAxD,MAAM,MAAM,EAAC,0CAAuC,EAAA,GAEvDA,EAYM,MAZNK,EAYM,CAXFH,EAQEI,EAAA,SAPM,gBAAJ,IAAIf,EACK,WAAAgB,EAAAf,CAAA,EAAK,SAAL,sBAAAO,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAS,GAAAD,EAAAf,CAAA,EAAK,SAAQgB,GACtB,KAAK,WACL,MAAM,mBACN,YAAY,WACZ,aAAa,mBACZ,UAAab,EAAU,CAAA,OAAA,CAAA,0BAG5BO,EAA2DO,EAAA,CAA9C,QAASF,EAAAf,CAAA,EAAK,OAAO,SAAU,MAAM,gCAI/C,SACP,IAEkB,CAFlBU,EAEkBQ,EAAA,CAFA,QAAOd,CAAU,EAAA,WAAE,IAErCG,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAFqC,UAErC,kBAEAG,EAOeC,EAAA,CANX,MAAKQ,EAAA,CAAC,OAAM,CAAA,aACYJ,EAAAf,CAAA,EAAK,UAAU,CAAA,CAAA,EACtC,SAAUe,EAAAf,CAAA,EAAK,WACf,QAAOG,cACX,IAEDI,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,GAFC,oBAED"}