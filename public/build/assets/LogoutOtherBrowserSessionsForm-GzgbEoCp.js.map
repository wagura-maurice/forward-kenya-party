{"version":3,"file":"LogoutOtherBrowserSessionsForm-GzgbEoCp.js","sources":["../../../resources/js/Pages/Profile/Partials/LogoutOtherBrowserSessionsForm.vue"],"sourcesContent":["<script setup>\nimport { ref } from 'vue';\nimport { useForm } from '@inertiajs/vue3';\nimport ActionMessage from '@/Components/ActionMessage.vue';\nimport ActionSection from '@/Components/ActionSection.vue';\nimport DialogModal from '@/Components/DialogModal.vue';\nimport InputError from '@/Components/InputError.vue';\nimport PrimaryButton from '@/Components/PrimaryButton.vue';\nimport SecondaryButton from '@/Components/SecondaryButton.vue';\nimport TextInput from '@/Components/TextInput.vue';\n\ndefineProps({\n    sessions: Array,\n});\n\nconst confirmingLogout = ref(false);\nconst passwordInput = ref(null);\n\nconst form = useForm({\n    password: '',\n});\n\nconst confirmLogout = () => {\n    confirmingLogout.value = true;\n\n    setTimeout(() => passwordInput.value.focus(), 250);\n};\n\nconst logoutOtherBrowserSessions = () => {\n    form.delete(route('other-browser-sessions.destroy'), {\n        preserveScroll: true,\n        onSuccess: () => closeModal(),\n        onError: () => passwordInput.value.focus(),\n        onFinish: () => form.reset(),\n    });\n};\n\nconst closeModal = () => {\n    confirmingLogout.value = false;\n\n    form.reset();\n};\n</script>\n\n<template>\n    <ActionSection>\n        <template #title>\n            Browser Sessions\n        </template>\n\n        <template #description>\n            Manage and log out your active sessions on other browsers and devices.\n        </template>\n\n        <template #content>\n            <div class=\"max-w-xl text-sm text-gray-600\">\n                If necessary, you may log out of all of your other browser sessions across all of your devices. Some of your recent sessions are listed below; however, this list may not be exhaustive. If you feel your account has been compromised, you should also update your password.\n            </div>\n\n            <!-- Other Browser Sessions -->\n            <div v-if=\"sessions.length > 0\" class=\"mt-5 space-y-6\">\n                <div v-for=\"(session, i) in sessions\" :key=\"i\" class=\"flex items-center\">\n                    <div>\n                        <svg v-if=\"session.agent.is_desktop\" class=\"size-8 text-gray-500\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25\" />\n                        </svg>\n\n                        <svg v-else class=\"size-8 text-gray-500\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3\" />\n                        </svg>\n                    </div>\n\n                    <div class=\"ms-3\">\n                        <div class=\"text-sm text-gray-600\">\n                            {{ session.agent.platform ? session.agent.platform : 'Unknown' }} - {{ session.agent.browser ? session.agent.browser : 'Unknown' }}\n                        </div>\n\n                        <div>\n                            <div class=\"text-xs text-gray-500\">\n                                {{ session.ip_address }},\n\n                                <span v-if=\"session.is_current_device\" class=\"text-green-500 font-semibold\">This device</span>\n                                <span v-else>Last active {{ session.last_active }}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"mt-5 flex items-center justify-end\">\n                <PrimaryButton @click=\"confirmLogout\">\n                    Log Out Other Browser Sessions\n                </PrimaryButton>\n\n                <ActionMessage :on=\"form.recentlySuccessful\">\n                    Done.\n                </ActionMessage>\n            </div>\n\n            <!-- Log Out Other Devices Confirmation Modal -->\n            <DialogModal :show=\"confirmingLogout\" @close=\"closeModal\">\n                <template #title>\n                    Log Out Other Browser Sessions\n                </template>\n\n                <template #content>\n                    Please enter your password to confirm you would like to log out of your other browser sessions across all of your devices.\n\n                    <div class=\"mt-4\">\n                        <TextInput\n                            ref=\"passwordInput\"\n                            v-model=\"form.password\"\n                            type=\"password\"\n                            class=\"mt-1 block w-3/4\"\n                            placeholder=\"Password\"\n                            autocomplete=\"current-password\"\n                            @keyup.enter=\"logoutOtherBrowserSessions\"\n                        />\n\n                        <InputError :message=\"form.errors.password\" class=\"mt-2\" />\n                    </div>\n                </template>\n\n                <template #footer>\n                    <SecondaryButton @click=\"closeModal\">\n                        Cancel\n                    </SecondaryButton>\n\n                    <PrimaryButton\n                        class=\"ms-3\"\n                        :class=\"{ 'opacity-25': form.processing }\"\n                        :disabled=\"form.processing\"\n                        @click=\"logoutOtherBrowserSessions\"\n                    >\n                        Log Out Other Browser Sessions\n                    </PrimaryButton>\n                </template>\n            </DialogModal>\n        </template>\n    </ActionSection>\n</template>\n"],"names":["confirmingLogout","ref","passwordInput","form","useForm","confirmLogout","logoutOtherBrowserSessions","closeModal","_createBlock","ActionSection","_cache","_createElementVNode","__props","_openBlock","_createElementBlock","_hoisted_1","_Fragment","_renderList","session","i","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createVNode","PrimaryButton","ActionMessage","_unref","DialogModal","_hoisted_10","TextInput","$event","InputError","SecondaryButton","_normalizeClass"],"mappings":"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"}