{"version":3,"file":"Login-CyVr-xL9.js","sources":["../../../resources/js/Components/ReCaptcha.vue","../../../resources/js/Pages/Auth/Login.vue"],"sourcesContent":["<script setup>\nimport { onMounted, ref } from 'vue';\n\nconst props = defineProps({\n  action: {\n    type: String,\n    required: true\n  },\n  siteKey: {\n    type: String,\n    required: true\n  }\n});\n\nconst emit = defineEmits(['captcha-response']);\nconst captchaResponse = ref(null);\n\nonMounted(() => {\n  const script = document.createElement('script');\n  script.src = `https://www.google.com/recaptcha/api.js?render=${props.siteKey}`;\n  document.head.appendChild(script);\n\n  script.onload = () => {\n    window.grecaptcha.ready(() => {\n      window.grecaptcha.execute(props.siteKey, { action: props.action })\n        .then(token => {\n          captchaResponse.value = token;\n          emit('captcha-response', token);\n        });\n    });\n  };\n});\n</script>\n\n<template>\n  <input type=\"hidden\" name=\"g-recaptcha-response\" :value=\"captchaResponse\">\n</template>","<script setup>\nimport { Head, Link, useForm } from \"@inertiajs/vue3\";\nimport AuthenticationCard from \"@/Components/AuthenticationCard.vue\";\nimport AuthenticationCardLogo from \"@/Components/AuthenticationCardLogo.vue\";\nimport Checkbox from \"@/Components/Checkbox.vue\";\nimport InputError from \"@/Components/InputError.vue\";\nimport InputLabel from \"@/Components/InputLabel.vue\";\nimport PrimaryButton from \"@/Components/PrimaryButton.vue\";\nimport TextInput from \"@/Components/TextInput.vue\";\nimport ReCaptcha from '@/Components/ReCaptcha.vue';\n\ndefineProps({\n    canResetPassword: Boolean,\n    status: String,\n});\n\nconst form = useForm({\n    login: \"\", // Changed from email to login to support both email and phone\n    password: \"\",\n    remember: false,\n    'g-recaptcha-response': '',\n});\n\nconst setCaptchaResponse = (response) => {\n    form['g-recaptcha-response'] = response;\n};\n\nconst submit = () => {\n    form.transform((data) => ({\n        ...data,\n        remember: form.remember ? \"on\" : \"\",\n    })).post(route(\"login\"), {\n        onFinish: () => form.reset(\"password\"),\n    });\n};\n</script>\n\n<template>\n    <Head title=\"Sign in\" />\n\n    <AuthenticationCard>\n        <template #logo>\n            <AuthenticationCardLogo />\n        </template>\n\n        <div class=\"p-2 space-y-4 md:space-y-6 sm:p-8\">\n            <div v-if=\"status\" class=\"mb-4 font-medium text-sm text-green-600\">\n                {{ status }}\n            </div>\n\n            <h1\n                class=\"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white\"\n            >\n                Sign in to your account\n            </h1>\n\n            <form @submit.prevent=\"submit\" class=\"space-y-4 md:space-y-6\">\n                <!-- Login Input (Email or Telephone) -->\n                <div>\n                    <InputLabel for=\"login\" value=\"Email Address / Telephone Number\" />\n                    <TextInput\n                        id=\"login\"\n                        v-model=\"form.login\"\n                        type=\"text\"\n                        class=\"mt-1 block w-full\"\n                        required\n                        autofocus\n                        autocomplete=\"username\"\n                        placeholder=\"Enter your email address or telephone number\"\n                    />\n                    <InputError class=\"mt-2\" :message=\"form.errors.login || form.errors.email\" />\n                </div>\n\n                <!-- Password Input and Forgot Password -->\n                <div class=\"mt-4\">\n                    <div class=\"flex items-center justify-between\">\n                        <!-- Password Label on the Left -->\n                        <InputLabel for=\"password\" value=\"Password\" />\n                        <!-- Forgot Password Link on the Right -->\n                        <Link :href=\"route('password.request')\"\n                            class=\"text-sm text-green-600 hover:text-green-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 font-medium hover:underline hover:decoration-green-600 hover:dark:decoration-green-500 underline-offset-4 dark:text-green-500\"\n                        >\n                            Forgot your password?\n                        </Link>\n                    </div>\n                    <!-- Password Input -->\n                    <TextInput\n                        id=\"password\"\n                        v-model=\"form.password\"\n                        type=\"password\"\n                        class=\"mt-1 block w-full\"\n                        required\n                        autocomplete=\"current-password\"\n                        placeholder=\"********\"\n                    />\n                    <!-- Password Error Message -->\n                    <InputError class=\"mt-2\" :message=\"form.errors.password\" />\n                </div>\n\n                <!-- Remember Me -->\n                <div class=\"flex items-center justify-between\">\n                    <label for=\"remember\" class=\"flex items-center\">\n                        <Checkbox\n                            id=\"remember\"\n                            name=\"remember\"\n                            v-model:checked=\"form.remember\"\n                        />\n                        <span class=\"ms-2 text-sm text-gray-600 dark:text-gray-400\">\n                            {{ $page.props.rememberMe ? $page.props.rememberMe : 'Remember me' }}\n                        </span>\n                    </label>\n\n                    <Link\n                        v-if=\"canResetPassword\"\n                        :href=\"route('password.request')\"\n                        class=\"text-sm text-blue-600 dark:text-blue-500 hover:underline\"\n                    >\n                        Forgot your password?\n                    </Link>\n                </div>\n\n                <!-- reCAPTCHA Component -->\n                <div class=\"mt-4\">\n                    <ReCaptcha \n                        action=\"login\" \n                        :site-key=\"$page.props.recaptchaSiteKey\" \n                        @captcha-response=\"setCaptchaResponse\" \n                    />\n                </div>\n\n                <!-- Sign In Button -->\n                <div class=\"mt-4\">\n                    <PrimaryButton\n                        class=\"w-full\"\n                        :class=\"{ 'opacity-25': form.processing }\"\n                        :disabled=\"form.processing\"\n                    >\n                        Sign In\n                    </PrimaryButton>\n                </div>\n\n                <!-- Sign Up Link -->\n                <p class=\"text-sm font-light text-gray-500 dark:text-gray-400\">\n                    Donâ€™t have an account yet?\n                    <Link\n                        :href=\"route('register')\"\n                        class=\"font-medium text-green-600 hover:underline hover:decoration-green-600 hover:dark:decoration-green-500 underline-offset-4 dark:text-green-500\"\n                    >\n                        Sign Up\n                    </Link>\n                </p>\n            </form>\n        </div>\n    </AuthenticationCard>\n</template>\n"],"names":["props","__props","emit","__emit","captchaResponse","ref","onMounted","script","token","_createElementBlock","form","useForm","setCaptchaResponse","response","submit","data","_createVNode","_unref","Head","AuthenticationCard","AuthenticationCardLogo","_createElementVNode","_hoisted_1","_hoisted_2","_toDisplayString","_cache","InputLabel","TextInput","$event","InputError","_hoisted_3","_hoisted_4","Link","route","_hoisted_5","_hoisted_6","Checkbox","_hoisted_7","$page","_createBlock","_hoisted_8","ReCaptcha","_hoisted_9","PrimaryButton","_normalizeClass","_hoisted_10"],"mappings":"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"}