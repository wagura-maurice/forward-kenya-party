import{u as te,i as h,L,x as me,v as xe,Q as be,j as m,k as $,o as u,e,t as y,I as ye,A as b,m as p,D as E,l,B as O,f as P,w as N,n as M,M as ve,O as X,F as z,G as ke,p as H,s as ce,d as pe,E as Q,J as we}from"./vendor-DmCWM84H.js";import{_ as he}from"./AppLayout-9Uk9vfcH.js";import{C as Z}from"./vue-select-DxqfLbiP.js";import{_ as ee}from"./InputError-CfRDvhJ1.js";const _e={key:0,class:"fixed inset-0 overflow-y-auto z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},$e={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ce={class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-6 pt-5 pb-6 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full sm:p-8 relative"},De={class:"w-full"},Me={class:"flex items-center justify-between mb-4"},Pe={class:"text-xl font-semibold text-gray-900 dark:text-white"},Se={class:"mb-6"},je={class:"flex justify-between mb-2"},Ee={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Fe={class:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700"},Ve={key:0,class:"space-y-4"},Ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Le={class:"space-y-2"},Ne={class:"space-y-2"},Ae={class:"space-y-2"},Be={class:"space-y-2"},Ie={class:"space-y-2"},Oe={class:"space-y-2"},ze={class:"space-y-2"},Te={key:1,class:"space-y-4"},We={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},qe={class:"space-y-2"},Re={class:"space-y-2"},Ke={class:"text-sm text-gray-500 py-2 px-3"},He={class:"space-y-2"},Ge={class:"text-sm text-gray-500 py-2 px-3"},Je={class:"space-y-2"},Ye={key:2,class:"space-y-4"},Qe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Xe={class:"space-y-2"},Ze={class:"space-y-2"},et={class:"space-y-2"},tt={class:"flex items-center"},st={class:"space-y-2"},rt={class:"space-y-2"},fe=3,ot={__name:"MemberFormModal",props:{show:{type:Boolean,default:!1},isEditMode:{type:Boolean,default:!1},memberData:{type:Object,default:()=>({})},counties:{type:Array,default:()=>[]},constituencies:{type:Array,default:()=>[]},wards:{type:Array,default:()=>[]},subCounties:{type:Array,default:()=>[]},subLocations:{type:Array,default:()=>[]}},emits:["close","save"],setup(w,{emit:V}){const v=w,g=V,_={surname:"",other_names:"",id_number:"",phone:"",email:"",gender:"",date_of_birth:"",county_id:null,constituency_id:null,ward_id:null,polling_station:"",occupation:"",education_level:"",disability_status:!1,disability_description:"",next_of_kin_name:"",next_of_kin_phone:"",next_of_kin_relationship:""},D=()=>v.isEditMode&&v.memberData?{..._,...v.memberData}:{..._},r=te(D());h(!1),h(!1);const S=L(()=>r.county_id?constituencies.value.filter(d=>d.county_id==r.county_id):[]),F=L(()=>r.constituency_id?v.wards.filter(d=>d.constituency_id==r.constituency_id):[]);me(()=>r.county_id,(d,t)=>{d!==t&&(r.constituency_id=null,r.ward_id=null)}),me(()=>r.constituency_id,(d,t)=>{d!==t&&(r.ward_id=null)});const c=h(1),k=()=>{g("close"),W()},a=()=>{v.isEditMode?r.put(route("members.update",r.id),{preserveScroll:!0,onSuccess:()=>{g("save",r),k()}}):r.post(route("members.store"),{preserveScroll:!0,onSuccess:()=>{g("save",r),k()}})},i=()=>{T(c.value)&&c.value++},j=()=>{c.value--},T=d=>{let t=!0,o="";switch(d){case 1:r.surname.trim()?r.other_names.trim()?r.id_number.trim()?r.phone.trim()?r.phone.length<9&&(o="Please enter a valid phone number",t=!1):(o="Phone number is required",t=!1):(o="ID number is required",t=!1):(o="Other names are required",t=!1):(o="Surname is required",t=!1);break;case 2:r.county_id?r.constituency_id?r.ward_id||(o="Ward is required",t=!1):(o="Constituency is required",t=!1):(o="County is required",t=!1);break;case 3:r.occupation?r.education_level||(o="Education level is required",t=!1):(o="Occupation is required",t=!1);break}return!t&&o&&alert(o),t},W=()=>{r.reset(),r.fill(D()),c.value=1},U=d=>{d.key==="Escape"&&v.show&&k()};return xe(()=>{document.addEventListener("keydown",U)}),be(()=>{document.removeEventListener("keydown",U)}),(d,t)=>w.show?(u(),m("div",_e,[e("div",$e,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:k}),e("div",Ce,[e("div",De,[e("div",Me,[e("h3",Pe,y(w.isEditMode?"Update Member":"Add New Member"),1),e("button",{type:"button",onClick:k,class:"text-gray-400 hover:text-gray-500 focus:outline-none"},t[16]||(t[16]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Se,[e("div",je,[e("span",Ee," Step "+y(c.value)+" of "+y(fe),1)]),e("div",Fe,[e("div",{class:"bg-green-600 h-2.5 rounded-full",style:ye("width: "+c.value/fe*100+"%")},null,4)])]),c.value===1?(u(),m("div",Ve,[t[27]||(t[27]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Personal Information",-1)),e("div",Ue,[e("div",Le,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[p(" Surname "),e("span",{class:"text-red-500"},"*")],-1)),b(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>l(r).surname=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},null,512),[[E,l(r).surname]])]),e("div",Ne,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[p(" Other Names "),e("span",{class:"text-red-500"},"*")],-1)),b(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>l(r).other_names=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},null,512),[[E,l(r).other_names]])]),e("div",Ae,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[p(" ID Number "),e("span",{class:"text-red-500"},"*")],-1)),b(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>l(r).id_number=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},null,512),[[E,l(r).id_number]])]),e("div",Be,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[p(" Phone Number "),e("span",{class:"text-red-500"},"*")],-1)),b(e("input",{type:"tel","onUpdate:modelValue":t[3]||(t[3]=o=>l(r).phone=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"e.g. 712345678",required:""},null,512),[[E,l(r).phone]])]),e("div",Ie,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Email ",-1)),b(e("input",{type:"email","onUpdate:modelValue":t[4]||(t[4]=o=>l(r).email=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[E,l(r).email]])]),e("div",Oe,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Gender ",-1)),b(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>l(r).gender=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},t[22]||(t[22]=[e("option",{value:""},"Select Gender",-1),e("option",{value:"male"},"Male",-1),e("option",{value:"female"},"Female",-1),e("option",{value:"other"},"Other",-1)]),512),[[O,l(r).gender]])]),e("div",ze,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Date of Birth ",-1)),b(e("input",{type:"date","onUpdate:modelValue":t[6]||(t[6]=o=>l(r).date_of_birth=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[E,l(r).date_of_birth]])])]),e("div",{class:"mt-8 flex justify-between"},[t[26]||(t[26]=e("div",null,null,-1)),e("button",{type:"button",onClick:i,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},t[25]||(t[25]=[p(" Next "),e("i",{class:"fas fa-arrow-right ml-2"},null,-1)]))])])):c.value===2?(u(),m("div",Te,[t[35]||(t[35]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Contact Information",-1)),e("div",We,[e("div",qe,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[p(" County "),e("span",{class:"text-red-500"},"*")],-1)),P(l(Z),{modelValue:l(r).county_id,"onUpdate:modelValue":t[7]||(t[7]=o=>l(r).county_id=o),options:w.counties,label:"name",reduce:o=>o.id,placeholder:"Select County",class:M(["w-full",{"border-red-500":l(r).errors.county_id}]),clearable:!1},{"no-options":N(()=>t[28]||(t[28]=[e("div",{class:"text-sm text-gray-500 py-2 px-3"}," No counties available ",-1)])),_:1},8,["modelValue","options","reduce","class"]),P(ee,{message:l(r).errors.county_id,class:"mt-1 text-sm text-red-600"},null,8,["message"])]),e("div",Re,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[p(" Constituency "),e("span",{class:"text-red-500"},"*")],-1)),P(l(Z),{modelValue:l(r).constituency_id,"onUpdate:modelValue":t[8]||(t[8]=o=>l(r).constituency_id=o),options:S.value,label:"name",reduce:o=>o.id,placeholder:"Select Constituency",class:M(["w-full",{"border-red-500":l(r).errors.constituency_id}]),disabled:!l(r).county_id,clearable:!1},{"no-options":N(()=>[e("div",Ke,y(l(r).county_id?"No constituencies found":"Please select a county first"),1)]),_:1},8,["modelValue","options","reduce","class","disabled"]),P(ee,{message:l(r).errors.constituency_id,class:"mt-1 text-sm text-red-600"},null,8,["message"])]),e("div",He,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[p(" Ward "),e("span",{class:"text-red-500"},"*")],-1)),P(l(Z),{modelValue:l(r).ward_id,"onUpdate:modelValue":t[9]||(t[9]=o=>l(r).ward_id=o),options:F.value,label:"name",reduce:o=>o.id,placeholder:"Select Ward",class:M(["w-full",{"border-red-500":l(r).errors.ward_id}]),disabled:!l(r).constituency_id,clearable:!1},{"no-options":N(()=>[e("div",Ge,y(l(r).constituency_id?"No wards found":"Please select a constituency first"),1)]),_:1},8,["modelValue","options","reduce","class","disabled"]),P(ee,{message:l(r).errors.ward_id,class:"mt-1 text-sm text-red-600"},null,8,["message"])]),e("div",Je,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Polling Station ",-1)),b(e("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=o=>l(r).polling_station=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter your polling station"},null,512),[[E,l(r).polling_station]])])]),e("div",{class:"mt-8 flex justify-between"},[e("button",{type:"button",onClick:j,class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},t[33]||(t[33]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),p(" Previous ")])),e("button",{type:"button",onClick:i,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},t[34]||(t[34]=[p(" Next "),e("i",{class:"fas fa-arrow-right ml-2"},null,-1)]))])])):c.value===3?(u(),m("div",Ye,[t[44]||(t[44]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Additional Information",-1)),e("div",Qe,[e("div",Xe,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Occupation ",-1)),b(e("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=o=>l(r).occupation=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[E,l(r).occupation]])]),e("div",Ze,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Education Level ",-1)),b(e("select",{"onUpdate:modelValue":t[12]||(t[12]=o=>l(r).education_level=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},t[37]||(t[37]=[ve('<option value="">Select Education Level</option><option value="primary">Primary</option><option value="secondary">Secondary</option><option value="diploma">Diploma</option><option value="degree">Degree</option><option value="masters">Masters</option><option value="phd">PhD</option><option value="other">Other</option>',8)]),512),[[O,l(r).education_level]])]),e("div",et,[e("div",tt,[b(e("input",{id:"is_pwd",type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=o=>l(r).is_pwd=o),class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"},null,512),[[X,l(r).is_pwd]]),t[39]||(t[39]=e("label",{for:"is_pwd",class:"ml-2 block text-sm text-gray-700 dark:text-gray-300"}," Person with Disability (PWD) ",-1))])]),l(r).is_pwd?(u(),m(z,{key:0},[e("div",st,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Type of Disability ",-1)),b(e("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=o=>l(r).pwd_disability=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[E,l(r).pwd_disability]])]),e("div",rt,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," NCPWD Number ",-1)),b(e("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=o=>l(r).ncpwd_number=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[E,l(r).ncpwd_number]])])],64)):$("",!0)]),e("div",{class:"mt-8 flex justify-between"},[e("button",{type:"button",onClick:j,class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},t[42]||(t[42]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),p(" Previous ")])),e("button",{type:"button",onClick:a,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},t[43]||(t[43]=[p(" Save Member "),e("i",{class:"fas fa-save ml-2"},null,-1)]))])])):$("",!0)])])])])):$("",!0)}},lt={key:0,class:"fixed inset-0 overflow-y-auto z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},at={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},nt={class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-6 pt-5 pb-6 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full sm:p-8 relative"},it={class:"w-full"},dt={class:"mt-4"},ut={class:"space-y-6"},gt={class:"space-y-1 text-center"},mt={class:"flex text-sm text-gray-600 dark:text-gray-300"},ct={class:"relative cursor-pointer bg-white dark:bg-gray-800 rounded-md font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 focus-within:outline-none"},ft={key:0,class:"text-sm font-medium text-gray-900 dark:text-gray-100 mt-2"},pt={key:0,class:"space-y-4"},xt={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},bt={class:"space-y-3"},yt={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},vt={class:"col-span-2"},kt=["onUpdate:modelValue"],wt=["value"],ht={class:"space-y-3"},_t={class:"flex items-center"},$t={class:"mt-6 flex justify-end space-x-3"},Ct=["disabled"],Dt={__name:"ImportMembersModal",props:{show:{type:Boolean,default:!1}},emits:["close","import"],setup(w,{emit:V}){const v=V,g=te({file:null,type:"excel",has_headers:!0,update_existing:!1,match_columns:{}}),_=h(null),D=h(!1),r=h([]),S=h(!1),F=t=>{t.preventDefault(),S.value=!0},c=()=>{S.value=!1},k=t=>{t.preventDefault(),S.value=!1;const o=t.dataTransfer.files;if(o.length>0){const x=o[0];x.name.endsWith(".xlsx")?j({target:{files:[x]}}):alert("Please upload a valid .xlsx file")}},a=["surname","other_names","id_number","phone","email","gender","date_of_birth","county","constituency","ward","polling_station","occupation","education_level","disability_status","disability_description","ncpwd_number"],i=()=>{const t=a.join("	")+`
`,o=new Blob([t],{type:"application/vnd.ms-excel"}),x=URL.createObjectURL(o),C=document.createElement("a");C.href=x,C.download="members_import_template.xls",document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(x)},j=t=>{const o=t.target.files[0];if(o){if(!o.name.endsWith(".xlsx")){alert("Please upload a valid .xlsx file");return}g.file=o,T(o)}},T=t=>{if(t.name.endsWith(".csv")){const o=new FileReader;o.onload=x=>{const G=x.target.result.split(`
`)[0];r.value=G.split(",").map(J=>J.trim().toLowerCase()),W()},o.readAsText(t)}else t.name.match(/\.xlsx?$/i)&&(D.value=!0)},W=()=>{a.forEach(t=>{const o=r.value.find(x=>x.toLowerCase().includes(t)||t.toLowerCase().includes(x));o?g.match_columns[t]=o:g.match_columns[t]=""})},U=()=>{g.reset(),v("close")},d=()=>{if(!g.file){alert("Please select a file to import");return}const t=new FormData;t.append("file",g.file),t.append("type",g.type),t.append("has_headers",g.has_headers),t.append("update_existing",g.update_existing),g.post(route("members.import"),{preserveScroll:!0,onSuccess:()=>{v("import"),U()},forceFormData:!0})};return(t,o)=>w.show?(u(),m("div",lt,[e("div",at,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:U}),e("div",nt,[e("div",it,[e("div",{class:"flex items-center justify-between mb-4"},[o[3]||(o[3]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Import Members ",-1)),e("button",{type:"button",onClick:U,class:"text-gray-400 hover:text-gray-500 focus:outline-none"},o[2]||(o[2]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",dt,[e("div",ut,[e("div",{class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg"},[e("div",{class:"flex"},[o[7]||(o[7]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),e("div",{class:"ml-3"},[o[5]||(o[5]=e("h3",{class:"text-sm font-medium text-blue-800 dark:text-blue-200"}," Download Template ",-1)),o[6]||(o[6]=e("div",{class:"mt-2 text-sm text-blue-700 dark:text-blue-300"},[e("p",null," Download our Excel template to ensure your file has the correct format. ")],-1)),e("div",{class:"mt-4"},[e("button",{type:"button",onClick:i,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},o[4]||(o[4]=[e("svg",{class:"-ml-0.5 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),p(" Download Template ")]))])])])]),e("div",null,[o[12]||(o[12]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Upload Excel File ",-1)),e("div",{onDragover:ke(F,["prevent"]),onDragleave:c,onDrop:k,onClick:o[0]||(o[0]=x=>_.value.click()),class:M([{"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":S.value,"border-gray-300 dark:border-gray-600":!S.value},"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-md transition-colors duration-150 cursor-pointer"])},[e("div",gt,[o[10]||(o[10]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("div",mt,[e("span",ct,[o[8]||(o[8]=e("span",null,"Upload a file",-1)),e("input",{type:"file",ref_key:"fileInput",ref:_,onChange:j,accept:".xlsx",class:"sr-only"},null,544)]),o[9]||(o[9]=e("p",{class:"pl-1"},"or drag and drop",-1))]),o[11]||(o[11]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Excel (.xlsx) up to 5MB ",-1)),l(g).file?(u(),m("p",ft,y(l(g).file.name),1)):$("",!0)])],34)]),D.value&&r.value.length>0?(u(),m("div",pt,[e("div",xt,[o[14]||(o[14]=e("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Map Columns ",-1)),e("div",bt,[(u(),m(z,null,H(a,x=>e("div",{key:x,class:"grid grid-cols-3 gap-4 items-center"},[e("label",yt,y(x.replace(/_/g," ")),1),e("div",vt,[b(e("select",{"onUpdate:modelValue":C=>l(g).match_columns[x]=C,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},[o[13]||(o[13]=e("option",{value:""},"-- Select Column --",-1)),(u(!0),m(z,null,H(r.value,C=>(u(),m("option",{key:C,value:C},y(C),9,wt))),128))],8,kt),[[O,l(g).match_columns[x]]])])])),64))])])])):$("",!0),e("div",ht,[e("div",_t,[b(e("input",{id:"update-existing","onUpdate:modelValue":o[1]||(o[1]=x=>l(g).update_existing=x),type:"checkbox",checked:"",disabled:"",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded bg-gray-100 dark:bg-gray-700 cursor-not-allowed"},null,512),[[X,l(g).update_existing]]),o[15]||(o[15]=e("label",{for:"update-existing",class:"ml-2 block text-sm text-gray-700 dark:text-gray-400"}," Update existing members (match by ID Number) ",-1))])])])]),e("div",$t,[e("button",{type:"button",onClick:U,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Cancel "),e("button",{type:"button",onClick:d,disabled:!l(g).file,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"}," Import ",8,Ct)])])])])])):$("",!0)}},Mt={key:0,class:"fixed inset-0 overflow-y-auto z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Pt={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},St={class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-6 pt-5 pb-6 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full sm:p-8 relative"},jt={class:"w-full"},Et={class:"mt-4"},Ft={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Vt={class:"flex items-center"},Ut={class:"md:col-span-2 border-t border-gray-200 dark:border-gray-700 pt-4"},Lt={key:0,class:"mt-3 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2"},Nt=["id","value"],At=["for"],Bt={class:"md:col-span-2 border-t border-gray-200 dark:border-gray-700 pt-4"},It={key:0,class:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4"},Ot=["disabled"],zt=["disabled"],Tt=["disabled"],Wt={class:"md:col-span-2 border-t border-gray-200 dark:border-gray-700 pt-4"},qt={key:0,class:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4"},Rt={__name:"ExportMembersModal",props:{show:{type:Boolean,default:!1},onClose:{type:Function,default:()=>{}},onExport:{type:Function,default:()=>{}}},emits:["close","export"],setup(w,{emit:V}){const v=V,g=h(!0),_=h(!0),D=h(!0),r=te({format:"excel",include_headers:!0,fields:["surname","other_names","id_number","phone","email","county","constituency","ward","polling_station"],filters:{county_id:null,constituency_id:null,ward_id:null,polling_station:null,date_from:"",date_to:""}}),S=[{value:"surname",label:"Surname"},{value:"other_names",label:"Other Names"},{value:"id_number",label:"ID Number"},{value:"phone",label:"Phone"},{value:"email",label:"Email"},{value:"gender",label:"Gender"},{value:"date_of_birth",label:"Date of Birth"},{value:"county",label:"County"},{value:"constituency",label:"Constituency"},{value:"ward",label:"Ward"},{value:"polling_station",label:"Polling Station"},{value:"occupation",label:"Occupation"},{value:"education_level",label:"Education Level"},{value:"is_pwd",label:"Is PWD"},{value:"pwd_disability",label:"PWD Disability"},{value:"ncpwd_number",label:"NCPWD Number"},{value:"created_at",label:"Date Registered"}],F=()=>{r.reset(),v("close")},c=()=>{const k=new URLSearchParams;k.append("format",r.format),r.include_headers&&k.append("include_headers","1"),r.fields.forEach(a=>{k.append("fields[]",a)}),Object.entries(r.filters).forEach(([a,i])=>{i&&k.append(`filters[${a}]`,i)}),window.location.href=route("members.export")+"?"+k.toString(),v("export"),F()};return(k,a)=>w.show?(u(),m("div",Mt,[e("div",Pt,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:F}),e("div",St,[e("div",jt,[e("div",{class:"flex items-center justify-between mb-4"},[a[13]||(a[13]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Export Members ",-1)),e("button",{type:"button",onClick:F,class:"text-gray-400 hover:text-gray-500 focus:outline-none"},a[12]||(a[12]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Et,[e("div",Ft,[e("div",null,[a[15]||(a[15]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Export Format ",-1)),b(e("select",{"onUpdate:modelValue":a[0]||(a[0]=i=>l(r).format=i),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},a[14]||(a[14]=[e("option",{value:"excel"},"Excel (.xlsx)",-1),e("option",{value:"csv"},"CSV (.csv)",-1),e("option",{value:"pdf"},"PDF (.pdf)",-1)]),512),[[O,l(r).format]])]),e("div",Vt,[b(e("input",{id:"include-headers","onUpdate:modelValue":a[1]||(a[1]=i=>l(r).include_headers=i),type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded"},null,512),[[X,l(r).include_headers]]),a[16]||(a[16]=e("label",{for:"include-headers",class:"ml-2 block text-sm text-gray-700 dark:text-gray-300"}," Include Headers ",-1))]),e("div",Ut,[e("button",{type:"button",onClick:a[2]||(a[2]=i=>g.value=!g.value),class:"w-full flex justify-between items-center text-left focus:outline-none"},[a[18]||(a[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Select Fields to Export ",-1)),(u(),m("svg",{class:M([{"transform rotate-180":g.value,"transform rotate-0":!g.value},"h-5 w-5 text-gray-500 transition-transform duration-200"]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},a[17]||(a[17]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))]),g.value?(u(),m("div",Lt,[(u(),m(z,null,H(S,i=>e("div",{key:i.value,class:"flex items-center"},[b(e("input",{id:`field-${i.value}`,"onUpdate:modelValue":a[3]||(a[3]=j=>l(r).fields=j),value:i.value,type:"checkbox",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded"},null,8,Nt),[[X,l(r).fields]]),e("label",{for:`field-${i.value}`,class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},y(i.label),9,At)])),64))])):$("",!0)]),e("div",Bt,[e("button",{type:"button",onClick:a[4]||(a[4]=i=>_.value=!_.value),class:"w-full flex justify-between items-center text-left focus:outline-none"},[a[20]||(a[20]=e("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Location Filters (Optional) ",-1)),(u(),m("svg",{class:M([{"transform rotate-180":_.value,"transform rotate-0":!_.value},"h-5 w-5 text-gray-500 transition-transform duration-200"]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},a[19]||(a[19]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))]),_.value?(u(),m("div",It,[e("div",null,[a[22]||(a[22]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," County ",-1)),b(e("select",{"onUpdate:modelValue":a[5]||(a[5]=i=>l(r).filters.county_id=i),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},a[21]||(a[21]=[e("option",{value:null},"All Counties",-1)]),512),[[O,l(r).filters.county_id]])]),e("div",null,[a[24]||(a[24]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Constituency ",-1)),b(e("select",{"onUpdate:modelValue":a[6]||(a[6]=i=>l(r).filters.constituency_id=i),disabled:!l(r).filters.county_id,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md disabled:opacity-50"},a[23]||(a[23]=[e("option",{value:null},"All Constituencies",-1)]),8,Ot),[[O,l(r).filters.constituency_id]])]),e("div",null,[a[26]||(a[26]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Ward ",-1)),b(e("select",{"onUpdate:modelValue":a[7]||(a[7]=i=>l(r).filters.ward_id=i),disabled:!l(r).filters.constituency_id,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md disabled:opacity-50"},a[25]||(a[25]=[e("option",{value:null},"All Wards",-1)]),8,zt),[[O,l(r).filters.ward_id]])]),e("div",null,[a[28]||(a[28]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Polling Station ",-1)),b(e("select",{"onUpdate:modelValue":a[8]||(a[8]=i=>l(r).filters.polling_station=i),disabled:!l(r).filters.ward_id,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md disabled:opacity-50"},a[27]||(a[27]=[e("option",{value:null},"All Polling Stations",-1)]),8,Tt),[[O,l(r).filters.polling_station]])])])):$("",!0)]),e("div",Wt,[e("button",{type:"button",onClick:a[9]||(a[9]=i=>D.value=!D.value),class:"w-full flex justify-between items-center text-left focus:outline-none"},[a[30]||(a[30]=e("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Date Filters (Optional) ",-1)),(u(),m("svg",{class:M([{"transform rotate-180":D.value,"transform rotate-0":!D.value},"h-5 w-5 text-gray-500 transition-transform duration-200"]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},a[29]||(a[29]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))]),D.value?(u(),m("div",qt,[e("div",null,[a[31]||(a[31]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," From Date ",-1)),b(e("input",{"onUpdate:modelValue":a[10]||(a[10]=i=>l(r).filters.date_from=i),type:"date",class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},null,512),[[E,l(r).filters.date_from]])]),e("div",null,[a[32]||(a[32]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," To Date ",-1)),b(e("input",{"onUpdate:modelValue":a[11]||(a[11]=i=>l(r).filters.date_to=i),type:"date",class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},null,512),[[E,l(r).filters.date_to]])])])):$("",!0)])])]),e("div",{class:"mt-6 flex justify-end space-x-3"},[e("button",{type:"button",onClick:F,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Cancel "),e("button",{type:"button",onClick:c,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Export ")])])])])])):$("",!0)}},Kt={class:"min-h-screen bg-white dark:bg-gray-900"},Ht={class:"py-6 sm:py-8"},Gt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Jt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10"},Yt={class:"p-6"},Qt={class:"flex items-center"},Xt={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},Zt={class:"flex items-center"},es={class:"text-2xl font-semibold text-gray-900 dark:text-white"},ts={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},ss={key:0,class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10"},rs={class:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border border-gray-100 dark:border-gray-700"},os={class:"p-6"},ls={class:"space-y-2"},as={key:0,class:"text-center py-8 text-gray-500 dark:text-gray-400"},ns={class:"flex-shrink-0"},is=["title"],ds={class:"ml-4 flex-1 min-w-0"},us={class:"flex items-center justify-between"},gs={class:"text-sm font-medium text-gray-900 dark:text-white"},ms={class:"flex flex-wrap items-center mt-1 text-xs text-gray-500 dark:text-gray-400 gap-1"},cs={class:"flex items-center capitalize"},fs={key:1},ps=["title"],xs={class:"flex items-center"},bs={class:"flex items-center"},ys={key:0,class:"mt-4 text-right"},vs={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border border-gray-100 dark:border-gray-700"},ks={class:"p-6"},ws={class:"space-y-2"},hs={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border border-gray-100 dark:border-gray-700 mb-10"},_s={class:"p-6"},$s={class:"flex justify-between items-center mb-4"},Cs=["title"],Ds={class:"space-y-3"},Ms={class:"flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200"},Ps={class:"flex-1 min-w-0"},Ss={class:"flex justify-between items-center w-full text-xs text-gray-500 dark:text-gray-400"},js={class:"flex-shrink-0"},Es=["href"],Fs={class:"flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200"},Vs={class:"flex-1 min-w-0"},Us={class:"flex justify-between items-center w-full text-xs text-gray-500 dark:text-gray-400"},Ls={class:"flex-shrink-0"},Ns=["href"],As={class:"flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200"},Bs={class:"flex-1 min-w-0"},Is={class:"flex justify-between items-center w-full text-xs text-gray-500 dark:text-gray-400"},Os={class:"flex-shrink-0"},zs=["href"],Ts={class:"flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200"},Ws={class:"flex-1 min-w-0"},qs={class:"w-full"},Rs={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center w-full text-xs text-gray-500 dark:text-gray-400 gap-1"},Ks={class:"flex-shrink-0"},Hs=["href"],Gs={__name:"Welcome",setup(w){var C,G,J,se;const{props:V}=ce();h("personal");const v=h(!1),g=h(!1),_=h(!1),D=()=>{v.value=!v.value},r=()=>{g.value=!g.value},S=()=>{_.value=!_.value},F=L(()=>{var f;return((f=V.auth)==null?void 0:f.user)||null}),c=L(()=>{var f;return((f=F.value)==null?void 0:f.profile)||{}});L(()=>{var s,A,B,I,q,R,n,Y,K,re,oe,le,ae,ne,ie,de,ue,ge;if(!F.value)return"Not provided";const f=[(s=c.value)==null?void 0:s.address_line_1,(A=c.value)==null?void 0:A.address_line_2,(B=c.value)==null?void 0:B.city,(I=c.value)==null?void 0:I.state,(R=(q=c.value)==null?void 0:q.citizen)==null?void 0:R.uuid,(K=(Y=(n=c.value)==null?void 0:n.citizen)==null?void 0:Y.county)==null?void 0:K.name,(le=(oe=(re=c.value)==null?void 0:re.citizen)==null?void 0:oe.sub_county)==null?void 0:le.name,(ie=(ne=(ae=c.value)==null?void 0:ae.citizen)==null?void 0:ne.constituency)==null?void 0:ie.name,(ge=(ue=(de=c.value)==null?void 0:de.citizen)==null?void 0:ue.ward)==null?void 0:ge.name].filter(Boolean);return f.length>0?f.join(", "):"Not provided"}),L(()=>{var f,s;return((s=(f=c.value)==null?void 0:f.religion)==null?void 0:s.name)||"Not specified"}),L(()=>{var f,s;return((s=(f=c.value)==null?void 0:f.ethnicity)==null?void 0:s.name)||"Not specified"}),L(()=>{var s,A,B,I;return((s=c.value)==null?void 0:s.disability_status)===!0||((A=c.value)==null?void 0:A.disability_status)==="true"||((B=c.value)==null?void 0:B.disability_status)==="1"||((I=c.value)==null?void 0:I.disability_status)==="yes"?"Yes":"No"}),h(!1),h("");const k=h(!1),a=()=>{k.value=!k.value},i=ce().props,j=i.auth,T=f=>{v.value=!1},W=()=>{g.value=!1},U=()=>{_.value=!1},d=i.data||{},t=L(()=>{var f;return Array.isArray((f=j==null?void 0:j.user)==null?void 0:f.roles)&&j.user.roles.includes("administrator")});console.log("Page props:",i),console.log("Nested data:",d);const o=(d==null?void 0:d.stats)||((C=d==null?void 0:d.data)==null?void 0:C.stats)||{total_users:{count:0,change:0,title:"Total Users",icon:"fa-users",color:"blue"},active_users:{count:0,change:0,title:"Active Users",icon:"fa-user-check",color:"green"},new_members_this_month:{count:0,change:0,title:"New Members This Month",icon:"fa-user-plus",color:"purple"},engagement_rate:{count:0,change:0,title:"Engagement Rate",icon:"fa-chart-line",color:"yellow"},donations:{count:0,change:0,title:"Donations",icon:"fa-donate",color:"indigo"},monthly_subscriptions:{count:0,change:0,title:"Monthly Subscriptions",icon:"fa-calendar-alt",color:"pink"},membership_fees:{count:0,change:0,title:"Membership Fees",icon:"fa-id-card",color:"red"},pending_approvals:{count:0,change:0,title:"Pending Approvals",icon:"fa-clock",color:"orange"},candidates:{count:0,change:0,title:"Candidates",icon:"fa-user-tie",color:"teal"},nomination_papers:{count:0,change:0,title:"Nomination Papers",icon:"fa-file-signature",color:"blue"},compliance_items:{count:0,change:0,title:"Compliance Items",icon:"fa-clipboard-check",color:"green"},deadlines:{count:0,change:0,title:"Deadlines",icon:"fa-clock",color:"red"},departments:{count:0,change:0,title:"Departments",icon:"fa-building",color:"indigo"},services:{count:0,change:0,title:"Services",icon:"fa-concierge-bell",color:"purple"},projects:{count:0,change:0,title:"Projects",icon:"fa-project-diagram",color:"yellow"},press_releases:{count:0,change:0,title:"Press Releases",icon:"fa-newspaper",color:"blue"},social_media_reach:{count:0,change:0,title:"Social Media Reach",icon:"fa-share-alt",color:"pink"},upcoming_events:{count:0,change:0,title:"Upcoming Events",icon:"fa-calendar-alt",color:"green"},meetings_this_week:{count:0,change:0,title:"Meetings This Week",icon:"fa-users",color:"indigo"},active_volunteers:{count:0,change:0,title:"Active Volunteers",icon:"fa-hands-helping",color:"orange"},volunteer_hours:{count:0,change:0,title:"Volunteer Hours",icon:"fa-clock",color:"teal"},youth_members:{count:0,change:0,title:"Youth Members",icon:"fa-user-graduate",color:"blue"},women_members:{count:0,change:0,title:"Women Members",icon:"fa-female",color:"pink"}},x=(d==null?void 0:d.activities)||((G=d==null?void 0:d.data)==null?void 0:G.activities)||[];return d!=null&&d.roles||(J=d==null?void 0:d.data)!=null&&J.roles,d!=null&&d.user||(se=d==null?void 0:d.data)!=null&&se.user,console.log("Activities:",x),console.log("Has admin role:",t.value),(f,s)=>{var A,B,I,q,R;return u(),m("div",Kt,[e("section",Ht,[e("div",Gt,[e("div",Jt,[(u(!0),m(z,null,H(Object.entries(l(o)),(n,Y)=>{var K;return u(),m("div",{key:Y,class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-shadow duration-200"},[e("div",Yt,[e("div",Qt,[e("div",{class:M(["p-3 rounded-lg mr-4",`bg-${n[1].color}-50 dark:bg-${n[1].color}-900/20`])},[e("i",{class:M(`${n[1].icon} text-${n[1].color}-500 dark:text-${n[1].color}-400 text-xl`)},null,2)],2),e("div",null,[e("p",Xt,y(n[1].title),1),e("div",Zt,[e("p",es,y((K=n[1].count)==null?void 0:K.toLocaleString()),1),n[1].change!==void 0?(u(),m("span",{key:0,class:M(["ml-2 text-sm font-medium",{"text-green-500 dark:text-green-400":n[1].change>0,"text-red-500 dark:text-red-400":n[1].change<0,"text-gray-500":n[1].change===0}])},y(n[1].change>0?"+":"")+y(n[1].change)+y(n[1].change!==0?"%":""),3)):$("",!0)]),n[1].percentage_change!==void 0?(u(),m("p",ts,y(n[1].percentage_change>0?"+":"")+y(n[1].percentage_change)+"% from last period ",1)):$("",!0)])])])])}),128))]),t.value?(u(),m("div",ss,[e("div",rs,[e("div",os,[s[9]||(s[9]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center mb-4"},[e("i",{class:"fas fa-history text-primary-600 dark:text-primary-400 mr-2"}),p(" Latest Activities ")],-1)),s[10]||(s[10]=e("p",{class:"text-sm font-normal text-gray-500 dark:text-gray-400 mb-4"}," These activity logs are pulled from all the models in the database using the Laravel Spatie Audit Trail package. ",-1)),e("div",ls,[!l(x)||l(x).length===0?(u(),m("div",as,s[0]||(s[0]=[e("i",{class:"fas fa-inbox text-4xl mb-2 opacity-50"},null,-1),e("p",null,"No recent activities found",-1)]))):(u(!0),m(z,{key:1},H(l(x),n=>(u(),m("div",{key:n.id,class:"flex items-start group hover:bg-gray-50 dark:hover:bg-gray-700/50 p-2 rounded-lg transition-colors duration-200"},[e("div",ns,[e("div",{class:M(["h-10 w-10 rounded-full flex items-center justify-center",["bg-opacity-10",n.color==="blue"?"bg-blue-500":n.color==="green"?"bg-green-500":n.color==="red"?"bg-red-500":n.color==="yellow"?"bg-yellow-500":n.color==="purple"?"bg-purple-500":"bg-gray-500"]])},[e("i",{class:M(["fas",n.icon||"fa-info-circle","text-lg",n.color==="blue"?"text-blue-500":n.color==="green"?"text-green-500":n.color==="red"?"text-red-500":n.color==="yellow"?"text-yellow-500":n.color==="purple"?"text-purple-500":"text-gray-500"]),title:n.action||"Activity"},null,10,is)],2)]),e("div",ds,[e("div",us,[e("p",gs,y(n.title||"System Activity"),1),e("span",{class:M(["text-xs px-2 py-0.5 rounded-full",[n.status_class==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":n.status_class==="warning"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":n.status_class==="danger"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"]])},y(n.status||"Completed"),3)]),e("div",ms,[e("div",cs,[s[1]||(s[1]=e("i",{class:"far fa-user mr-1"},null,-1)),e("span",null,[n.user_id?(u(),pe(l(Q),{key:0,href:f.route("profile.view",{user_id:n.user_id}),class:"text-green-600 hover:underline underline-offset-4"},{default:N(()=>[p(y(n.user_name),1)]),_:2},1032,["href"])):(u(),m("span",fs,"System"))])]),s[7]||(s[7]=e("span",null,"•",-1)),e("div",{class:"flex items-center",title:"Created "+n.created_at},[s[2]||(s[2]=e("i",{class:"far fa-clock mr-1"},null,-1)),e("span",null,y(n.created_at),1)],8,ps),n.service_name?(u(),m(z,{key:0},[s[4]||(s[4]=e("span",null,"•",-1)),e("div",xs,[s[3]||(s[3]=e("i",{class:"fas fa-cog mr-1"},null,-1)),e("span",null,y(n.service_name),1)])],64)):$("",!0),n.department_name?(u(),m(z,{key:1},[s[6]||(s[6]=e("span",null,"•",-1)),e("div",bs,[s[5]||(s[5]=e("i",{class:"fas fa-building mr-1"},null,-1)),e("span",null,y(n.department_name),1)])],64)):$("",!0)])])]))),128))]),l(x)&&l(x).length>0?(u(),m("div",ys,[P(l(Q),{href:f.route("activity"),class:"text-sm font-medium text-primary-600 hover:text-green-700 dark:text-primary-400 dark:hover:text-primary-300 hover:underline underline-offset-4"},{default:N(()=>s[8]||(s[8]=[p(" View all activities "),e("i",{class:"fas fa-arrow-right ml-1"},null,-1)])),_:1,__:[8]},8,["href"])])):$("",!0)])]),e("div",vs,[e("div",ks,[s[15]||(s[15]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center mb-4"},[e("i",{class:"fas fa-bolt text-primary-600 dark:text-primary-400 mr-2"}),p(" Quick Actions ")],-1)),s[16]||(s[16]=e("p",{class:"text-sm font-normal text-gray-500 dark:text-gray-400 mb-4"}," These are some quick actions to help you get started. ",-1)),e("div",ws,[e("button",{type:"button",onClick:D,class:"w-full text-left flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 text-gray-700 dark:text-gray-300"},s[11]||(s[11]=[e("i",{class:"fas fa-plus-circle text-green-500 w-5 h-5 mr-3"},null,-1),e("span",null,"Add New Member",-1)])),e("button",{type:"button",onClick:r,class:"w-full text-left flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 text-gray-700 dark:text-gray-300"},s[12]||(s[12]=[e("i",{class:"fas fa-file-import text-blue-500 w-5 h-5 mr-3"},null,-1),e("span",null,"Import Members",-1)])),e("button",{type:"button",onClick:S,class:"w-full text-left flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 text-gray-700 dark:text-gray-300"},s[13]||(s[13]=[e("i",{class:"fas fa-file-export text-purple-500 w-5 h-5 mr-3"},null,-1),e("span",null,"Export Members",-1)])),P(l(Q),{href:f.route("settings"),class:"flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 text-gray-700 dark:text-gray-300"},{default:N(()=>s[14]||(s[14]=[e("i",{class:"fas fa-cog text-gray-500 w-5 h-5 mr-3"},null,-1),e("span",null,"Settings",-1)])),_:1,__:[14]},8,["href"])])])])])):$("",!0),e("div",hs,[e("div",_s,[e("div",$s,[s[17]||(s[17]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center"},[e("i",{class:"fas fa-book-open text-primary-600 dark:text-primary-400 mr-2"}),p(" Library ")],-1)),e("button",{onClick:a,class:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",title:k.value?"Hide Documents":"Show Documents"},[e("i",{class:M(["fas",k.value?"fa-chevron-up":"fa-chevron-down"])},null,2)],8,Cs)]),s[46]||(s[46]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-4"}," Download important party documents and resources ",-1)),b(e("div",Ds,[e("div",Ms,[s[23]||(s[23]=e("div",{class:"w-10 h-10 flex items-center justify-center bg-blue-50 dark:bg-blue-900/20 rounded-lg mr-3"},[e("i",{class:"fas fa-book-open text-blue-500 dark:text-blue-400 text-lg"})],-1)),e("div",Ps,[s[21]||(s[21]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Party Ideology ",-1)),s[22]||(s[22]=e("p",{class:"text-xs text-gray-600 dark:text-gray-300 mt-1 mb-1"}," Core principles and beliefs that guide the Forward Kenya Party ",-1)),e("div",Ss,[e("span",js,[e("a",{href:f.route("profile.view",1),class:"text-gray-500 dark:text-gray-400 hover:text-green-600 hover:underline hover:decoration-green-600 underline-offset-4"},"FKP Admin",8,Es),s[18]||(s[18]=p(" • ")),s[19]||(s[19]=e("span",{class:"text-gray-400 dark:text-gray-500"},"15 June 2025",-1))]),s[20]||(s[20]=e("span",{class:"ml-2 whitespace-nowrap"},[e("i",{class:"far fa-file-pdf mr-1"}),p(" PDF • 2.4 MB")],-1))])]),s[24]||(s[24]=e("a",{href:"/assets/FKP_Documents/FKP IDEOLOGY.pdf",download:"",target:"_blank",class:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200",title:"Download party ideology document"},[e("i",{class:"fas fa-arrow-down text-green-600"})],-1))]),e("div",Fs,[s[30]||(s[30]=e("div",{class:"w-10 h-10 flex items-center justify-center bg-green-50 dark:bg-green-900/20 rounded-lg mr-3"},[e("i",{class:"fas fa-file-alt text-green-500 dark:text-green-400 text-lg"})],-1)),e("div",Vs,[s[28]||(s[28]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Party Manifesto ",-1)),s[29]||(s[29]=e("p",{class:"text-xs text-gray-600 dark:text-gray-300 mt-1 mb-1"}," Our comprehensive plan and commitments for national development ",-1)),e("div",Us,[e("span",Ls,[e("a",{href:f.route("profile.view",1),class:"text-gray-500 dark:text-gray-400 hover:text-green-600 hover:underline hover:decoration-green-600 underline-offset-4"},"FKP Admin",8,Ns),s[25]||(s[25]=p(" • ")),s[26]||(s[26]=e("span",{class:"text-gray-400 dark:text-gray-500"},"15 June 2025",-1))]),s[27]||(s[27]=e("span",{class:"ml-2 whitespace-nowrap"},[e("i",{class:"far fa-file-pdf mr-1"}),p(" PDF • 1.8 MB")],-1))])]),s[31]||(s[31]=e("a",{href:"/assets/FKP_Documents/FKP MANIFESTO (1).pdf",download:"",target:"_blank",class:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200",title:"Download party manifesto document"},[e("i",{class:"fas fa-arrow-down text-green-600"})],-1))]),e("div",As,[s[37]||(s[37]=e("div",{class:"w-10 h-10 flex items-center justify-center bg-purple-50 dark:bg-purple-900/20 rounded-lg mr-3"},[e("i",{class:"fas fa-scroll text-purple-500 dark:text-purple-400 text-lg"})],-1)),e("div",Bs,[s[35]||(s[35]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Party Constitution ",-1)),s[36]||(s[36]=e("p",{class:"text-xs text-gray-600 dark:text-gray-300 mt-1 mb-1"}," Legal framework and structure of the Forward Kenya Party ",-1)),e("div",Is,[e("span",Os,[e("a",{href:f.route("profile.view",1),class:"text-gray-500 dark:text-gray-400 hover:text-green-600 hover:underline hover:decoration-green-600 underline-offset-4"},"FKP Admin",8,zs),s[32]||(s[32]=p(" • ")),s[33]||(s[33]=e("span",{class:"text-gray-400 dark:text-gray-500"},"15 June 2025",-1))]),s[34]||(s[34]=e("span",{class:"ml-2 whitespace-nowrap"},[e("i",{class:"far fa-file-pdf mr-1"}),p(" PDF • 3.1 MB")],-1))])]),s[38]||(s[38]=e("a",{href:"/assets/FKP_Documents/FORWARD KENYA PARTY CONSTITUTION.pdf",download:"",target:"_blank",class:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200",title:"Download party constitution document"},[e("i",{class:"fas fa-arrow-down text-green-600"})],-1))]),e("div",Ts,[s[44]||(s[44]=e("div",{class:"w-10 h-10 flex items-center justify-center bg-yellow-50 dark:bg-yellow-900/20 rounded-lg mr-3"},[e("i",{class:"fas fa-file-contract text-yellow-500 dark:text-yellow-400 text-lg"})],-1)),e("div",Ws,[s[42]||(s[42]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Party Nomination Rules ",-1)),s[43]||(s[43]=e("p",{class:"text-xs text-gray-600 dark:text-gray-300 mt-1 mb-1"}," Guidelines and procedures for party nominations and elections ",-1)),e("div",qs,[e("div",Rs,[e("span",Ks,[e("a",{href:f.route("profile.view",1),class:"text-gray-500 dark:text-gray-400 hover:text-green-600 hover:underline hover:decoration-green-600 underline-offset-4"},"FKP Admin",8,Hs),s[39]||(s[39]=p(" • ")),s[40]||(s[40]=e("span",{class:"text-gray-400 dark:text-gray-500"},"15 June 2025",-1))]),s[41]||(s[41]=e("div",{class:"flex items-center gap-1"},[e("i",{class:"far fa-file-pdf"}),e("span",null,"PDF"),e("span",null,"•"),e("span",null,"2.4 MB")],-1))])])]),s[45]||(s[45]=e("a",{href:"/assets/FKP_Documents/NOMINATION_RULES_AMMENDED 12.5.25.pdf",download:"",target:"_blank",class:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200",title:"Download party nomination rules document"},[e("i",{class:"fas fa-arrow-down text-green-600"})],-1))])],512),[[we,k.value]])])])])]),P(ot,{show:v.value,counties:((A=l(i).locations)==null?void 0:A.counties)||[],constituencies:((B=l(i).locations)==null?void 0:B.constituencies)||[],wards:((I=l(i).locations)==null?void 0:I.wards)||[],subCounties:((q=l(i).locations)==null?void 0:q.subCounties)||[],subLocations:((R=l(i).locations)==null?void 0:R.subLocations)||[],onClose:D,onSave:T},null,8,["show","counties","constituencies","wards","subCounties","subLocations"]),P(Dt,{show:g.value,onClose:r,onImport:W},null,8,["show"]),P(Rt,{show:_.value,onClose:S,onExport:U},null,8,["show"])])}}},Js={class:"flex justify-between items-center"},Ys={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},Qs={"aria-label":"Breadcrumb",class:"flex"},Xs={class:"inline-flex items-center space-x-1 md:space-x-3"},Zs={class:"inline-flex items-center"},er={class:"py-0 md:py-6"},tr={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},sr={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},nr={__name:"Dashboard",props:{title:{type:String,required:!0},data:{type:Object,required:!0}},setup(w){return(V,v)=>(u(),pe(he,{title:w.title},{header:N(()=>[e("div",Js,[e("h2",Ys,y(w.title),1),e("nav",Qs,[e("ol",Xs,[e("li",Zs,[P(l(Q),{href:V.route("dashboard"),class:"inline-flex items-center text-sm font-medium text-gray-700 dark:text-gray-400 hover:text-green-600 dark:hover:text-green-400"},{default:N(()=>v[0]||(v[0]=[e("i",{class:"fas fa-home mr-2"},null,-1),p(" Dashboard ")])),_:1,__:[0]},8,["href"])])])])])]),default:N(()=>[e("div",er,[e("div",tr,[e("div",sr,[P(Gs,{activities:w.data.activities,stats:w.data.stats,"featured-services":w.data.featuredServices,"featured-departments":w.data.featuredDepartments,"featured-projects":w.data.featuredProjects},null,8,["activities","stats","featured-services","featured-departments","featured-projects"])])])])]),_:1},8,["title"]))}};export{nr as default};
//# sourceMappingURL=Dashboard-Cehx6BOH.js.map
