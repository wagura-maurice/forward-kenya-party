import{T as te,r as x,P as I,w as Y,b as ke,e as we,s as i,u as h,k as n,m as e,A as f,M as be,D as p,x as y,H as N,v as o,E as R,p as F,l as O,y as z,R as oe,V as Q,F as E,J as he,z as B,Q as le,U as K,W as _e,i as ve,I as ee,O as $e}from"./vendor-BwcupqXt.js";import{_ as Ce}from"./AppLayout-CCGi-cKg.js";import{C as se}from"./vue-select-Dm6pxppC.js";import{_ as re}from"./InputError-C328GymS.js";/* empty css                                                                           */import{_ as Me}from"./_plugin-vue_export-helper-DlAUqK2U.js";const De={key:0,class:"fixed inset-0 overflow-y-auto z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Se={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Pe={class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-6 pt-5 pb-6 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full sm:p-8 relative"},Ve={class:"w-full"},je={class:"flex items-center justify-between mb-4"},Ue={class:"text-xl font-semibold text-gray-900 dark:text-white"},ze={class:"mb-6"},Fe={class:"flex justify-between mb-2"},Le={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Ee={class:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700"},Ne={key:0,class:"space-y-4"},Ae={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Be={class:"space-y-2"},Ie={class:"space-y-2"},Oe={class:"space-y-2"},Te={class:"space-y-2"},qe={class:"space-y-2"},We={class:"space-y-2"},Re={class:"space-y-2"},Ke={key:1,class:"space-y-4"},He={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ge={class:"space-y-2"},Je={class:"space-y-2"},Ye={class:"text-sm text-gray-500 py-2 px-3"},Qe={class:"space-y-2"},Xe={class:"text-sm text-gray-500 py-2 px-3"},Ze={class:"space-y-2"},et={key:2,class:"space-y-4"},tt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},st={class:"space-y-2"},rt={class:"space-y-2"},ot={class:"space-y-2"},lt={class:"flex items-center"},at={class:"space-y-2"},nt={class:"space-y-2"},ye=3,dt={__name:"MemberFormModal",props:{show:{type:Boolean,default:!1},isEditMode:{type:Boolean,default:!1},memberData:{type:Object,default:()=>({})},counties:{type:Array,default:()=>[]},constituencies:{type:Array,default:()=>[]},wards:{type:Array,default:()=>[]},subCounties:{type:Array,default:()=>[]},subLocations:{type:Array,default:()=>[]}},emits:["close","save"],setup(S,{emit:A}){const b=S,c=A,m={surname:"",other_names:"",id_number:"",phone:"",email:"",gender:"",date_of_birth:"",county_id:null,constituency_id:null,ward_id:null,polling_station:"",occupation:"",education_level:"",disability_status:!1,disability_description:"",next_of_kin_name:"",next_of_kin_phone:"",next_of_kin_relationship:""},$=()=>b.isEditMode&&b.memberData?{...m,...b.memberData}:{...m},l=te($());x(!1),x(!1);const v=I(()=>l.county_id?constituencies.value.filter(V=>V.county_id==l.county_id):[]),M=I(()=>l.constituency_id?b.wards.filter(V=>V.constituency_id==l.constituency_id):[]);Y(()=>l.county_id,(V,s)=>{V!==s&&(l.constituency_id=null,l.ward_id=null)}),Y(()=>l.constituency_id,(V,s)=>{V!==s&&(l.ward_id=null)});const D=x(1),U=()=>{c("close"),k()},d=()=>{b.isEditMode?l.put(route("members.update",l.id),{preserveScroll:!0,onSuccess:()=>{c("save",l),U()}}):l.post(route("members.store"),{preserveScroll:!0,onSuccess:()=>{c("save",l),U()}})},j=()=>{u(D.value)&&D.value++},_=()=>{D.value--},u=V=>{let s=!0,t="";switch(V){case 1:l.surname.trim()?l.other_names.trim()?l.id_number.trim()?l.phone.trim()?l.phone.length<9&&(t="Please enter a valid phone number",s=!1):(t="Phone number is required",s=!1):(t="ID number is required",s=!1):(t="Other names are required",s=!1):(t="Surname is required",s=!1);break;case 2:l.county_id?l.constituency_id?l.ward_id||(t="Ward is required",s=!1):(t="Constituency is required",s=!1):(t="County is required",s=!1);break;case 3:l.occupation?l.education_level||(t="Education level is required",s=!1):(t="Occupation is required",s=!1);break}return!s&&t&&alert(t),s},k=()=>{l.reset(),l.fill($()),D.value=1},P=V=>{V.key==="Escape"&&b.show&&U()};return ke(()=>{document.addEventListener("keydown",P)}),we(()=>{document.removeEventListener("keydown",P)}),(V,s)=>S.show?(n(),i("div",De,[e("div",Se,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:U}),e("div",Pe,[e("div",Ve,[e("div",je,[e("h3",Ue,f(S.isEditMode?"Update Member":"Add New Member"),1),e("button",{type:"button",onClick:U,class:"text-gray-400 hover:text-gray-500 focus:outline-none"},s[16]||(s[16]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",ze,[e("div",Fe,[e("span",Le," Step "+f(D.value)+" of "+f(ye),1)]),e("div",Ee,[e("div",{class:"bg-green-600 h-2.5 rounded-full",style:be("width: "+D.value/ye*100+"%")},null,4)])]),D.value===1?(n(),i("div",Ne,[s[27]||(s[27]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Personal Information",-1)),e("div",Ae,[e("div",Be,[s[17]||(s[17]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[y(" Surname "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>o(l).surname=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},null,512),[[N,o(l).surname]])]),e("div",Ie,[s[18]||(s[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[y(" Other Names "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=t=>o(l).other_names=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},null,512),[[N,o(l).other_names]])]),e("div",Oe,[s[19]||(s[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[y(" ID Number "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=t=>o(l).id_number=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:""},null,512),[[N,o(l).id_number]])]),e("div",Te,[s[20]||(s[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[y(" Phone Number "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{type:"tel","onUpdate:modelValue":s[3]||(s[3]=t=>o(l).phone=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"e.g. 712345678",required:""},null,512),[[N,o(l).phone]])]),e("div",qe,[s[21]||(s[21]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Email ",-1)),p(e("input",{type:"email","onUpdate:modelValue":s[4]||(s[4]=t=>o(l).email=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[N,o(l).email]])]),e("div",We,[s[23]||(s[23]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Gender ",-1)),p(e("select",{"onUpdate:modelValue":s[5]||(s[5]=t=>o(l).gender=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},s[22]||(s[22]=[e("option",{value:""},"Select Gender",-1),e("option",{value:"male"},"Male",-1),e("option",{value:"female"},"Female",-1),e("option",{value:"other"},"Other",-1)]),512),[[R,o(l).gender]])]),e("div",Re,[s[24]||(s[24]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Date of Birth ",-1)),p(e("input",{type:"date","onUpdate:modelValue":s[6]||(s[6]=t=>o(l).date_of_birth=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[N,o(l).date_of_birth]])])]),e("div",{class:"mt-8 flex justify-between"},[s[26]||(s[26]=e("div",null,null,-1)),e("button",{type:"button",onClick:j,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},s[25]||(s[25]=[y(" Next "),e("i",{class:"fas fa-arrow-right ml-2"},null,-1)]))])])):D.value===2?(n(),i("div",Ke,[s[35]||(s[35]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Contact Information",-1)),e("div",He,[e("div",Ge,[s[29]||(s[29]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[y(" County "),e("span",{class:"text-red-500"},"*")],-1)),F(o(se),{modelValue:o(l).county_id,"onUpdate:modelValue":s[7]||(s[7]=t=>o(l).county_id=t),options:S.counties,label:"name",reduce:t=>t.id,placeholder:"Select County",class:z(["w-full",{"border-red-500":o(l).errors.county_id}]),clearable:!1},{"no-options":O(()=>s[28]||(s[28]=[e("div",{class:"text-sm text-gray-500 py-2 px-3"}," No counties available ",-1)])),_:1},8,["modelValue","options","reduce","class"]),F(re,{message:o(l).errors.county_id,class:"mt-1 text-sm text-red-600"},null,8,["message"])]),e("div",Je,[s[30]||(s[30]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[y(" Constituency "),e("span",{class:"text-red-500"},"*")],-1)),F(o(se),{modelValue:o(l).constituency_id,"onUpdate:modelValue":s[8]||(s[8]=t=>o(l).constituency_id=t),options:v.value,label:"name",reduce:t=>t.id,placeholder:"Select Constituency",class:z(["w-full",{"border-red-500":o(l).errors.constituency_id}]),disabled:!o(l).county_id,clearable:!1},{"no-options":O(()=>[e("div",Ye,f(o(l).county_id?"No constituencies found":"Please select a county first"),1)]),_:1},8,["modelValue","options","reduce","class","disabled"]),F(re,{message:o(l).errors.constituency_id,class:"mt-1 text-sm text-red-600"},null,8,["message"])]),e("div",Qe,[s[31]||(s[31]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},[y(" Ward "),e("span",{class:"text-red-500"},"*")],-1)),F(o(se),{modelValue:o(l).ward_id,"onUpdate:modelValue":s[9]||(s[9]=t=>o(l).ward_id=t),options:M.value,label:"name",reduce:t=>t.id,placeholder:"Select Ward",class:z(["w-full",{"border-red-500":o(l).errors.ward_id}]),disabled:!o(l).constituency_id,clearable:!1},{"no-options":O(()=>[e("div",Xe,f(o(l).constituency_id?"No wards found":"Please select a constituency first"),1)]),_:1},8,["modelValue","options","reduce","class","disabled"]),F(re,{message:o(l).errors.ward_id,class:"mt-1 text-sm text-red-600"},null,8,["message"])]),e("div",Ze,[s[32]||(s[32]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Polling Station ",-1)),p(e("input",{type:"text","onUpdate:modelValue":s[10]||(s[10]=t=>o(l).polling_station=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter your polling station"},null,512),[[N,o(l).polling_station]])])]),e("div",{class:"mt-8 flex justify-between"},[e("button",{type:"button",onClick:_,class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},s[33]||(s[33]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),y(" Previous ")])),e("button",{type:"button",onClick:j,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},s[34]||(s[34]=[y(" Next "),e("i",{class:"fas fa-arrow-right ml-2"},null,-1)]))])])):D.value===3?(n(),i("div",et,[s[44]||(s[44]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Additional Information",-1)),e("div",tt,[e("div",st,[s[36]||(s[36]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Occupation ",-1)),p(e("input",{type:"text","onUpdate:modelValue":s[11]||(s[11]=t=>o(l).occupation=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[N,o(l).occupation]])]),e("div",rt,[s[38]||(s[38]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Education Level ",-1)),p(e("select",{"onUpdate:modelValue":s[12]||(s[12]=t=>o(l).education_level=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},s[37]||(s[37]=[oe('<option value="">Select Education Level</option><option value="primary">Primary</option><option value="secondary">Secondary</option><option value="diploma">Diploma</option><option value="degree">Degree</option><option value="masters">Masters</option><option value="phd">PhD</option><option value="other">Other</option>',8)]),512),[[R,o(l).education_level]])]),e("div",ot,[e("div",lt,[p(e("input",{id:"is_pwd",type:"checkbox","onUpdate:modelValue":s[13]||(s[13]=t=>o(l).is_pwd=t),class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"},null,512),[[Q,o(l).is_pwd]]),s[39]||(s[39]=e("label",{for:"is_pwd",class:"ml-2 block text-sm text-gray-700 dark:text-gray-300"}," Person with Disability (PWD) ",-1))])]),o(l).is_pwd?(n(),i(E,{key:0},[e("div",at,[s[40]||(s[40]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Type of Disability ",-1)),p(e("input",{type:"text","onUpdate:modelValue":s[14]||(s[14]=t=>o(l).pwd_disability=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[N,o(l).pwd_disability]])]),e("div",nt,[s[41]||(s[41]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," NCPWD Number ",-1)),p(e("input",{type:"text","onUpdate:modelValue":s[15]||(s[15]=t=>o(l).ncpwd_number=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[N,o(l).ncpwd_number]])])],64)):h("",!0)]),e("div",{class:"mt-8 flex justify-between"},[e("button",{type:"button",onClick:_,class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},s[42]||(s[42]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),y(" Previous ")])),e("button",{type:"button",onClick:d,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},s[43]||(s[43]=[y(" Save Member "),e("i",{class:"fas fa-save ml-2"},null,-1)]))])])):h("",!0)])])])])):h("",!0)}},it={key:0,class:"fixed inset-0 overflow-y-auto z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},ut={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ct={class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-6 pt-5 pb-6 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full sm:p-8 relative"},gt={class:"w-full"},mt={class:"mt-4"},ft={class:"space-y-6"},pt={class:"space-y-1 text-center"},xt={class:"flex text-sm text-gray-600 dark:text-gray-300"},yt={class:"relative cursor-pointer bg-white dark:bg-gray-800 rounded-md font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 focus-within:outline-none"},bt={key:0,class:"text-sm font-medium text-gray-900 dark:text-gray-100 mt-2"},vt={key:0,class:"space-y-4"},kt={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},wt={class:"space-y-3"},ht={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},_t={class:"col-span-2"},$t=["onUpdate:modelValue"],Ct=["value"],Mt={class:"space-y-3"},Dt={class:"flex items-center"},St={class:"mt-6 flex justify-end space-x-3"},Pt=["disabled"],Vt={__name:"ImportMembersModal",props:{show:{type:Boolean,default:!1}},emits:["close","import"],setup(S,{emit:A}){const b=A,c=te({file:null,type:"excel",has_headers:!0,update_existing:!1,match_columns:{}}),m=x(null),$=x(!1),l=x([]),v=x(!1),M=s=>{s.preventDefault(),v.value=!0},D=()=>{v.value=!1},U=s=>{s.preventDefault(),v.value=!1;const t=s.dataTransfer.files;if(t.length>0){const a=t[0];a.name.endsWith(".xlsx")?_({target:{files:[a]}}):alert("Please upload a valid .xlsx file")}},d=["surname","other_names","id_number","phone","email","gender","date_of_birth","county","constituency","ward","polling_station","occupation","education_level","disability_status","disability_description","ncpwd_number"],j=()=>{const s=d.join("	")+`
`,t=new Blob([s],{type:"application/vnd.ms-excel"}),a=URL.createObjectURL(t),C=document.createElement("a");C.href=a,C.download="members_import_template.xls",document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(a)},_=s=>{const t=s.target.files[0];if(t){if(!t.name.endsWith(".xlsx")){alert("Please upload a valid .xlsx file");return}c.file=t,u(t)}},u=s=>{if(s.name.endsWith(".csv")){const t=new FileReader;t.onload=a=>{const L=a.target.result.split(`
`)[0];l.value=L.split(",").map(X=>X.trim().toLowerCase()),k()},t.readAsText(s)}else s.name.match(/\.xlsx?$/i)&&($.value=!0)},k=()=>{d.forEach(s=>{const t=l.value.find(a=>a.toLowerCase().includes(s)||s.toLowerCase().includes(a));t?c.match_columns[s]=t:c.match_columns[s]=""})},P=()=>{c.reset(),b("close")},V=()=>{if(!c.file){alert("Please select a file to import");return}const s=new FormData;s.append("file",c.file),s.append("type",c.type),s.append("has_headers",c.has_headers),s.append("update_existing",c.update_existing),c.post(route("members.import"),{preserveScroll:!0,onSuccess:()=>{b("import"),P()},forceFormData:!0})};return(s,t)=>S.show?(n(),i("div",it,[e("div",ut,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:P}),e("div",ct,[e("div",gt,[e("div",{class:"flex items-center justify-between mb-4"},[t[3]||(t[3]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Import Members ",-1)),e("button",{type:"button",onClick:P,class:"text-gray-400 hover:text-gray-500 focus:outline-none"},t[2]||(t[2]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",mt,[e("div",ft,[e("div",{class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg"},[e("div",{class:"flex"},[t[7]||(t[7]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),e("div",{class:"ml-3"},[t[5]||(t[5]=e("h3",{class:"text-sm font-medium text-blue-800 dark:text-blue-200"}," Download Template ",-1)),t[6]||(t[6]=e("div",{class:"mt-2 text-sm text-blue-700 dark:text-blue-300"},[e("p",null," Download our Excel template to ensure your file has the correct format. ")],-1)),e("div",{class:"mt-4"},[e("button",{type:"button",onClick:j,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},t[4]||(t[4]=[e("svg",{class:"-ml-0.5 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),y(" Download Template ")]))])])])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Upload Excel File ",-1)),e("div",{onDragover:he(M,["prevent"]),onDragleave:D,onDrop:U,onClick:t[0]||(t[0]=a=>m.value.click()),class:z([{"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":v.value,"border-gray-300 dark:border-gray-600":!v.value},"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-md transition-colors duration-150 cursor-pointer"])},[e("div",pt,[t[10]||(t[10]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("div",xt,[e("span",yt,[t[8]||(t[8]=e("span",null,"Upload a file",-1)),e("input",{type:"file",ref_key:"fileInput",ref:m,onChange:_,accept:".xlsx",class:"sr-only"},null,544)]),t[9]||(t[9]=e("p",{class:"pl-1"},"or drag and drop",-1))]),t[11]||(t[11]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Excel (.xlsx) up to 5MB ",-1)),o(c).file?(n(),i("p",bt,f(o(c).file.name),1)):h("",!0)])],34)]),$.value&&l.value.length>0?(n(),i("div",vt,[e("div",kt,[t[14]||(t[14]=e("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Map Columns ",-1)),e("div",wt,[(n(),i(E,null,B(d,a=>e("div",{key:a,class:"grid grid-cols-3 gap-4 items-center"},[e("label",ht,f(a.replace(/_/g," ")),1),e("div",_t,[p(e("select",{"onUpdate:modelValue":C=>o(c).match_columns[a]=C,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},[t[13]||(t[13]=e("option",{value:""},"-- Select Column --",-1)),(n(!0),i(E,null,B(l.value,C=>(n(),i("option",{key:C,value:C},f(C),9,Ct))),128))],8,$t),[[R,o(c).match_columns[a]]])])])),64))])])])):h("",!0),e("div",Mt,[e("div",Dt,[p(e("input",{id:"update-existing","onUpdate:modelValue":t[1]||(t[1]=a=>o(c).update_existing=a),type:"checkbox",checked:"",disabled:"",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded bg-gray-100 dark:bg-gray-700 cursor-not-allowed"},null,512),[[Q,o(c).update_existing]]),t[15]||(t[15]=e("label",{for:"update-existing",class:"ml-2 block text-sm text-gray-700 dark:text-gray-400"}," Update existing members (match by ID Number) ",-1))])])])]),e("div",St,[e("button",{type:"button",onClick:P,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Cancel "),e("button",{type:"button",onClick:V,disabled:!o(c).file,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"}," Import ",8,Pt)])])])])])):h("",!0)}},jt={key:0,class:"fixed inset-0 overflow-y-auto z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Ut={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},zt={class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-6 pt-5 pb-6 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full sm:p-8 relative"},Ft={class:"w-full"},Lt={class:"mt-4"},Et={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Nt={class:"md:col-span-2 space-y-4"},At={class:"space-y-2"},Bt={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},It={class:"flex items-center p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},Ot={class:"flex items-center p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},Tt={class:"flex items-center p-3 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},qt={class:"flex items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-md border border-gray-200 dark:border-gray-600"},Wt={class:"md:col-span-2 border-t border-gray-200 dark:border-gray-700 pt-4"},Rt={key:0,class:"mt-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},Kt={class:"flex items-center h-5"},Ht=["id","value"],Gt={class:"ml-3 text-sm"},Jt=["for"],Yt={class:"md:col-span-2 border-t border-gray-200 dark:border-gray-700 pt-4"},Qt={key:0,class:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4"},Xt=["disabled"],Zt=["value"],es=["disabled"],ts=["value"],ss=["disabled"],rs=["value"],os=["disabled"],ls=["value"],as={class:"md:col-span-2 border-t border-gray-200 dark:border-gray-700 pt-4"},ns={key:0,class:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4"},ds={__name:"ExportMembersModal",props:{show:{type:Boolean,default:!1},onClose:{type:Function,default:()=>{}},onExport:{type:Function,default:()=>{}}},emits:["close","export"],setup(S,{emit:A}){const b=A,c=x(!0),m=x(!0),$=x(!0),l=x([]),v=x([]),M=x([]),D=x(!1),U=x(!1),d=x(!1),j=le(),_=I(()=>j.props.formData.locations.counties||[]),u=te({format:"excel",include_headers:!0,fields:["surname","other_names","id_number","telephone","email","gender","date_of_birth","county","constituency","ward","polling_center","occupation","education_level","disability_status","ncpwd_number","created_at"],filters:{county_id:null,constituency_id:null,ward_id:null,polling_center_id:null,date_from:"",date_to:""}});Y(()=>u.filters.county_id,s=>{var t,a;if(s){const C=((a=(t=j.props.formData.locations)==null?void 0:t.constituencies)==null?void 0:a.filter(L=>L.county_id==s))||[];l.value=C}else l.value=[];u.filters.constituency_id=null,u.filters.ward_id=null,u.filters.polling_center_id=null,v.value=[],M.value=[]},{immediate:!0}),Y(()=>u.filters.constituency_id,s=>{var t,a;if(s){const C=((a=(t=j.props.formData.locations)==null?void 0:t.wards)==null?void 0:a.filter(L=>L.constituency_id==s))||[];v.value=C}else v.value=[];u.filters.ward_id=null,u.filters.polling_center_id=null,M.value=[]},{immediate:!0}),Y(()=>u.filters.ward_id,s=>{var t,a;if(s){const C=((a=(t=j.props.formData.locations)==null?void 0:t.polling_centers)==null?void 0:a.filter(L=>L.ward_id==s))||[];M.value=C}else M.value=[],u.filters.polling_center_id=null},{immediate:!0});const k=[{value:"surname",label:"Surname"},{value:"other_names",label:"Other Names"},{value:"id_number",label:"ID Number"},{value:"telephone",label:"Telephone"},{value:"email",label:"Email"},{value:"gender",label:"Gender"},{value:"date_of_birth",label:"Date of Birth"},{value:"county",label:"County"},{value:"constituency",label:"Constituency"},{value:"ward",label:"Ward"},{value:"polling_center",label:"Polling Center"},{value:"occupation",label:"Occupation"},{value:"education_level",label:"Education Level"},{value:"disability_status",label:"Disability Status"},{value:"ncpwd_number",label:"NCPWD Number"},{value:"created_at",label:"Date Registered"}],P=()=>{u.reset(),b("close")},V=()=>{const s=new URLSearchParams;s.append("format",u.format),u.include_headers&&s.append("include_headers","1"),u.fields.forEach(t=>{s.append("fields[]",t)}),Object.entries(u.filters).forEach(([t,a])=>{a&&s.append(`filters[${t}]`,a)}),window.location.href=route("export.membership")+"?"+s.toString(),b("export"),P()};return(s,t)=>S.show?(n(),i("div",jt,[e("div",Ut,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:P}),e("div",zt,[e("div",Ft,[e("div",{class:"flex items-center justify-between mb-4"},[t[15]||(t[15]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Export Members ",-1)),e("button",{type:"button",onClick:P,class:"text-gray-400 hover:text-gray-500 focus:outline-none"},t[14]||(t[14]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Lt,[e("div",Et,[e("div",Nt,[e("div",At,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Export Format ",-1)),e("div",Bt,[e("div",It,[p(e("input",{id:"format-excel","onUpdate:modelValue":t[0]||(t[0]=a=>o(u).format=a),type:"radio",value:"excel",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600"},null,512),[[K,o(u).format]]),t[16]||(t[16]=e("label",{for:"format-excel",class:"ml-3 block text-sm font-medium text-gray-700 dark:text-gray-300"},[e("span",{class:"block"},"Excel"),e("span",{class:"text-xs text-gray-500 dark:text-gray-400"},".xlsx")],-1))]),e("div",Ot,[p(e("input",{id:"format-csv","onUpdate:modelValue":t[1]||(t[1]=a=>o(u).format=a),type:"radio",value:"csv",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600"},null,512),[[K,o(u).format]]),t[17]||(t[17]=e("label",{for:"format-csv",class:"ml-3 block text-sm font-medium text-gray-700 dark:text-gray-300"},[e("span",{class:"block"},"CSV"),e("span",{class:"text-xs text-gray-500 dark:text-gray-400"},".csv")],-1))]),e("div",Tt,[p(e("input",{id:"format-pdf","onUpdate:modelValue":t[2]||(t[2]=a=>o(u).format=a),type:"radio",value:"pdf",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600"},null,512),[[K,o(u).format]]),t[18]||(t[18]=e("label",{for:"format-pdf",class:"ml-3 block text-sm font-medium text-gray-700 dark:text-gray-300"},[e("span",{class:"block"},"PDF"),e("span",{class:"text-xs text-gray-500 dark:text-gray-400"},".pdf")],-1))])])]),e("div",qt,[p(e("input",{id:"include-headers","onUpdate:modelValue":t[3]||(t[3]=a=>o(u).include_headers=a),type:"checkbox",checked:"",disabled:"",class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded"},null,512),[[Q,o(u).include_headers]]),t[20]||(t[20]=e("label",{for:"include-headers",class:"ml-3 block text-sm font-medium text-gray-700 dark:text-gray-300"},[e("span",{class:"block"},"Include Headers"),e("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Column headers will be included in the export")],-1))])]),e("div",Wt,[e("button",{type:"button",onClick:t[4]||(t[4]=a=>c.value=!c.value),class:"w-full flex justify-between items-center text-left focus:outline-none"},[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Select Fields to Export ",-1)),(n(),i("svg",{class:z([{"transform rotate-180":c.value,"transform rotate-0":!c.value},"h-5 w-5 text-gray-500 transition-transform duration-200"]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},t[21]||(t[21]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))]),c.value?(n(),i("div",Rt,[(n(),i(E,null,B(k,a=>e("div",{key:a.value,class:"relative flex items-start"},[e("div",Kt,[p(e("input",{id:`field-${a.value}`,"onUpdate:modelValue":t[5]||(t[5]=C=>o(u).fields=C),value:a.value,type:"checkbox",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 dark:border-gray-600 rounded"},null,8,Ht),[[Q,o(u).fields]])]),e("div",Gt,[e("label",{for:`field-${a.value}`,class:"font-medium text-gray-700 dark:text-gray-300"},f(a.label),9,Jt)])])),64))])):h("",!0)]),e("div",Yt,[e("button",{type:"button",onClick:t[6]||(t[6]=a=>m.value=!m.value),class:"w-full flex justify-between items-center text-left focus:outline-none"},[t[24]||(t[24]=e("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Location Filters (Optional) ",-1)),(n(),i("svg",{class:z([{"transform rotate-180":m.value,"transform rotate-0":!m.value},"h-5 w-5 text-gray-500 transition-transform duration-200"]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},t[23]||(t[23]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))]),m.value?(n(),i("div",Qt,[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," County ",-1)),p(e("select",{"onUpdate:modelValue":t[7]||(t[7]=a=>o(u).filters.county_id=a),class:z(["mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md capitalize",{"opacity-50":D.value}]),disabled:D.value},[t[25]||(t[25]=e("option",{value:null},"Select County",-1)),(n(!0),i(E,null,B(_.value,a=>(n(),i("option",{key:a.id,value:a.id,class:"location-option"},f(a.name),9,Zt))),128))],10,Xt),[[R,o(u).filters.county_id]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Constituency ",-1)),p(e("select",{"onUpdate:modelValue":t[8]||(t[8]=a=>o(u).filters.constituency_id=a),disabled:!o(u).filters.county_id||U.value,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md disabled:opacity-50 capitalize"},[t[27]||(t[27]=e("option",{value:null},"Select Constituency",-1)),(n(!0),i(E,null,B(l.value,a=>(n(),i("option",{key:a.id,value:a.id,class:"location-option"},f(a.name),9,ts))),128))],8,es),[[R,o(u).filters.constituency_id]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Ward ",-1)),p(e("select",{"onUpdate:modelValue":t[9]||(t[9]=a=>o(u).filters.ward_id=a),disabled:!o(u).filters.constituency_id||d.value,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md disabled:opacity-50 capitalize"},[t[29]||(t[29]=e("option",{value:null},"Select Ward",-1)),(n(!0),i(E,null,B(v.value,a=>(n(),i("option",{key:a.id,value:a.id,class:"location-option"},f(a.name),9,rs))),128))],8,ss),[[R,o(u).filters.ward_id]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Polling Center ",-1)),p(e("select",{"onUpdate:modelValue":t[10]||(t[10]=a=>o(u).filters.polling_center_id=a),disabled:!o(u).filters.ward_id||M.value.length===0,class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md disabled:opacity-50 capitalize"},[t[31]||(t[31]=e("option",{value:null},"Select Polling Center",-1)),(n(!0),i(E,null,B(M.value,a=>(n(),i("option",{key:a.id,value:a.id,class:"location-option"},f(a.name),9,ls))),128))],8,os),[[R,o(u).filters.polling_center_id]])])])):h("",!0)]),e("div",as,[e("button",{type:"button",onClick:t[11]||(t[11]=a=>$.value=!$.value),class:"w-full flex justify-between items-center text-left focus:outline-none"},[t[34]||(t[34]=e("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Date Filters (Optional) ",-1)),(n(),i("svg",{class:z([{"transform rotate-180":$.value,"transform rotate-0":!$.value},"h-5 w-5 text-gray-500 transition-transform duration-200"]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},t[33]||(t[33]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))]),$.value?(n(),i("div",ns,[e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," From Date ",-1)),p(e("input",{"onUpdate:modelValue":t[12]||(t[12]=a=>o(u).filters.date_from=a),type:"date",class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},null,512),[[N,o(u).filters.date_from]])]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," To Date ",-1)),p(e("input",{"onUpdate:modelValue":t[13]||(t[13]=a=>o(u).filters.date_to=a),type:"date",class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},null,512),[[N,o(u).filters.date_to]])])])):h("",!0)])])]),e("div",{class:"mt-6 flex justify-end space-x-3"},[e("button",{type:"button",onClick:P,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Cancel "),e("button",{type:"button",onClick:V,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Export ")])])])])])):h("",!0)}},is=Me(ds,[["__scopeId","data-v-1bfa91e3"]]),us={key:0,class:"fixed inset-0 overflow-y-auto z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},cs={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},gs={class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-6 pt-5 pb-6 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full sm:p-8 relative"},ms=["disabled"],fs={class:"w-full"},ps={class:"text-center sm:text-left"},xs={class:"text-xl font-semibold text-gray-900 dark:text-white"},ys={key:0},bs={key:1,class:"flex items-center justify-center sm:justify-start"},vs={key:2,class:"text-green-600 dark:text-green-400"},ks={key:3,class:"text-red-600 dark:text-red-400"},ws={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},hs={key:0,class:"mt-6"},_s={class:"flex justify-between text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},$s={class:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700"},Cs={key:1,class:"mt-6 space-y-4"},Ms={class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},Ds={class:"relative flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50"},Ss={class:"relative flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50"},Ps={class:"relative flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50"},Vs={class:"flex items-start"},js={class:"flex items-center h-5"},Us={key:2,class:"mt-6"},zs={class:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-3"},Fs={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Ls={class:"px-4 py-5 sm:p-6"},Es={class:"flex items-center"},Ns={class:"ml-5 w-0 flex-1"},As={class:"flex items-baseline"},Bs={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Is={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Os={class:"px-4 py-5 sm:p-6"},Ts={class:"flex items-center"},qs={class:"ml-5 w-0 flex-1"},Ws={class:"flex items-baseline"},Rs={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Ks={class:"bg-white dark:bg-gray-800 overflow-hidden shadow rounded-lg"},Hs={class:"px-4 py-5 sm:p-6"},Gs={class:"flex items-center"},Js={class:"ml-5 w-0 flex-1"},Ys={class:"flex items-baseline"},Qs={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Xs={key:0,class:"mt-6"},Zs={class:"bg-red-50 dark:bg-red-900/10 border-l-4 border-red-400 p-4 overflow-auto max-h-40"},er={class:"list-disc pl-5 space-y-1 text-sm text-red-700 dark:text-red-400"},tr={key:3,class:"mt-6"},sr={class:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-400 p-4"},rr={class:"flex"},or={class:"ml-3"},lr={class:"text-sm text-red-700 dark:text-red-400"},ar={key:0,class:"mt-2"},nr={class:"list-disc pl-5 space-y-1 text-sm"},dr={class:"mt-6 flex justify-end space-x-3"},ir={__name:"SyncMembersModal",props:{show:{type:Boolean,default:!1},onClose:{type:Function,default:()=>{}}},emits:["close"],setup(S,{emit:A}){const b=A,c=x("idle"),m=x(0),$=x(""),l=x({added:0,updated:0,deleted:0,errors:[]});x({syncType:"both",forceUpdate:!1});const v=te({sync_type:"both",force_update:!1}),M=()=>{c.value="idle",m.value=0,$.value="",l.value={added:0,updated:0,deleted:0,errors:[]},b("close")},D=async()=>{var U,d,j,_;c.value="syncing",m.value=10,$.value="Starting synchronization process...";try{const u=setInterval(()=>{m.value<90&&(m.value+=10)},500),k=await axios.post(route("members.sync"),v);clearInterval(u),m.value=100,k.data.success?(c.value="success",$.value="Synchronization completed successfully!",l.value=k.data.data,b("synced",k.data.data)):(c.value="error",$.value=k.data.message||"An error occurred during synchronization.",l.value.errors=k.data.errors||[])}catch(u){console.error("Sync error:",u),c.value="error",$.value=((d=(U=u.response)==null?void 0:U.data)==null?void 0:d.message)||"Failed to synchronize members. Please try again.",l.value.errors=((_=(j=u.response)==null?void 0:j.data)==null?void 0:_.errors)||[u.message]}};return(U,d)=>{const j=_e("ArrowPathIcon");return S.show?(n(),i("div",us,[e("div",cs,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:M,"aria-hidden":"true"}),e("div",gs,[e("button",{onClick:M,class:"absolute top-4 right-4 text-gray-400 hover:text-gray-500 focus:outline-none",disabled:c.value==="syncing"},d[4]||(d[4]=[e("i",{class:"fas fa-times text-xl"},null,-1),e("span",{class:"sr-only"},"Close",-1)]),8,ms),e("div",fs,[e("div",ps,[e("h3",xs,[c.value==="idle"?(n(),i("span",ys,"Synchronize Members")):c.value==="syncing"?(n(),i("span",bs,d[5]||(d[5]=[e("i",{class:"fas fa-sync-alt animate-spin h-5 w-5 mr-2"},null,-1),y(" Synchronizing... ")]))):c.value==="success"?(n(),i("span",vs," Synchronization Complete ")):(n(),i("span",ks," Synchronization Failed "))]),e("p",ws,f($.value),1)]),c.value==="syncing"?(n(),i("div",hs,[e("div",_s,[d[6]||(d[6]=e("span",null,"Progress",-1)),e("span",null,f(m.value)+"%",1)]),e("div",$s,[e("div",{class:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:be({width:`${m.value}%`})},null,4)])])):h("",!0),c.value==="idle"?(n(),i("div",Cs,[e("div",null,[d[10]||(d[10]=e("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Synchronization Type",-1)),e("div",Ms,[e("label",Ds,[p(e("input",{type:"radio","onUpdate:modelValue":d[0]||(d[0]=_=>o(v).sync_type=_),value:"pull",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[K,o(v).sync_type]]),d[7]||(d[7]=e("div",{class:"ml-3 flex flex-col"},[e("span",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Pull from Authority"),e("span",{class:"block text-xs text-gray-500 dark:text-gray-400"},"Download updates from the authority")],-1))]),e("label",Ss,[p(e("input",{type:"radio","onUpdate:modelValue":d[1]||(d[1]=_=>o(v).sync_type=_),value:"push",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[K,o(v).sync_type]]),d[8]||(d[8]=e("div",{class:"ml-3 flex flex-col"},[e("span",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Push to Authority"),e("span",{class:"block text-xs text-gray-500 dark:text-gray-400"},"Upload local changes to authority")],-1))]),e("label",Ps,[p(e("input",{type:"radio","onUpdate:modelValue":d[2]||(d[2]=_=>o(v).sync_type=_),value:"both",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[K,o(v).sync_type]]),d[9]||(d[9]=e("div",{class:"ml-3 flex flex-col"},[e("span",{class:"block text-sm font-medium text-gray-900 dark:text-white"},"Full Sync"),e("span",{class:"block text-xs text-gray-500 dark:text-gray-400"},"Two-way synchronization")],-1))])])]),e("div",Vs,[e("div",js,[p(e("input",{id:"force-update","onUpdate:modelValue":d[3]||(d[3]=_=>o(v).force_update=_),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[Q,o(v).force_update]])]),d[11]||(d[11]=e("div",{class:"ml-3 text-sm"},[e("label",{for:"force-update",class:"font-medium text-gray-700 dark:text-gray-300"},"Force update all records"),e("p",{class:"text-gray-500 dark:text-gray-400"},"Overwrite local/remote records even if they haven't changed")],-1))]),d[12]||(d[12]=oe('<div class="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 mt-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-yellow-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><p class="text-sm text-yellow-700 dark:text-yellow-400"> This operation will synchronize member data with the authority. Deleted members on either side will be processed according to the synchronization type selected. </p></div></div></div>',1))])):h("",!0),c.value==="success"?(n(),i("div",Us,[d[20]||(d[20]=oe('<div class="bg-green-50 dark:bg-green-900/20 border-l-4 border-green-400 p-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div><div class="ml-3"><p class="text-sm text-green-700 dark:text-green-400"> Synchronization completed successfully! </p></div></div></div>',1)),e("div",zs,[e("div",Fs,[e("div",Ls,[e("div",Es,[d[14]||(d[14]=e("div",{class:"flex-shrink-0 bg-green-100 dark:bg-green-900/30 rounded-md p-3"},[e("i",{class:"fas fa-upload text-gray-400"})],-1)),e("div",Ns,[e("dl",null,[d[13]||(d[13]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"Added",-1)),e("dd",As,[e("div",Bs,f(l.value.added),1)])])])])])]),e("div",Is,[e("div",Os,[e("div",Ts,[d[16]||(d[16]=e("div",{class:"flex-shrink-0 bg-blue-100 dark:bg-blue-900/30 rounded-md p-3"},[e("i",{class:"fas fa-sync-alt text-gray-400"})],-1)),e("div",qs,[e("dl",null,[d[15]||(d[15]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"Updated",-1)),e("dd",Ws,[e("div",Rs,f(l.value.updated),1)])])])])])]),e("div",Ks,[e("div",Hs,[e("div",Gs,[d[18]||(d[18]=e("div",{class:"flex-shrink-0 bg-red-100 dark:bg-red-900/30 rounded-md p-3"},[e("i",{class:"fas fa-trash-alt text-gray-400"})],-1)),e("div",Js,[e("dl",null,[d[17]||(d[17]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"Deleted",-1)),e("dd",Ys,[e("div",Qs,f(l.value.deleted),1)])])])])])])]),l.value.errors&&l.value.errors.length>0?(n(),i("div",Xs,[d[19]||(d[19]=e("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Errors",-1)),e("div",Zs,[e("ul",er,[(n(!0),i(E,null,B(l.value.errors,(_,u)=>(n(),i("li",{key:u},f(_),1))),128))])])])):h("",!0)])):h("",!0),c.value==="error"?(n(),i("div",tr,[e("div",sr,[e("div",rr,[d[21]||(d[21]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),e("div",or,[e("p",lr,f($.value),1),l.value.errors&&l.value.errors.length>0?(n(),i("div",ar,[e("ul",nr,[(n(!0),i(E,null,B(l.value.errors,(_,u)=>(n(),i("li",{key:u,class:"text-red-700 dark:text-red-400"},f(_),1))),128))])])):h("",!0)])])])])):h("",!0),e("div",dr,[c.value==="idle"?(n(),i("button",{key:0,type:"button",onClick:M,class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel ")):h("",!0),c.value==="idle"?(n(),i("button",{key:1,type:"button",onClick:D,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[F(j,{class:"-ml-1 mr-2 h-4 w-4"}),d[22]||(d[22]=y(" Start Synchronization "))])):h("",!0),c.value==="success"||c.value==="error"?(n(),i("button",{key:2,type:"button",onClick:M,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Done ")):h("",!0)])])])])])):h("",!0)}}},ur={class:"min-h-screen bg-white dark:bg-gray-900"},cr={class:"py-6 sm:py-8"},gr={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},mr={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10"},fr={class:"p-6"},pr={class:"flex items-center"},xr={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},yr={class:"flex items-center"},br={class:"text-2xl font-semibold text-gray-900 dark:text-white"},vr={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},kr={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10"},wr={class:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border border-gray-100 dark:border-gray-700"},hr={class:"p-6"},_r={class:"space-y-2"},$r={key:0,class:"text-center py-8 text-gray-500 dark:text-gray-400"},Cr={class:"flex-shrink-0"},Mr=["title"],Dr={class:"ml-4 flex-1 min-w-0"},Sr={class:"flex items-center justify-between"},Pr={class:"text-sm font-medium text-gray-900 dark:text-white"},Vr={class:"flex flex-wrap items-center mt-1 text-xs text-gray-500 dark:text-gray-400 gap-1"},jr={class:"flex items-center capitalize"},Ur={key:1},zr=["title"],Fr={class:"flex items-center"},Lr={class:"flex items-center"},Er={key:0,class:"mt-4 text-right"},Nr={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border border-gray-100 dark:border-gray-700"},Ar={class:"p-6"},Br={class:"space-y-2"},Ir={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border border-gray-100 dark:border-gray-700 mb-10"},Or={class:"p-6"},Tr={class:"flex justify-between items-center mb-4"},qr=["title"],Wr={class:"space-y-3"},Rr={class:"flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200"},Kr={class:"flex-1 min-w-0"},Hr={class:"flex justify-between items-center w-full text-xs text-gray-500 dark:text-gray-400"},Gr={class:"flex-shrink-0"},Jr=["href"],Yr={class:"flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200"},Qr={class:"flex-1 min-w-0"},Xr={class:"flex justify-between items-center w-full text-xs text-gray-500 dark:text-gray-400"},Zr={class:"flex-shrink-0"},eo=["href"],to={class:"flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200"},so={class:"flex-1 min-w-0"},ro={class:"flex justify-between items-center w-full text-xs text-gray-500 dark:text-gray-400"},oo={class:"flex-shrink-0"},lo=["href"],ao={class:"flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200"},no={class:"flex-1 min-w-0"},io={class:"w-full"},uo={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center w-full text-xs text-gray-500 dark:text-gray-400 gap-1"},co={class:"flex-shrink-0"},go=["href"],mo={__name:"Welcome",setup(S){var X,ae,ne;const{props:A}=le(),b=le().props,c=b.auth,m=b.data||{},$=I(()=>{var w;return Array.isArray((w=c==null?void 0:c.user)==null?void 0:w.roles)&&c.user.roles.includes("administrator")});x("personal");const l=x(!1),v=x(!1),M=x(!1),D=x(!1),U=()=>{l.value=!l.value},d=()=>{v.value=!v.value},j=()=>{M.value=!M.value},_=()=>{D.value=!D.value},u=I(()=>{var w;return((w=A.auth)==null?void 0:w.user)||null}),k=I(()=>{var w;return((w=u.value)==null?void 0:w.profile)||{}});I(()=>{var r,T,q,W,H,G,g,Z,J,de,ie,ue,ce,ge,me,fe,pe,xe;if(!u.value)return"Not provided";const w=[(r=k.value)==null?void 0:r.address_line_1,(T=k.value)==null?void 0:T.address_line_2,(q=k.value)==null?void 0:q.city,(W=k.value)==null?void 0:W.state,(G=(H=k.value)==null?void 0:H.citizen)==null?void 0:G.uuid,(J=(Z=(g=k.value)==null?void 0:g.citizen)==null?void 0:Z.county)==null?void 0:J.name,(ue=(ie=(de=k.value)==null?void 0:de.citizen)==null?void 0:ie.sub_county)==null?void 0:ue.name,(me=(ge=(ce=k.value)==null?void 0:ce.citizen)==null?void 0:ge.constituency)==null?void 0:me.name,(xe=(pe=(fe=k.value)==null?void 0:fe.citizen)==null?void 0:pe.ward)==null?void 0:xe.name].filter(Boolean);return w.length>0?w.join(", "):"Not provided"}),I(()=>{var w,r;return((r=(w=k.value)==null?void 0:w.religion)==null?void 0:r.name)||"Not specified"}),I(()=>{var w,r;return((r=(w=k.value)==null?void 0:w.ethnicity)==null?void 0:r.name)||"Not specified"}),I(()=>{var r,T,q,W;return((r=k.value)==null?void 0:r.disability_status)===!0||((T=k.value)==null?void 0:T.disability_status)==="true"||((q=k.value)==null?void 0:q.disability_status)==="1"||((W=k.value)==null?void 0:W.disability_status)==="yes"?"Yes":"No"}),x(!1),x("");const P=x(!$.value),V=()=>{P.value=!P.value},s=w=>{l.value=!1},t=()=>{v.value=!1},a=()=>{M.value=!1};console.log("Page props:",b),console.log("Nested data:",m);const C=m==null?void 0:m.stats,L=(m==null?void 0:m.activities)||((X=m==null?void 0:m.data)==null?void 0:X.activities)||[];return m!=null&&m.roles||(ae=m==null?void 0:m.data)!=null&&ae.roles,m!=null&&m.user||(ne=m==null?void 0:m.data)!=null&&ne.user,console.log("Activities:",L),console.log("Has admin role:",$.value),(w,r)=>{var T,q,W,H,G;return n(),i("div",ur,[e("section",cr,[e("div",gr,[$.value?(n(),i("div",mr,[(n(!0),i(E,null,B(Object.entries(o(C)),(g,Z)=>{var J;return n(),i("div",{key:Z,class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-shadow duration-200"},[e("div",fr,[e("div",pr,[e("div",{class:z(["p-3 rounded-lg mr-4",`bg-${g[1].color}-50 dark:bg-${g[1].color}-900/20`])},[e("i",{class:z(`${g[1].icon} text-${g[1].color}-500 dark:text-${g[1].color}-400 text-xl`)},null,2)],2),e("div",null,[e("p",xr,f(g[1].title),1),e("div",yr,[e("p",br,f((J=g[1].count)==null?void 0:J.toLocaleString()),1),g[1].change!==void 0?(n(),i("span",{key:0,class:z(["ml-2 text-sm font-medium",{"text-green-500 dark:text-green-400":g[1].change>0,"text-red-500 dark:text-red-400":g[1].change<0,"text-gray-500":g[1].change===0}])},f(g[1].change>0?"+":"")+f(g[1].change)+f(g[1].change!==0?"%":""),3)):h("",!0)]),g[1].percentage_change!==void 0?(n(),i("p",vr,f(g[1].percentage_change>0?"+":"")+f(g[1].percentage_change)+"% from last period ",1)):h("",!0)])])])])}),128))])):h("",!0),$.value?(n(),i("div",kr,[e("div",wr,[e("div",hr,[r[9]||(r[9]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center mb-4"},[e("i",{class:"fas fa-history text-primary-600 dark:text-primary-400 mr-2"}),y(" Latest Activities ")],-1)),r[10]||(r[10]=e("p",{class:"text-sm font-normal text-gray-500 dark:text-gray-400 mb-4"}," These activity logs are pulled from all the models in the database using the Laravel Spatie Audit Trail package. ",-1)),e("div",_r,[!o(L)||o(L).length===0?(n(),i("div",$r,r[0]||(r[0]=[e("i",{class:"fas fa-inbox text-4xl mb-2 opacity-50"},null,-1),e("p",null,"No recent activities found",-1)]))):(n(!0),i(E,{key:1},B(o(L),g=>(n(),i("div",{key:g.id,class:"flex items-start group hover:bg-gray-50 dark:hover:bg-gray-700/50 p-2 rounded-lg transition-colors duration-200"},[e("div",Cr,[e("div",{class:z(["h-10 w-10 rounded-full flex items-center justify-center",["bg-opacity-10",g.color==="blue"?"bg-blue-500":g.color==="green"?"bg-green-500":g.color==="red"?"bg-red-500":g.color==="yellow"?"bg-yellow-500":g.color==="purple"?"bg-purple-500":"bg-gray-500"]])},[e("i",{class:z(["fas",g.icon||"fa-info-circle","text-lg",g.color==="blue"?"text-blue-500":g.color==="green"?"text-green-500":g.color==="red"?"text-red-500":g.color==="yellow"?"text-yellow-500":g.color==="purple"?"text-purple-500":"text-gray-500"]),title:g.action||"Activity"},null,10,Mr)],2)]),e("div",Dr,[e("div",Sr,[e("p",Pr,f(g.title||"System Activity"),1),e("span",{class:z(["text-xs px-2 py-0.5 rounded-full",[g.status_class==="success"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":g.status_class==="warning"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":g.status_class==="danger"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"]])},f(g.status||"Completed"),3)]),e("div",Vr,[e("div",jr,[r[1]||(r[1]=e("i",{class:"far fa-user mr-1"},null,-1)),e("span",null,[g.user_id?(n(),ve(o(ee),{key:0,href:w.route("profile.view",{user_id:g.user_id}),class:"text-green-600 hover:underline underline-offset-4"},{default:O(()=>[y(f(g.user_name),1)]),_:2},1032,["href"])):(n(),i("span",Ur,"System"))])]),r[7]||(r[7]=e("span",null,"•",-1)),e("div",{class:"flex items-center",title:"Created "+g.created_at},[r[2]||(r[2]=e("i",{class:"far fa-clock mr-1"},null,-1)),e("span",null,f(g.created_at),1)],8,zr),g.service_name?(n(),i(E,{key:0},[r[4]||(r[4]=e("span",null,"•",-1)),e("div",Fr,[r[3]||(r[3]=e("i",{class:"fas fa-cog mr-1"},null,-1)),e("span",null,f(g.service_name),1)])],64)):h("",!0),g.department_name?(n(),i(E,{key:1},[r[6]||(r[6]=e("span",null,"•",-1)),e("div",Lr,[r[5]||(r[5]=e("i",{class:"fas fa-building mr-1"},null,-1)),e("span",null,f(g.department_name),1)])],64)):h("",!0)])])]))),128))]),o(L)&&o(L).length>0?(n(),i("div",Er,[F(o(ee),{href:w.route("activity"),class:"text-sm font-medium text-primary-600 hover:text-green-700 dark:text-primary-400 dark:hover:text-primary-300 hover:underline underline-offset-4"},{default:O(()=>r[8]||(r[8]=[y(" View all activities "),e("i",{class:"fas fa-arrow-right ml-1"},null,-1)])),_:1,__:[8]},8,["href"])])):h("",!0)])]),e("div",Nr,[e("div",Ar,[r[16]||(r[16]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center mb-4"},[e("i",{class:"fas fa-bolt text-primary-600 dark:text-primary-400 mr-2"}),y(" Quick Actions ")],-1)),r[17]||(r[17]=e("p",{class:"text-sm font-normal text-gray-500 dark:text-gray-400 mb-4"}," These are some quick actions to help you get started. ",-1)),e("div",Br,[e("button",{type:"button",onClick:U,class:"w-full text-left flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 text-gray-700 dark:text-gray-300"},r[11]||(r[11]=[e("i",{class:"fas fa-plus-circle text-green-500 w-5 h-5 mr-3"},null,-1),e("span",null,"Add New Member",-1)])),e("button",{type:"button",onClick:d,class:"w-full text-left flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 text-gray-700 dark:text-gray-300"},r[12]||(r[12]=[e("i",{class:"fas fa-file-import text-blue-500 w-5 h-5 mr-3"},null,-1),e("span",null,"Import Members",-1)])),e("button",{type:"button",onClick:j,class:"w-full text-left flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 text-gray-700 dark:text-gray-300"},r[13]||(r[13]=[e("i",{class:"fas fa-file-export text-purple-500 w-5 h-5 mr-3"},null,-1),e("span",null,"Export Members",-1)])),e("button",{type:"button",onClick:_,class:"w-full text-left flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 text-gray-700 dark:text-gray-300"},r[14]||(r[14]=[e("i",{class:"fas fa-sync text-purple-500 w-5 h-5 mr-3"},null,-1),e("span",null,"Synchronize Members",-1)])),F(o(ee),{href:w.route("settings"),class:"flex items-center p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 text-gray-700 dark:text-gray-300"},{default:O(()=>r[15]||(r[15]=[e("i",{class:"fas fa-cog text-gray-500 w-5 h-5 mr-3"},null,-1),e("span",null,"Settings",-1)])),_:1,__:[15]},8,["href"])])])])])):h("",!0),e("div",Ir,[e("div",Or,[e("div",Tr,[r[18]||(r[18]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center"},[e("i",{class:"fas fa-book-open text-primary-600 dark:text-primary-400 mr-2"}),y(" Library ")],-1)),e("button",{onClick:V,class:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",title:P.value?"Hide Documents":"Show Documents"},[e("i",{class:z(["fas",P.value?"fa-chevron-up":"fa-chevron-down"])},null,2)],8,qr)]),r[47]||(r[47]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-4"}," Download important party documents and resources ",-1)),p(e("div",Wr,[e("div",Rr,[r[24]||(r[24]=e("div",{class:"w-10 h-10 flex items-center justify-center bg-blue-50 dark:bg-blue-900/20 rounded-lg mr-3"},[e("i",{class:"fas fa-book-open text-blue-500 dark:text-blue-400 text-lg"})],-1)),e("div",Kr,[r[22]||(r[22]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Party Ideology ",-1)),r[23]||(r[23]=e("p",{class:"text-xs text-gray-600 dark:text-gray-300 mt-1 mb-1"}," Core principles and beliefs that guide the Forward Kenya Party ",-1)),e("div",Hr,[e("span",Gr,[e("a",{href:w.route("profile.view",1),class:"text-gray-500 dark:text-gray-400 hover:text-green-600 hover:underline hover:decoration-green-600 underline-offset-4"},"FKP Admin",8,Jr),r[19]||(r[19]=y(" • ")),r[20]||(r[20]=e("span",{class:"text-gray-400 dark:text-gray-500"},"15 June 2025",-1))]),r[21]||(r[21]=e("span",{class:"ml-2 whitespace-nowrap"},[e("i",{class:"far fa-file-pdf mr-1"}),y(" PDF • 2.4 MB")],-1))])]),r[25]||(r[25]=e("a",{href:"/assets/FKP_Documents/FKP IDEOLOGY.pdf",download:"",target:"_blank",class:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200",title:"Download party ideology document"},[e("i",{class:"fas fa-arrow-down text-green-600"})],-1))]),e("div",Yr,[r[31]||(r[31]=e("div",{class:"w-10 h-10 flex items-center justify-center bg-green-50 dark:bg-green-900/20 rounded-lg mr-3"},[e("i",{class:"fas fa-file-alt text-green-500 dark:text-green-400 text-lg"})],-1)),e("div",Qr,[r[29]||(r[29]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Party Manifesto ",-1)),r[30]||(r[30]=e("p",{class:"text-xs text-gray-600 dark:text-gray-300 mt-1 mb-1"}," Our comprehensive plan and commitments for national development ",-1)),e("div",Xr,[e("span",Zr,[e("a",{href:w.route("profile.view",1),class:"text-gray-500 dark:text-gray-400 hover:text-green-600 hover:underline hover:decoration-green-600 underline-offset-4"},"FKP Admin",8,eo),r[26]||(r[26]=y(" • ")),r[27]||(r[27]=e("span",{class:"text-gray-400 dark:text-gray-500"},"15 June 2025",-1))]),r[28]||(r[28]=e("span",{class:"ml-2 whitespace-nowrap"},[e("i",{class:"far fa-file-pdf mr-1"}),y(" PDF • 1.8 MB")],-1))])]),r[32]||(r[32]=e("a",{href:"/assets/FKP_Documents/FKP MANIFESTO (1).pdf",download:"",target:"_blank",class:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200",title:"Download party manifesto document"},[e("i",{class:"fas fa-arrow-down text-green-600"})],-1))]),e("div",to,[r[38]||(r[38]=e("div",{class:"w-10 h-10 flex items-center justify-center bg-purple-50 dark:bg-purple-900/20 rounded-lg mr-3"},[e("i",{class:"fas fa-scroll text-purple-500 dark:text-purple-400 text-lg"})],-1)),e("div",so,[r[36]||(r[36]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Party Constitution ",-1)),r[37]||(r[37]=e("p",{class:"text-xs text-gray-600 dark:text-gray-300 mt-1 mb-1"}," Legal framework and structure of the Forward Kenya Party ",-1)),e("div",ro,[e("span",oo,[e("a",{href:w.route("profile.view",1),class:"text-gray-500 dark:text-gray-400 hover:text-green-600 hover:underline hover:decoration-green-600 underline-offset-4"},"FKP Admin",8,lo),r[33]||(r[33]=y(" • ")),r[34]||(r[34]=e("span",{class:"text-gray-400 dark:text-gray-500"},"15 June 2025",-1))]),r[35]||(r[35]=e("span",{class:"ml-2 whitespace-nowrap"},[e("i",{class:"far fa-file-pdf mr-1"}),y(" PDF • 3.1 MB")],-1))])]),r[39]||(r[39]=e("a",{href:"/assets/FKP_Documents/FORWARD KENYA PARTY CONSTITUTION.pdf",download:"",target:"_blank",class:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200",title:"Download party constitution document"},[e("i",{class:"fas fa-arrow-down text-green-600"})],-1))]),e("div",ao,[r[45]||(r[45]=e("div",{class:"w-10 h-10 flex items-center justify-center bg-yellow-50 dark:bg-yellow-900/20 rounded-lg mr-3"},[e("i",{class:"fas fa-file-contract text-yellow-500 dark:text-yellow-400 text-lg"})],-1)),e("div",no,[r[43]||(r[43]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Party Nomination Rules ",-1)),r[44]||(r[44]=e("p",{class:"text-xs text-gray-600 dark:text-gray-300 mt-1 mb-1"}," Guidelines and procedures for party nominations and elections ",-1)),e("div",io,[e("div",uo,[e("span",co,[e("a",{href:w.route("profile.view",1),class:"text-gray-500 dark:text-gray-400 hover:text-green-600 hover:underline hover:decoration-green-600 underline-offset-4"},"FKP Admin",8,go),r[40]||(r[40]=y(" • ")),r[41]||(r[41]=e("span",{class:"text-gray-400 dark:text-gray-500"},"15 June 2025",-1))]),r[42]||(r[42]=e("div",{class:"flex items-center gap-1"},[e("i",{class:"far fa-file-pdf"}),e("span",null,"PDF"),e("span",null,"•"),e("span",null,"2.4 MB")],-1))])])]),r[46]||(r[46]=e("a",{href:"/assets/FKP_Documents/NOMINATION_RULES_AMMENDED 12.5.25.pdf",download:"",target:"_blank",class:"p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200",title:"Download party nomination rules document"},[e("i",{class:"fas fa-arrow-down text-green-600"})],-1))])],512),[[$e,P.value]])])])])]),F(dt,{show:l.value,counties:((T=o(b).locations)==null?void 0:T.counties)||[],constituencies:((q=o(b).locations)==null?void 0:q.constituencies)||[],wards:((W=o(b).locations)==null?void 0:W.wards)||[],subCounties:((H=o(b).locations)==null?void 0:H.subCounties)||[],subLocations:((G=o(b).locations)==null?void 0:G.subLocations)||[],onClose:U,onSave:s},null,8,["show","counties","constituencies","wards","subCounties","subLocations"]),F(Vt,{show:v.value,onClose:d,onImport:t},null,8,["show"]),F(is,{show:M.value,onClose:j,onExport:a},null,8,["show"]),F(ir,{show:D.value,onClose:_},null,8,["show"])])}}},fo={class:"flex justify-between items-center"},po={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},xo={"aria-label":"Breadcrumb",class:"flex"},yo={class:"inline-flex items-center space-x-1 md:space-x-3"},bo={class:"inline-flex items-center"},vo={class:"py-0 md:py-6"},ko={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},wo={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},So={__name:"Dashboard",props:{title:{type:String,required:!0},data:{type:Object,required:!0}},setup(S){return(A,b)=>(n(),ve(Ce,{title:S.title},{header:O(()=>[e("div",fo,[e("h2",po,f(S.title),1),e("nav",xo,[e("ol",yo,[e("li",bo,[F(o(ee),{href:A.route("dashboard"),class:"inline-flex items-center text-sm font-medium text-gray-700 dark:text-gray-400 hover:text-green-600 dark:hover:text-green-400"},{default:O(()=>b[0]||(b[0]=[e("i",{class:"fas fa-home mr-2"},null,-1),y(" Dashboard ")])),_:1,__:[0]},8,["href"])])])])])]),default:O(()=>[e("div",vo,[e("div",ko,[e("div",wo,[F(mo,{activities:S.data.activities,stats:S.data.stats,"featured-services":S.data.featuredServices,"featured-departments":S.data.featuredDepartments,"featured-projects":S.data.featuredProjects},null,8,["activities","stats","featured-services","featured-departments","featured-projects"])])])])]),_:1},8,["title"]))}};export{So as default};
//# sourceMappingURL=Dashboard-D5bZPy-_.js.map
