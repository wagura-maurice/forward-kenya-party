import{K as De,A as re,d as v,u as Be,B as S,e as u,o as d,b as n,f as T,w as _,g as l,h as m,n as R,a as o,y as k,c as Ne,z as W,G as Ue,k as G,F as P,i as E,t as B,D as z,l as Me,N as $e,O as Pe,S as h,P as je}from"./app-BsLTyChI.js";import{_ as qe}from"./ActionMessage-D7ApxN4v.js";import{_ as Ae}from"./FormSection-D4jc9WpF.js";import{a as b,_ as O}from"./TextInput-DOCkyuu3.js";import{_ as x}from"./InputLabel-DtOqOv71.js";import{_ as Fe}from"./PrimaryButton-Lh9sRE0M.js";import{_ as Ee}from"./SecondaryButton-Br_aYhCe.js";import"./SectionTitle-C9DM8JSy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Re={key:0,class:"col-span-6 sm:col-span-4"},We={class:"mt-2"},He=["src","alt"],Ke={class:"mt-2"},Ye={class:"col-span-6 space-y-4"},Ge={class:"border rounded-lg overflow-hidden dark:border-gray-700"},Je={class:"p-6 bg-white dark:bg-gray-900"},Qe={class:"grid grid-cols-6 gap-6"},Xe={class:"col-span-6 sm:col-span-3"},Ze={class:"col-span-6 sm:col-span-3"},et={class:"col-span-6 sm:col-span-3"},tt={class:"col-span-6 sm:col-span-3"},ot=["value","selected"],st={class:"col-span-6 sm:col-span-3"},it=["value","selected"],lt={class:"col-span-6 sm:col-span-3"},nt=["value","selected"],at={class:"border rounded-lg overflow-hidden dark:border-gray-700"},rt={class:"p-6 bg-white dark:bg-gray-900"},dt={class:"grid grid-cols-6 gap-6"},ut={class:"col-span-6 sm:col-span-3"},ct={class:"col-span-6 sm:col-span-3"},mt={class:"col-span-6 sm:col-span-3"},pt={class:"col-span-6 sm:col-span-3"},gt={class:"border rounded-lg overflow-hidden dark:border-gray-700"},ft={class:"p-6 bg-white dark:bg-gray-900"},_t={class:"grid grid-cols-6 gap-6"},vt={class:"col-span-6 sm:col-span-3"},yt={key:0,class:"mt-2"},bt={class:"text-xs text-gray-600 dark:text-gray-400"},xt={class:"text-xs text-green-600 dark:text-green-400 mt-1"},wt={class:"col-span-6 sm:col-span-3"},kt=["value"],ht={class:"col-span-6"},Ct={class:"col-span-6"},Vt={class:"col-span-6 sm:col-span-2"},St={class:"col-span-6 sm:col-span-2"},Bt={class:"col-span-6 sm:col-span-2"},$t={class:"border rounded-lg overflow-hidden dark:border-gray-700"},Pt={class:"p-6 bg-white dark:bg-gray-900"},Et={class:"grid grid-cols-6 gap-6"},Ot={class:"col-span-6 sm:col-span-3"},zt=["value","selected"],It={class:"col-span-6 sm:col-span-3"},Tt={class:"relative"},Lt=["disabled"],Dt=["value","selected"],Nt={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},Ut={class:"col-span-6 sm:col-span-3"},Mt=["disabled"],jt=["value","selected"],qt={class:"col-span-6 sm:col-span-3"},At=["disabled"],Ft=["value","selected"],Rt={class:"col-span-6 sm:col-span-3"},Wt={class:"relative"},Ht=["disabled"],Kt=["value","selected"],Yt={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},Gt={class:"col-span-6 sm:col-span-3"},Jt={class:"relative"},Qt=["disabled"],Xt=["value","selected"],Zt={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},eo={class:"col-span-6 sm:col-span-3"},to={class:"relative"},oo=["disabled"],so=["value","selected"],io={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},lo={class:"col-span-6 sm:col-span-3"},no={class:"relative"},ao=["disabled"],ro=["value","selected"],uo={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},co={class:"col-span-6 sm:col-span-3"},mo={class:"relative"},po=["disabled"],go=["value","selected"],fo={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},_o={key:0,class:"fixed z-50 inset-0 overflow-y-auto","aria-labelledby":"otp-modal-title",role:"dialog","aria-modal":"true"},vo={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},yo={class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-6 pt-5 pb-6 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-md sm:w-full sm:p-8 relative"},bo=["disabled"],xo={class:"sm:flex sm:items-start"},wo={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},ko={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100",id:"otp-modal-title"},ho={class:"mt-4"},Co={class:"text-sm text-gray-600 dark:text-gray-300"},Vo={class:"block font-medium text-gray-900 dark:text-white mt-1"},So={class:"mt-6"},Bo={class:"flex justify-between space-x-3"},$o=["onUpdate:modelValue","onInput","onKeydown","disabled"],Po={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-400"},Eo={class:"mt-4 text-center"},Oo={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},zo={class:"font-medium"},Io=["disabled"],To={class:"mt-6 sm:mt-8 sm:flex sm:flex-row-reverse"},Lo=["disabled"],Do={key:0},No={key:1,class:"flex items-center"},Uo=["disabled"],Go={__name:"UpdateProfileInformationForm",props:{},setup(Mo){const{props:J}=De(),c=re(()=>{var s;return((s=J==null?void 0:J.auth)==null?void 0:s.user)||null}),I=re(()=>{var s;return((s=c.value)==null?void 0:s.profile)||{}});console.log(c);const L={ttl:300,rate_limit:60,attempts_limit:5},D=v(0),q=v(null);let Q=null;const A=v(!1),K=v(!1),C=Be({otp:"",field_to_verify:"",verification_value:""}),de=s=>{const a=Math.max(0,Math.floor((s-new Date)/1e3)),r=Math.floor(a/60),w=a%60;return{formatted:`${r}:${w.toString().padStart(2,"0")}`,isExpired:a<=0}},Oe=s=>{let e=s.target.value.replace(/\D/g,"");e=e.substring(0,10),e.length>6?e=e.replace(/^(\d{3})(\d{3})(\d+)$/,"$1 $2 $3"):e.length>3&&(e=e.replace(/^(\d{3})(\d+)$/,"$1 $2")),t.telephone=e},X=()=>{Q&&(clearInterval(Q),Q=null)},ue=()=>{let s=!1,e=0,a=null;if(!q.value){const r=new Date;r.setSeconds(r.getSeconds()+L.ttl),q.value=r}X(),h.fire({title:"Verification Required",html:`
            <p class="mb-4">We've sent a 6-digit verification code to your ${C.field_to_verify==="email"?"email":"phone number"}: <strong>${C.new_value}</strong></p>
            <p class="mb-4 text-sm text-gray-600">
                This code will expire in 
                <span id="otp-timer" class="font-medium">${de(q.value).formatted}</span>
            </p>
            <div class="flex flex-col items-center">
                <input id="swal-otp-input" class="swal2-input w-full text-center" placeholder="Enter 6-digit code" maxlength="6" type="text">
                <div class="text-sm text-gray-500 mt-2">
                    Didn't receive the code?
                    <button type="button" id="resend-otp-btn" class="text-green-600 hover:text-green-800">Resend</button>
                    <span id="resend-countdown" class="hidden ml-1 text-gray-500"></span>
                </div>
                <div class="text-xs text-gray-500 mt-1">
                    Attempts remaining: <span class="font-medium">${L.attempts_limit-D.value}</span> of ${L.attempts_limit}
                </div>
                ${D.value>0?`
                <div class="text-xs text-red-500 mt-1">
                    ${L.attempts_limit-D.value===0?"No attempts left. ":""}${D.value} failed attempt${D.value>1?"s":""}.
                </div>
                `:""}
            </div>
        `,showCancelButton:!0,confirmButtonText:"Verify",confirmButtonColor:"#10b981",cancelButtonText:"Cancel",allowOutsideClick:!1,preConfirm:()=>{const w=document.getElementById("swal-otp-input").value;return!w||w.length!==6?(h.showValidationMessage("Please enter the 6-digit verification code"),!1):w},didOpen:()=>{const r=document.getElementById("resend-otp-btn"),w=document.getElementById("resend-countdown"),V=document.getElementById("otp-timer");if(V){const g=()=>{const{formatted:y,isExpired:$}=de(q.value);V.textContent=y,y.startsWith("0:")||$?(V.classList.add("text-red-500"),V.classList.remove("text-gray-600")):(V.classList.remove("text-red-500"),V.classList.add("text-gray-600")),$&&(V.textContent="expired",V.classList.add("font-bold"))};g(),Q=setInterval(g,1e3)}const p=()=>{s?(r.disabled=!0,r.classList.remove("text-green-600","hover:text-green-800"),r.classList.add("text-gray-400","cursor-not-allowed"),w.classList.remove("hidden"),w.textContent=`(${e}s)`):(r.disabled=!1,r.classList.add("text-green-600","hover:text-green-800"),r.classList.remove("text-gray-400","cursor-not-allowed"),w.classList.add("hidden"))};r.addEventListener("click",async()=>{var g,y,$;if(!s)try{await ce(C.field_to_verify,C.new_value)}catch(j){if(($=(y=(g=j.response)==null?void 0:g.data)==null?void 0:y.message)!=null&&$.includes("wait")){const H=j.response.data.message.match(/wait (\d+) (?:seconds|second)/i);e=H&&H[1]?parseInt(H[1]):L.rate_limit,s=!0,p(),a=setInterval(()=>{e-=1,p(),e<=0&&(clearInterval(a),s=!1,p())},1e3)}}})},willClose:()=>{a&&clearInterval(a),X()}}).then(async r=>{r.isConfirmed&&await me(r.value)})},ce=async(s,e)=>{var a,r,w,V;try{if(!s||!e){pe("error","Validation Error",`${s==="email"?"Email":"Phone number"} is required for verification`);return}h.fire({title:"Sending OTP",text:`Please wait while we send an OTP to your ${s==="email"?"email":"phone number"}...`,allowOutsideClick:!1,didOpen:()=>{h.showLoading()}}),D.value=0,X();const p=new Date;p.setSeconds(p.getSeconds()+L.ttl),q.value=p;const g={};s==="email"?g.email=e:s==="telephone"&&(g.telephone=e);const y=await axios.post(route("auth.request-otp"),g);if(y.data.status==="success")C.verification_id=y.data.verification_id,C.field_to_verify=s,C.new_value=e,ue();else throw new Error(y.data.message||"Failed to send OTP. Please try again.")}catch(p){if(console.error("OTP send error:",p),(r=(a=p.response)==null?void 0:a.data)!=null&&r.message&&p.response.data.message.includes("wait")){let g=L.rate_limit;const y=p.response.data.message.match(/wait (\d+) (?:seconds|second)/i);y&&y[1]&&(g=parseInt(y[1]));const $=setInterval(()=>{g-=1;const j=document.getElementById("otp-timer");j&&(j.textContent=`${g}`),g<=0&&(clearInterval($),h.close())},1e3);h.fire({icon:"warning",title:"Rate Limited",html:`
                    <p>You must wait before requesting another OTP.</p>
                    <div class="mt-4 text-center">
                        <p>Try again in <span id="otp-timer" class="font-bold text-lg">${g}</span> seconds</p>
                    </div>
                `,showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#10b981",willClose:()=>{clearInterval($)}})}else h.fire({icon:"error",title:"OTP Error",text:((V=(w=p.response)==null?void 0:w.data)==null?void 0:V.message)||"Failed to send OTP. Please try again."})}},me=async s=>{var e,a,r,w,V,p;if(q.value&&new Date>q.value){h.fire({icon:"error",title:"OTP Expired",text:"The verification code has expired. Please request a new one.",confirmButtonColor:"#10b981"});return}if(D.value>=L.attempts_limit){h.fire({icon:"error",title:"Maximum Attempts Reached",text:"You've exceeded the maximum number of verification attempts. Please request a new OTP.",confirmButtonColor:"#10b981"});return}D.value+=1;try{h.fire({title:"Verifying OTP",text:"Please wait while we verify your OTP...",allowOutsideClick:!1,didOpen:()=>{h.showLoading()}});const g={otp:s};C.field_to_verify==="email"?g.email=C.new_value:C.field_to_verify==="telephone"&&(g.telephone=C.new_value);const y=await axios.post(route("auth.verify-otp"),g);if(y.data.status==="success")D.value=0,C.field_to_verify==="email"?(t.email=C.new_value,t.email_verified_at=new Date().toISOString(),t.clearErrors("email")):C.field_to_verify==="telephone"&&(t.telephone=C.new_value,t.telephone_verified_at=new Date().toISOString(),t.clearErrors("telephone")),K.value=!1,C.reset(),X(),h.fire({icon:"success",title:"Verification Successful",text:`Your ${C.field_to_verify==="email"?"email address":"telephone number"} has been verified successfully.`,confirmButtonColor:"#10b981"}),(e=y.data.data)!=null&&e.accessToken&&(window.localStorage.setItem("auth_token",y.data.data.accessToken),axios.defaults.headers.common.Authorization=`Bearer ${y.data.data.accessToken}`,await Pe.reload({only:["user"]})),U.value&&(U.value=!1,await fe());else throw new Error(y.data.message||"Invalid OTP. Please try again.")}catch(g){console.error("OTP verification error:",g),h.fire({icon:"error",title:"Verification Failed",html:`
                <p>${((r=(a=g.response)==null?void 0:a.data)==null?void 0:r.message)||"Failed to verify OTP. Please try again."}</p>
                ${(p=(V=(w=g.response)==null?void 0:w.data)==null?void 0:V.message)!=null&&p.includes("attempts exceeded")?`<p class="mt-2 text-sm">You have exceeded the maximum of ${L.attempts_limit} attempts. Please request a new OTP.</p>`:""}
            `,confirmButtonColor:"#10b981"}).then(()=>{D.value<L.attempts_limit&&ue()})}},U=v(!1),pe=(s,e,a)=>{h.fire({toast:!0,position:"top-end",icon:s,title:e,text:a,showConfirmButton:!1,timer:3e3,timerProgressBar:!0})},t=Be({_method:"PUT",surname:"",other_name:"",email:"",photo:null,date_of_birth:"",gender:"",ncpwd_number:"",ethnicity_id:"",religion_id:"",telephone:"",address_line_1:"",address_line_2:"",city:"",state:"",country:"",national_identification_number:"",passport_number:"",driver_license_number:"",county_id:"",sub_county_id:"",constituency_id:"",ward_id:"",location_id:"",village_id:"",polling_center_id:"",polling_station_id:"",polling_stream_id:""},{resetOnSuccess:!1,rules:{national_identification_number:[(s,e)=>!s&&!e.passport_number?"Either National Identification Number or Passport Number is required":!0],passport_number:[(s,e)=>!s&&!e.national_identification_number?"Either Passport Number or National Identification Number is required":!0]}});S(I,s=>{var e;s&&(t.surname=s.last_name||"",t.other_name=s.first_name||"",t.email=((e=c.value)==null?void 0:e.email)||"",t.date_of_birth=s.date_of_birth||"",t.gender=s.gender||"",t.ncpwd_number=s.ncpwd_number||"",t.ethnicity_id=s.ethnicity_id||"",t.religion_id=s.religion_id||"",t.telephone=s.telephone||"",t.address_line_1=s.address_line_1||"",t.address_line_2=s.address_line_2||"",t.city=s.city||"",t.state=s.state||"",t.country=s.country||"",s.citizen&&(t.national_identification_number=s.citizen.national_identification_number||"",t.passport_number=s.citizen.passport_number||"",t.driver_license_number=s.citizen.driver_license_number||"",t.county_id=s.citizen.county_id||"",t.sub_county_id=s.citizen.sub_county_id||"",t.constituency_id=s.citizen.constituency_id||"",t.ward_id=s.citizen.ward_id||"",t.location_id=s.citizen.location_id||"",t.village_id=s.citizen.village_id||"",t.polling_center_id=s.citizen.polling_center_id||"",t.polling_station_id=s.citizen.polling_station_id||"",t.polling_stream_id=s.citizen.polling_stream_id||""))},{immediate:!0});const ge=v(null),Y=v(null),F=v(null),fe=async(s=!1)=>{var w,V;(V=(w=F.value)==null?void 0:w.files)!=null&&V[0]&&(t.photo=F.value.files[0]);const e=(c==null?void 0:c.email)&&t.email!==c.email,a=(I==null?void 0:I.telephone)&&t.telephone!==I.telephone;if(!s&&(U.value||e||a)){U.value=!0;let p="",g="",y="";if(a?(p="telephone",I!=null&&I.telephone?(g=I.telephone,y=`We'll send a verification code to your current number <strong>${I.telephone}</strong> to confirm this change.`):U.value=!1):e&&(c!=null&&c.email)&&(p="email",g=c.email,y=`We'll send a verification code to <strong>${c.email}</strong> to confirm your email address change.`),p)try{const $=await h.fire({title:"Verify "+(p==="email"?"Email Address":"Phone Number"),html:y,icon:"info",showCancelButton:!0,confirmButtonText:"Send Verification Code",cancelButtonText:"Cancel",reverseButtons:!0,customClass:{confirmButton:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",cancelButton:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300"},buttonsStyling:!1});$.isConfirmed?await ce(p,g):$.isDismissed&&(U.value=!1);return}catch($){console.error("Error in verification flow:",$),pe("error","Verification Error","An error occurred while setting up verification. Please try again."),U.value=!1;return}}const r=new FormData;Object.keys(t).forEach(p=>{typeof t[p]!="function"&&!p.startsWith("_")&&(p==="photo"&&t.photo instanceof File?r.append("photo",t.photo):t[p]!==null&&t[p]!==void 0&&r.append(p,t[p]))}),t.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,forceFormData:!0,onSuccess:p=>{_e(),U.value=!1,h.fire({toast:!0,position:"top-end",icon:"success",title:p.props.flash.message||"Profile updated successfully!",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:g=>{g.addEventListener("mouseenter",h.stopTimer),g.addEventListener("mouseleave",h.resumeTimer)}})},onError:p=>{const g=Object.values(p).flat()[0];h.fire({toast:!0,position:"top-end",icon:"error",title:g||"Failed to update profile. Please try again.",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:y=>{y.addEventListener("mouseenter",h.stopTimer),y.addEventListener("mouseleave",h.resumeTimer)}})}})},ze=()=>{ge.value=!0},Ie=()=>{F.value.click()},Te=()=>{const s=F.value.files[0];if(!s)return;const e=new FileReader;e.onload=a=>{Y.value=a.target.result},e.readAsDataURL(s)},Le=()=>{Pe.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{Y.value=null,_e()}})},_e=()=>{var s;(s=F.value)!=null&&s.value&&(F.value.value=null)},N=v("personal");v([]),v([]),v([]),v([]),v([]),v([]),v([]);const ve=v(!1);v(!1),v(!1);const ye=v(!1),be=v(!1),xe=v(!1),we=v(!1),ke=v(!1),M=re(()=>{var e;return((e=J.formData)==null?void 0:e.locations)||{counties:[],sub_counties:[],constituencies:[],wards:[],locations:[],villages:[],polling_centers:[],polling_stations:[],polling_streams:[]}}),ee=v([]),te=v([]),oe=v([]),se=v([]),ie=v([]),le=v([]),ne=v([]),ae=v([]);S(()=>t.county_id,s=>{var e,a;if(!s){ee.value=[],te.value=[],t.sub_county_id="",t.constituency_id="";return}ee.value=((e=M.value.sub_counties)==null?void 0:e.filter(r=>r.county_id==s))||[],te.value=((a=M.value.constituencies)==null?void 0:a.filter(r=>r.county_id==s))||[],t.sub_county_id="",t.constituency_id=""}),S(()=>t.constituency_id,s=>{var e;if(!s){oe.value=[],t.ward_id="";return}oe.value=((e=M.value.wards)==null?void 0:e.filter(a=>a.constituency_id==s))||[],t.ward_id=""}),S(()=>t.ward_id,s=>{var e,a;if(!s){se.value=[],le.value=[],t.location_id="",t.polling_center_id="";return}se.value=((e=M.value.locations)==null?void 0:e.filter(r=>r.ward_id==s))||[],le.value=((a=M.value.polling_centers)==null?void 0:a.filter(r=>r.ward_id==s))||[],t.location_id="",t.polling_center_id=""}),S(()=>t.location_id,s=>{var e;if(!s){ie.value=[],t.village_id="";return}ie.value=((e=M.value.villages)==null?void 0:e.filter(a=>a.location_id==s))||[],t.village_id=""}),S(()=>t.polling_center_id,s=>{var e;if(!s){ne.value=[],t.polling_station_id="";return}ne.value=((e=M.value.polling_stations)==null?void 0:e.filter(a=>a.center_id==s))||[],t.polling_station_id=""}),S(()=>t.polling_station_id,s=>{var e;if(!s){ae.value=[],t.polling_stream_id="";return}ae.value=((e=M.value.polling_streams)==null?void 0:e.filter(a=>a.station_id==s))||[],t.polling_stream_id=""}),S(()=>t.county_id,()=>{t.sub_county_id="",t.constituency_id="",t.ward_id="",t.location_id="",t.village_id="",t.polling_center_id="",t.polling_station_id="",t.polling_stream_id=""}),S(()=>t.constituency_id,()=>{t.ward_id="",t.location_id="",t.village_id="",t.polling_center_id="",t.polling_station_id="",t.polling_stream_id=""}),S(()=>t.ward_id,()=>{t.location_id="",t.village_id="",t.polling_center_id="",t.polling_station_id="",t.polling_stream_id=""}),S(()=>t.location_id,()=>{t.village_id=""}),S(()=>t.polling_center_id,()=>{t.polling_station_id="",t.polling_stream_id=""}),S(()=>t.polling_station_id,()=>{t.polling_stream_id=""}),S(()=>t.county_id,s=>{t.sub_county_id="",t.constituency_id="",t.ward_id="",t.location_id="",t.village_id="",t.polling_center_id="",t.polling_station_id="",t.polling_stream_id=""}),S(()=>t.sub_county_id,s=>{s&&(t.ward_id="",t.location_id="",t.village_id="",t.polling_center_id="",t.polling_station_id="",t.polling_stream_id="")}),S(()=>t.constituency_id,s=>{t.ward_id="",t.location_id="",t.village_id="",t.polling_center_id="",t.polling_station_id="",t.polling_stream_id=""}),S(()=>t.ward_id,s=>{t.location_id="",t.village_id="",t.polling_center_id="",t.polling_station_id="",t.polling_stream_id=""}),S(()=>t.location_id,s=>{s&&(t.village_id="")}),S(()=>t.polling_center_id,s=>{t.polling_station_id="",t.polling_stream_id=""}),S(()=>t.polling_station_id,s=>{s&&(t.polling_stream_id="")});const Z=s=>{N.value=N.value===s?null:s};return(s,e)=>(d(),u(P,null,[n(Ae,{onSubmitted:fe},{title:_(()=>e[36]||(e[36]=[m(" Profile Information ")])),description:_(()=>e[37]||(e[37]=[m(" Update your personal, contact, and identification information. Ensure all details are accurate and up-to-date. ")])),form:_(()=>{var a,r,w,V,p,g,y,$,j,H,he,Ce,Ve,Se;return[s.$page.props.jetstream.managesProfilePhotos?(d(),u("div",Re,[o("input",{id:"photo",ref_key:"photoInput",ref:F,type:"file",class:"hidden",onChange:Te},null,544),n(x,{for:"photo",value:"Profile Image"}),k(o("div",We,[o("img",{src:c.value.profile_photo_url,alt:c.value.name,class:"rounded-full size-20 object-cover"},null,8,He)],512),[[W,!Y.value]]),k(o("div",Ke,[o("span",{class:"block rounded-full size-20 bg-cover bg-no-repeat bg-center",style:Ue("background-image: url('"+Y.value+"');")},null,4)],512),[[W,Y.value]]),n(Ee,{class:"mt-2 me-2",type:"button",onClick:G(Ie,["prevent"])},{default:_(()=>e[38]||(e[38]=[m(" Select A New Photo ")])),_:1,__:[38]}),c.value.profile_photo_path?(d(),Ne(Ee,{key:0,type:"button",class:"mt-2",onClick:G(Le,["prevent"])},{default:_(()=>e[39]||(e[39]=[m(" Remove Photo ")])),_:1,__:[39]})):T("",!0),n(b,{message:l(t).errors.photo,class:"mt-2"},null,8,["message"])])):T("",!0),o("div",Ye,[o("div",Ge,[o("button",{type:"button",onClick:e[0]||(e[0]=i=>Z("personal")),class:"w-full px-6 py-4 text-left font-medium text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex justify-between items-center"},[e[41]||(e[41]=o("span",null,"Personal Information",-1)),(d(),u("svg",{class:R(["w-5 h-5 transition-transform duration-200",{"rotate-180":N.value==="personal"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e[40]||(e[40]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),k(o("div",Je,[o("div",Qe,[o("div",Xe,[n(x,{for:"surname"},{default:_(()=>e[42]||(e[42]=[m(" Surname "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[42]}),n(O,{id:"surname",modelValue:l(t).surname,"onUpdate:modelValue":e[1]||(e[1]=i=>l(t).surname=i),type:"text",class:"mt-1 block w-full",value:(a=I.value)==null?void 0:a.last_name,placeholder:"Enter your surname",required:"",autocomplete:"family-name"},null,8,["modelValue","value"]),n(b,{message:l(t).errors.surname,class:"mt-2"},null,8,["message"])]),o("div",Ze,[n(x,{for:"other_name"},{default:_(()=>e[43]||(e[43]=[m(" Other Name "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[43]}),n(O,{id:"other_name",modelValue:l(t).other_name,"onUpdate:modelValue":e[2]||(e[2]=i=>l(t).other_name=i),type:"text",class:"mt-1 block w-full",value:((r=c.value.profile)==null?void 0:r.first_name)+" "+((w=c.value.profile)==null?void 0:w.middle_name),placeholder:"Enter your other names",required:"",autocomplete:"given-name"},null,8,["modelValue","value"]),n(b,{message:l(t).errors.other_name,class:"mt-2"},null,8,["message"])]),o("div",et,[n(x,{for:"date_of_birth"},{default:_(()=>e[44]||(e[44]=[m(" Date of Birth "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[44]}),n(O,{id:"date_of_birth",modelValue:l(t).date_of_birth,"onUpdate:modelValue":e[3]||(e[3]=i=>l(t).date_of_birth=i),type:"date",class:"mt-1 block w-full",value:(V=c.value.profile)==null?void 0:V.date_of_birth,placeholder:"Select your date of birth",required:""},null,8,["modelValue","value"]),n(b,{message:l(t).errors.date_of_birth,class:"mt-2"},null,8,["message"])]),o("div",tt,[n(x,{for:"gender"},{default:_(()=>e[45]||(e[45]=[m(" Gender "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[45]}),k(o("select",{id:"gender","onUpdate:modelValue":e[4]||(e[4]=i=>l(t).gender=i),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},[e[46]||(e[46]=o("option",{value:""},"Select Gender",-1)),(d(!0),u(P,null,E(s.$page.props.formData.genders,i=>{var f;return d(),u("option",{key:i.id,value:i.id,selected:((f=c.value.profile)==null?void 0:f.gender)===i.id},B(i.name),9,ot)}),128))],512),[[z,l(t).gender]]),n(b,{message:l(t).errors.gender,class:"mt-2"},null,8,["message"])]),o("div",st,[n(x,{for:"ethnicity_id"},{default:_(()=>e[47]||(e[47]=[m(" Ethnicity "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[47]}),k(o("select",{id:"ethnicity_id","onUpdate:modelValue":e[5]||(e[5]=i=>l(t).ethnicity_id=i),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},[e[48]||(e[48]=o("option",{value:""},"Select Ethnicity",-1)),(d(!0),u(P,null,E(s.$page.props.formData.ethnicities,i=>{var f;return d(),u("option",{key:i.id,value:i.id,selected:((f=c.value.profile)==null?void 0:f.ethnicity_id)===i.id},B(i.name),9,it)}),128))],512),[[z,l(t).ethnicity_id]]),n(b,{message:l(t).errors.ethnicity_id,class:"mt-2"},null,8,["message"])]),o("div",lt,[n(x,{for:"religion_id"},{default:_(()=>e[49]||(e[49]=[m(" Religion "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[49]}),k(o("select",{id:"religion_id","onUpdate:modelValue":e[6]||(e[6]=i=>l(t).religion_id=i),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},[e[50]||(e[50]=o("option",{value:""},"Select Religion",-1)),(d(!0),u(P,null,E(s.$page.props.formData.religions,i=>{var f;return d(),u("option",{key:i.id,value:i.id,selected:((f=c.value.profile)==null?void 0:f.religion_id)===i.id},B(i.name),9,nt)}),128))],512),[[z,l(t).religion_id]]),n(b,{message:l(t).errors.religion_id,class:"mt-2"},null,8,["message"])])])],512),[[W,N.value==="personal"]])]),o("div",at,[o("button",{type:"button",onClick:e[7]||(e[7]=i=>Z("identification")),class:"w-full px-6 py-4 text-left font-medium text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex justify-between items-center"},[e[52]||(e[52]=o("span",null,"Identification Information",-1)),(d(),u("svg",{class:R(["w-5 h-5 transition-transform duration-200",{"rotate-180":N.value==="identification"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e[51]||(e[51]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),k(o("div",rt,[o("div",dt,[o("div",ut,[n(x,{for:"national_identification_number"},{default:_(()=>e[53]||(e[53]=[m(" National Identification Number "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1),o("span",{class:"text-xs text-gray-500 font-normal"},"(or Passport Number)",-1)])),_:1,__:[53]}),n(O,{id:"national_identification_number",modelValue:l(t).national_identification_number,"onUpdate:modelValue":e[8]||(e[8]=i=>l(t).national_identification_number=i),type:"text",class:"mt-1 block w-full",value:(p=c.value.citizen)==null?void 0:p.national_identification_number,placeholder:"e.g., 12345678",required:!l(t).passport_number,autocomplete:"off"},null,8,["modelValue","value","required"]),n(b,{message:l(t).errors.national_identification_number,class:"mt-2"},null,8,["message"])]),o("div",ct,[n(x,{for:"passport_number"},{default:_(()=>e[54]||(e[54]=[m(" Passport Number "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1),o("span",{class:"text-xs text-gray-500 font-normal"},"(or National Identification Number)",-1)])),_:1,__:[54]}),n(O,{id:"passport_number",modelValue:l(t).passport_number,"onUpdate:modelValue":e[9]||(e[9]=i=>l(t).passport_number=i),type:"text",class:"mt-1 block w-full",value:(g=c.value.citizen)==null?void 0:g.passport_number,placeholder:"e.g., A1234567",required:!l(t).national_identification_number,autocomplete:"off"},null,8,["modelValue","value","required"]),n(b,{message:l(t).errors.passport_number,class:"mt-2"},null,8,["message"])]),o("div",mt,[n(x,{for:"driver_license_number"},{default:_(()=>e[55]||(e[55]=[m(" Driver's License Number "),o("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[55]}),n(O,{id:"driver_license_number",modelValue:l(t).driver_license_number,"onUpdate:modelValue":e[10]||(e[10]=i=>l(t).driver_license_number=i),type:"text",class:"mt-1 block w-full",value:(y=c.value.citizen)==null?void 0:y.driver_license_number,placeholder:"e.g., DL12345678"},null,8,["modelValue","value"]),n(b,{message:l(t).errors.driver_license_number,class:"mt-2"},null,8,["message"])]),o("div",pt,[n(x,{for:"ncpwd_number"},{default:_(()=>e[56]||(e[56]=[m(" NCPWD Number "),o("span",{class:"text-xs text-gray-500 font-normal"},"(if Applicable)",-1)])),_:1,__:[56]}),n(O,{id:"ncpwd_number",modelValue:l(t).ncpwd_number,"onUpdate:modelValue":e[11]||(e[11]=i=>l(t).ncpwd_number=i),type:"text",class:"mt-1 block w-full",value:($=c.value.profile)==null?void 0:$.ncpwd_number,placeholder:"e.g., NCPWD/1234/5678"},null,8,["modelValue","value"]),n(b,{message:l(t).errors.ncpwd_number,class:"mt-2"},null,8,["message"])])])],512),[[W,N.value==="identification"]])]),o("div",gt,[o("button",{type:"button",onClick:e[12]||(e[12]=i=>Z("contact")),class:"w-full px-6 py-4 text-left font-medium text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex justify-between items-center"},[e[58]||(e[58]=o("span",null,"Contact Information",-1)),(d(),u("svg",{class:R(["w-5 h-5 transition-transform duration-200",{"rotate-180":N.value==="contact"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e[57]||(e[57]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),k(o("div",ft,[o("div",_t,[o("div",vt,[n(x,{for:"email"},{default:_(()=>e[59]||(e[59]=[m(" Email Address "),o("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[59]}),n(O,{id:"email",modelValue:l(t).email,"onUpdate:modelValue":e[13]||(e[13]=i=>l(t).email=i),type:"email",class:"mt-1 block w-full",value:c.value.email,placeholder:"your.email@example.com",autocomplete:"email"},null,8,["modelValue","value"]),n(b,{message:l(t).errors.email,class:"mt-2"},null,8,["message"]),s.$page.props.jetstream.hasEmailVerification&&c.value.email_verified_at===null?(d(),u("div",yt,[o("p",bt,[e[61]||(e[61]=m(" Your email is unverified. ")),n(l(Me),{href:s.route("verification.send"),method:"post",as:"button",class:"underline text-xs hover:text-gray-900 dark:hover:text-gray-200",onClick:G(ze,["prevent"])},{default:_(()=>e[60]||(e[60]=[m(" Resend verification ")])),_:1,__:[60]},8,["href","onClick"])]),k(o("div",xt," Verification link sent! ",512),[[W,ge.value]])])):T("",!0)]),o("div",wt,[n(x,{for:"telephone"},{default:_(()=>e[62]||(e[62]=[m(" Telephone Number "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[62]}),k(o("input",{id:"telephone",name:"telephone","onUpdate:modelValue":e[14]||(e[14]=i=>l(t).telephone=i),type:"tel",class:"border-gray-300 focus:border-green-500 focus:ring-green-500 rounded-md shadow-sm mt-1 block w-full",value:(j=c.value.profile)==null?void 0:j.telephone,placeholder:"e.g., 0712345678",required:"",onInput:Oe},null,40,kt),[[$e,l(t).telephone]]),n(b,{message:l(t).errors.telephone,class:"mt-2"},null,8,["message"])]),o("div",ht,[n(x,{for:"address_line_1"},{default:_(()=>e[63]||(e[63]=[m(" Address Line 1 "),o("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[63]}),n(O,{id:"address_line_1",modelValue:l(t).address_line_1,"onUpdate:modelValue":e[15]||(e[15]=i=>l(t).address_line_1=i),type:"text",class:"mt-1 block w-full",value:(H=c.value.profile)==null?void 0:H.address_line_1,placeholder:"e.g., 123 Main Street"},null,8,["modelValue","value"]),n(b,{message:l(t).errors.address_line_1,class:"mt-2"},null,8,["message"])]),o("div",Ct,[n(x,{for:"address_line_2"},{default:_(()=>e[64]||(e[64]=[m(" Address Line 2 "),o("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[64]}),n(O,{id:"address_line_2",modelValue:l(t).address_line_2,"onUpdate:modelValue":e[16]||(e[16]=i=>l(t).address_line_2=i),type:"text",class:"mt-1 block w-full",value:(he=c.value.profile)==null?void 0:he.address_line_2,placeholder:"e.g., Apartment, suite, etc. (optional)"},null,8,["modelValue","value"]),n(b,{message:l(t).errors.address_line_2,class:"mt-2"},null,8,["message"])]),o("div",Vt,[n(x,{for:"city"},{default:_(()=>e[65]||(e[65]=[m(" City "),o("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[65]}),n(O,{id:"city",modelValue:l(t).city,"onUpdate:modelValue":e[17]||(e[17]=i=>l(t).city=i),type:"text",class:"mt-1 block w-full",value:(Ce=c.value.profile)==null?void 0:Ce.city,placeholder:"e.g., Nairobi"},null,8,["modelValue","value"]),n(b,{message:l(t).errors.city,class:"mt-2"},null,8,["message"])]),o("div",St,[n(x,{for:"state"},{default:_(()=>e[66]||(e[66]=[m(" State/Province "),o("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[66]}),n(O,{id:"state",modelValue:l(t).state,"onUpdate:modelValue":e[18]||(e[18]=i=>l(t).state=i),type:"text",class:"mt-1 block w-full",value:(Ve=c.value.profile)==null?void 0:Ve.state,placeholder:"e.g., Nairobi"},null,8,["modelValue","value"]),n(b,{message:l(t).errors.state,class:"mt-2"},null,8,["message"])]),o("div",Bt,[n(x,{for:"country"},{default:_(()=>e[67]||(e[67]=[m(" Country "),o("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[67]}),n(O,{id:"country",modelValue:l(t).country,"onUpdate:modelValue":e[19]||(e[19]=i=>l(t).country=i),type:"text",class:"mt-1 block w-full bg-gray-100 dark:bg-gray-800 cursor-not-allowed",value:((Se=c.value.profile)==null?void 0:Se.country)||"Kenya",placeholder:"e.g., Kenya",readonly:""},null,8,["modelValue","value"]),n(b,{message:l(t).errors.country,class:"mt-2"},null,8,["message"])])])],512),[[W,N.value==="contact"]])]),o("div",$t,[o("button",{type:"button",onClick:e[20]||(e[20]=i=>Z("location")),class:"w-full px-6 py-4 text-left font-medium text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex justify-between items-center"},[e[69]||(e[69]=o("span",null,"Location Information",-1)),(d(),u("svg",{class:R(["w-5 h-5 transition-transform duration-200",{"rotate-180":N.value==="location"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e[68]||(e[68]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),k(o("div",Pt,[o("div",Et,[o("div",Ot,[n(x,{for:"county_id"},{default:_(()=>e[70]||(e[70]=[m(" County "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[70]}),k(o("select",{id:"county_id","onUpdate:modelValue":e[21]||(e[21]=i=>l(t).county_id=i),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},[e[71]||(e[71]=o("option",{value:""},"Select County",-1)),(d(!0),u(P,null,E(s.$page.props.formData.locations.counties,i=>{var f;return d(),u("option",{key:i.id,value:i.id,selected:l(t).county_id===((f=c.value.citizen)==null?void 0:f.county_id)},B(i.name),9,zt)}),128))],512),[[z,l(t).county_id]]),n(b,{message:l(t).errors.county_id,class:"mt-2"},null,8,["message"])]),o("div",It,[n(x,{for:"sub_county_id"},{default:_(()=>e[72]||(e[72]=[m(" Sub County ")])),_:1,__:[72]}),o("div",Tt,[k(o("select",{id:"sub_county_id","onUpdate:modelValue":e[22]||(e[22]=i=>l(t).sub_county_id=i),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).county_id||ve.value},[e[73]||(e[73]=o("option",{value:""},"Select Sub County",-1)),(d(!0),u(P,null,E(ee.value,i=>{var f;return d(),u("option",{key:i.id,value:i.id,selected:l(t).sub_county_id===((f=c.value.citizen)==null?void 0:f.sub_county_id)},B(i.name),9,Dt)}),128))],8,Lt),[[z,l(t).sub_county_id]]),ve.value?(d(),u("div",Nt,e[74]||(e[74]=[o("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):T("",!0)]),n(b,{message:l(t).errors.sub_county_id,class:"mt-2"},null,8,["message"])]),o("div",Ut,[n(x,{for:"constituency_id"},{default:_(()=>e[75]||(e[75]=[m(" Constituency "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[75]}),k(o("select",{id:"constituency_id","onUpdate:modelValue":e[23]||(e[23]=i=>l(t).constituency_id=i),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).county_id,required:""},[e[76]||(e[76]=o("option",{value:""}," Select Constituency ",-1)),(d(!0),u(P,null,E(te.value,i=>{var f;return d(),u("option",{key:i.id,value:i.id,selected:l(t).constituency_id===((f=c.value.citizen)==null?void 0:f.constituency_id)},B(i.name),9,jt)}),128))],8,Mt),[[z,l(t).constituency_id]]),n(b,{message:l(t).errors.constituency_id,class:"mt-2"},null,8,["message"])]),o("div",qt,[n(x,{for:"ward_id"},{default:_(()=>e[77]||(e[77]=[m(" Ward "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[77]}),k(o("select",{id:"ward_id","onUpdate:modelValue":e[24]||(e[24]=i=>l(t).ward_id=i),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).constituency_id,required:""},[e[78]||(e[78]=o("option",{value:""},"Select Ward",-1)),(d(!0),u(P,null,E(oe.value,i=>{var f;return d(),u("option",{key:i.id,value:i.id,selected:l(t).ward_id===((f=c.value.citizen)==null?void 0:f.ward_id)},B(i.name),9,Ft)}),128))],8,At),[[z,l(t).ward_id]]),n(b,{message:l(t).errors.ward_id,class:"mt-2"},null,8,["message"])]),o("div",Rt,[n(x,{for:"location_id"},{default:_(()=>e[79]||(e[79]=[m(" Location ")])),_:1,__:[79]}),o("div",Wt,[k(o("select",{id:"location_id","onUpdate:modelValue":e[25]||(e[25]=i=>l(t).location_id=i),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).ward_id||ye.value},[e[80]||(e[80]=o("option",{value:""},"Select Location",-1)),(d(!0),u(P,null,E(se.value,i=>{var f;return d(),u("option",{key:i.id,value:i.id,selected:l(t).location_id===((f=c.value.citizen)==null?void 0:f.location_id)},B(i.name),9,Kt)}),128))],8,Ht),[[z,l(t).location_id]]),ye.value?(d(),u("div",Yt,e[81]||(e[81]=[o("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):T("",!0)]),n(b,{message:l(t).errors.location_id,class:"mt-2"},null,8,["message"])]),o("div",Gt,[n(x,{for:"village_id"},{default:_(()=>e[82]||(e[82]=[m(" Village ")])),_:1,__:[82]}),o("div",Jt,[k(o("select",{id:"village_id","onUpdate:modelValue":e[26]||(e[26]=i=>l(t).village_id=i),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).location_id||be.value},[e[83]||(e[83]=o("option",{value:""},"Select Village",-1)),(d(!0),u(P,null,E(ie.value,i=>{var f;return d(),u("option",{key:i.id,value:i.id,selected:l(t).village_id===((f=c.value.citizen)==null?void 0:f.village_id)},B(i.name),9,Xt)}),128))],8,Qt),[[z,l(t).village_id]]),be.value?(d(),u("div",Zt,e[84]||(e[84]=[o("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):T("",!0)]),n(b,{message:l(t).errors.village_id,class:"mt-2"},null,8,["message"])]),o("div",eo,[n(x,{for:"polling_center_id"},{default:_(()=>e[85]||(e[85]=[m(" Polling Center ")])),_:1,__:[85]}),o("div",to,[k(o("select",{id:"polling_center_id","onUpdate:modelValue":e[27]||(e[27]=i=>l(t).polling_center_id=i),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).ward_id||xe.value},[e[86]||(e[86]=o("option",{value:""}," Select Polling Center ",-1)),(d(!0),u(P,null,E(le.value,i=>{var f;return d(),u("option",{key:i.id,value:i.id,selected:l(t).polling_center_id===((f=c.value.citizen)==null?void 0:f.polling_center_id)},B(i.name),9,so)}),128))],8,oo),[[z,l(t).polling_center_id]]),xe.value?(d(),u("div",io,e[87]||(e[87]=[o("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):T("",!0)]),n(b,{message:l(t).errors.polling_center_id,class:"mt-2"},null,8,["message"])]),o("div",lo,[n(x,{for:"polling_station_id"},{default:_(()=>e[88]||(e[88]=[m(" Polling Station ")])),_:1,__:[88]}),o("div",no,[k(o("select",{id:"polling_station_id","onUpdate:modelValue":e[28]||(e[28]=i=>l(t).polling_station_id=i),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).polling_center_id||we.value},[e[89]||(e[89]=o("option",{value:""}," Select Polling Station ",-1)),(d(!0),u(P,null,E(ne.value,i=>{var f;return d(),u("option",{key:i.id,value:i.id,selected:l(t).polling_station_id===((f=c.value.citizen)==null?void 0:f.polling_station_id)},B(i.name),9,ro)}),128))],8,ao),[[z,l(t).polling_station_id]]),we.value?(d(),u("div",uo,e[90]||(e[90]=[o("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):T("",!0)]),n(b,{message:l(t).errors.polling_station_id,class:"mt-2"},null,8,["message"])]),o("div",co,[n(x,{for:"polling_stream_id"},{default:_(()=>e[91]||(e[91]=[m(" Polling Stream ")])),_:1,__:[91]}),o("div",mo,[k(o("select",{id:"polling_stream_id","onUpdate:modelValue":e[29]||(e[29]=i=>l(t).polling_stream_id=i),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).polling_station_id||ke.value},[e[92]||(e[92]=o("option",{value:""}," Select Polling Stream ",-1)),(d(!0),u(P,null,E(ae.value,i=>{var f;return d(),u("option",{key:i.id,value:i.id,selected:l(t).polling_stream_id===((f=c.value.citizen)==null?void 0:f.polling_stream_id)},B(i.name),9,go)}),128))],8,po),[[z,l(t).polling_stream_id]]),ke.value?(d(),u("div",fo,e[93]||(e[93]=[o("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):T("",!0)]),n(b,{message:l(t).errors.polling_stream_id,class:"mt-2"},null,8,["message"])])])],512),[[W,N.value==="location"]])])])]}),actions:_(()=>[n(qe,{on:l(t).recentlySuccessful,class:"me-3"},{default:_(()=>e[94]||(e[94]=[m(" Saved. ")])),_:1,__:[94]},8,["on"]),n(Fe,{class:R({"opacity-25":l(t).processing}),disabled:l(t).processing},{default:_(()=>e[95]||(e[95]=[m(" Save ")])),_:1,__:[95]},8,["class","disabled"])]),_:1}),K.value?(d(),u("div",_o,[o("div",vo,[o("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:e[30]||(e[30]=G(a=>K.value=!1,["self"]))}),o("div",yo,[o("button",{type:"button",onClick:e[31]||(e[31]=a=>K.value=!1),class:"absolute top-4 right-4 text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200 focus:outline-none",disabled:A.value},e[96]||(e[96]=[o("span",{class:"sr-only"},"Close",-1),o("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,bo),o("div",xo,[e[100]||(e[100]=o("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 dark:bg-indigo-900 sm:mx-0 sm:h-10 sm:w-10"},[o("svg",{class:"h-6 w-6 text-indigo-600 dark:text-indigo-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),o("div",wo,[o("h3",ko," Verify "+B(l(C).field_to_verify==="email"?"Email Address":"Phone Number"),1),o("div",ho,[o("p",Co,[e[97]||(e[97]=m(" We've sent a 6-digit verification code to: ")),o("span",Vo,B(l(C).field_to_verify==="email"?l(t).email:s.formatPhoneNumberForDisplay(l(C).new_value)),1)]),o("div",So,[e[99]||(e[99]=o("label",{for:"otp",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Enter verification code ",-1)),o("div",Bo,[(d(),u(P,null,E(6,a=>k(o("input",{key:a,"onUpdate:modelValue":r=>s.otpDigits[a-1]=r,onInput:r=>s.onOtpInput(r,a-1),onKeydown:je(r=>s.onOtpKeyDown(r,a-1),["delete"]),onPaste:e[32]||(e[32]=G(r=>s.onOtpPaste(r),["prevent"])),type:"tel",maxlength:"1",pattern:"[0-9]",inputmode:"numeric",autocomplete:"one-time-code",disabled:A.value,class:R(["w-full h-14 text-2xl text-center font-semibold text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:opacity-50",{"border-red-500":s.otpError}])},null,42,$o),[[$e,s.otpDigits[a-1]]])),64))]),s.otpError?(d(),u("p",Po,B(s.otpError),1)):T("",!0),o("div",Eo,[s.otpResendEnabled?(d(),u("button",{key:1,type:"button",class:"text-sm font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300 focus:outline-none disabled:opacity-50",onClick:e[33]||(e[33]=(...a)=>s.resendOtp&&s.resendOtp(...a)),disabled:!s.otpResendEnabled||A.value}," Resend code ",8,Io)):(d(),u("p",Oo,[e[98]||(e[98]=m(" Didn't receive a code? Resend in ")),o("span",zo,B(Math.floor(s.otpCountdown/60))+":"+B((s.otpCountdown%60).toString().padStart(2,"0")),1)]))])])])])]),o("div",To,[o("button",{type:"button",class:R(["w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-3 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm transition-colors duration-150",{"opacity-75 cursor-not-allowed":s.otpDigits.join("").length!==6||A.value}]),onClick:e[34]||(e[34]=a=>me(s.otpDigits.join(""))),disabled:s.otpDigits.join("").length!==6||A.value},[A.value?(d(),u("span",No,e[101]||(e[101]=[o("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),m(" Verifying... ")]))):(d(),u("span",Do,"Verify Now"))],10,Lo),o("button",{type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-3 bg-white dark:bg-gray-700 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors duration-150",onClick:e[35]||(e[35]=a=>K.value=!1),disabled:A.value}," Cancel ",8,Uo)]),e[102]||(e[102]=o("div",{class:"mt-4 text-center"},[o("p",{class:"text-xs text-gray-500 dark:text-gray-400"},[m(" Having trouble? Contact support at "),o("a",{href:"mailto:support@forwardkenyaparty.com",class:"text-indigo-600 dark:text-indigo-400 hover:underline"},"support@forwardkenyaparty.com"),m(" or call +254 700 000 000 ")])],-1))])])])):T("",!0)],64))}};export{Go as default};
