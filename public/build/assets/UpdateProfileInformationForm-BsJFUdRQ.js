import{K as Ee,A as ne,d as p,u as we,B as w,e as a,o as r,b as n,f as O,w as m,g as l,h as u,n as q,a as o,y,c as Oe,z as A,G as Ie,k as H,F as S,i as $,t as C,D as E,l as Te,N as ke,O as he,S as b,P as Le}from"./app-6CY4Muat.js";import{_ as De}from"./ActionMessage-BNL85KvD.js";import{_ as ze}from"./FormSection-NTShNNSU.js";import{a as f,_ as P}from"./TextInput-Di3bY4mZ.js";import{_}from"./InputLabel-Dz7Gk_yg.js";import{_ as Ne}from"./PrimaryButton-BQlEEOpS.js";import{_ as Ce}from"./SecondaryButton-D0lk2dQG.js";import"./SectionTitle-C5JcdRuU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Ue={key:0,class:"col-span-6 sm:col-span-4"},Me={class:"mt-2"},je=["src","alt"],qe={class:"mt-2"},Ae={class:"col-span-6 space-y-4"},Fe={class:"border rounded-lg overflow-hidden dark:border-gray-700"},Re={class:"p-6 bg-white dark:bg-gray-900"},We={class:"grid grid-cols-6 gap-6"},He={class:"col-span-6 sm:col-span-3"},Ke={class:"col-span-6 sm:col-span-3"},Ye={class:"col-span-6 sm:col-span-3"},Ge={class:"col-span-6 sm:col-span-3"},Je=["value"],Qe={class:"col-span-6 sm:col-span-3"},Xe=["value"],Ze={class:"col-span-6 sm:col-span-3"},et=["value"],tt={class:"border rounded-lg overflow-hidden dark:border-gray-700"},ot={class:"p-6 bg-white dark:bg-gray-900"},st={class:"grid grid-cols-6 gap-6"},it={class:"col-span-6 sm:col-span-3"},lt={class:"col-span-6 sm:col-span-3"},nt={class:"col-span-6 sm:col-span-3"},rt={class:"col-span-6 sm:col-span-3"},at={class:"border rounded-lg overflow-hidden dark:border-gray-700"},dt={class:"p-6 bg-white dark:bg-gray-900"},ut={class:"grid grid-cols-6 gap-6"},mt={class:"col-span-6 sm:col-span-3"},ct={key:0,class:"mt-2"},gt={class:"text-xs text-gray-600 dark:text-gray-400"},pt={class:"text-xs text-green-600 dark:text-green-400 mt-1"},ft={class:"col-span-6 sm:col-span-3"},_t={class:"col-span-6"},vt={class:"col-span-6"},yt={class:"col-span-6 sm:col-span-2"},bt={class:"col-span-6 sm:col-span-2"},xt={class:"col-span-6 sm:col-span-2"},wt={class:"border rounded-lg overflow-hidden dark:border-gray-700"},kt={class:"p-6 bg-white dark:bg-gray-900"},ht={class:"grid grid-cols-6 gap-6"},Ct={class:"col-span-6 sm:col-span-3"},Vt=["value"],St={class:"col-span-6 sm:col-span-3"},Bt={class:"relative"},$t=["disabled"],Pt=["value"],Et={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},Ot={class:"col-span-6 sm:col-span-3"},It=["disabled"],Tt=["value"],Lt={class:"col-span-6 sm:col-span-3"},Dt=["disabled"],zt=["value"],Nt={class:"col-span-6 sm:col-span-3"},Ut={class:"relative"},Mt=["disabled"],jt=["value"],qt={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},At={class:"col-span-6 sm:col-span-3"},Ft={class:"relative"},Rt=["disabled"],Wt=["value"],Ht={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},Kt={class:"col-span-6 sm:col-span-3"},Yt={class:"relative"},Gt=["disabled"],Jt=["value"],Qt={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},Xt={class:"col-span-6 sm:col-span-3"},Zt={class:"relative"},eo=["disabled"],to=["value"],oo={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},so={class:"col-span-6 sm:col-span-3"},io={class:"relative"},lo=["disabled"],no=["value"],ro={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none"},ao={key:0,class:"fixed z-50 inset-0 overflow-y-auto","aria-labelledby":"otp-modal-title",role:"dialog","aria-modal":"true"},uo={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},mo={class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-6 pt-5 pb-6 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-md sm:w-full sm:p-8 relative"},co=["disabled"],go={class:"sm:flex sm:items-start"},po={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},fo={class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-100",id:"otp-modal-title"},_o={class:"mt-4"},vo={class:"text-sm text-gray-600 dark:text-gray-300"},yo={class:"block font-medium text-gray-900 dark:text-white mt-1"},bo={class:"mt-6"},xo={class:"flex justify-between space-x-3"},wo=["onUpdate:modelValue","onInput","onKeydown","disabled"],ko={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-400"},ho={class:"mt-4 text-center"},Co={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},Vo={class:"font-medium"},So=["disabled"],Bo={class:"mt-6 sm:mt-8 sm:flex sm:flex-row-reverse"},$o=["disabled"],Po={key:0},Eo={key:1,class:"flex items-center"},Oo=["disabled"],Ao={__name:"UpdateProfileInformationForm",props:{},setup(Io){const{props:K}=Ee(),V=ne(()=>{var i;return((i=K==null?void 0:K.auth)==null?void 0:i.user)||null}),I=ne(()=>{var i;return((i=V.value)==null?void 0:i.profile)||{}}),T={ttl:300,rate_limit:60,attempts_limit:5},L=p(0),U=p(null);let Y=null;const M=p(!1),F=p(!1),x=we({otp:"",field_to_verify:"",verification_value:""}),re=i=>{const s=Math.max(0,Math.floor((i-new Date)/1e3)),d=Math.floor(s/60),k=s%60;return{formatted:`${d}:${k.toString().padStart(2,"0")}`,isExpired:s<=0}},Ve=i=>{let e=i.target.value.replace(/\D/g,"");e=e.substring(0,10),e.length>6?e=e.replace(/^(\d{3})(\d{3})(\d+)$/,"$1 $2 $3"):e.length>3&&(e=e.replace(/^(\d{3})(\d+)$/,"$1 $2")),t.telephone=e},G=()=>{Y&&(clearInterval(Y),Y=null)},ae=()=>{let i=!1,e=0,s=null;if(!U.value){const d=new Date;d.setSeconds(d.getSeconds()+T.ttl),U.value=d}G(),b.fire({title:"Verification Required",html:`
            <p class="mb-4">We've sent a 6-digit verification code to your ${x.field_to_verify==="email"?"email":"phone number"}: <strong>${x.new_value}</strong></p>
            <p class="mb-4 text-sm text-gray-600">
                This code will expire in 
                <span id="otp-timer" class="font-medium">${re(U.value).formatted}</span>
            </p>
            <div class="flex flex-col items-center">
                <input id="swal-otp-input" class="swal2-input w-full text-center" placeholder="Enter 6-digit code" maxlength="6" type="text">
                <div class="text-sm text-gray-500 mt-2">
                    Didn't receive the code?
                    <button type="button" id="resend-otp-btn" class="text-green-600 hover:text-green-800">Resend</button>
                    <span id="resend-countdown" class="hidden ml-1 text-gray-500"></span>
                </div>
                <div class="text-xs text-gray-500 mt-1">
                    Attempts remaining: <span class="font-medium">${T.attempts_limit-L.value}</span> of ${T.attempts_limit}
                </div>
                ${L.value>0?`
                <div class="text-xs text-red-500 mt-1">
                    ${T.attempts_limit-L.value===0?"No attempts left. ":""}${L.value} failed attempt${L.value>1?"s":""}.
                </div>
                `:""}
            </div>
        `,showCancelButton:!0,confirmButtonText:"Verify",confirmButtonColor:"#10b981",cancelButtonText:"Cancel",allowOutsideClick:!1,preConfirm:()=>{const k=document.getElementById("swal-otp-input").value;return!k||k.length!==6?(b.showValidationMessage("Please enter the 6-digit verification code"),!1):k},didOpen:()=>{const d=document.getElementById("resend-otp-btn"),k=document.getElementById("resend-countdown"),h=document.getElementById("otp-timer");if(h){const g=()=>{const{formatted:v,isExpired:B}=re(U.value);h.textContent=v,v.startsWith("0:")||B?(h.classList.add("text-red-500"),h.classList.remove("text-gray-600")):(h.classList.remove("text-red-500"),h.classList.add("text-gray-600")),B&&(h.textContent="expired",h.classList.add("font-bold"))};g(),Y=setInterval(g,1e3)}const c=()=>{i?(d.disabled=!0,d.classList.remove("text-green-600","hover:text-green-800"),d.classList.add("text-gray-400","cursor-not-allowed"),k.classList.remove("hidden"),k.textContent=`(${e}s)`):(d.disabled=!1,d.classList.add("text-green-600","hover:text-green-800"),d.classList.remove("text-gray-400","cursor-not-allowed"),k.classList.add("hidden"))};d.addEventListener("click",async()=>{var g,v,B;if(!i)try{await de(x.field_to_verify,x.new_value)}catch(W){if((B=(v=(g=W.response)==null?void 0:g.data)==null?void 0:v.message)!=null&&B.includes("wait")){const le=W.response.data.message.match(/wait (\d+) (?:seconds|second)/i);e=le&&le[1]?parseInt(le[1]):T.rate_limit,i=!0,c(),s=setInterval(()=>{e-=1,c(),e<=0&&(clearInterval(s),i=!1,c())},1e3)}}})},willClose:()=>{s&&clearInterval(s),G()}}).then(async d=>{d.isConfirmed&&await ue(d.value)})},de=async(i,e)=>{var s,d,k,h;try{if(!i||!e){me("error","Validation Error",`${i==="email"?"Email":"Phone number"} is required for verification`);return}b.fire({title:"Sending OTP",text:`Please wait while we send an OTP to your ${i==="email"?"email":"phone number"}...`,allowOutsideClick:!1,didOpen:()=>{b.showLoading()}}),L.value=0,G();const c=new Date;c.setSeconds(c.getSeconds()+T.ttl),U.value=c;const g={};i==="email"?g.email=e:i==="telephone"&&(g.telephone=e);const v=await axios.post(route("auth.request-otp"),g);if(v.data.status==="success")x.verification_id=v.data.verification_id,x.field_to_verify=i,x.new_value=e,ae();else throw new Error(v.data.message||"Failed to send OTP. Please try again.")}catch(c){if(console.error("OTP send error:",c),(d=(s=c.response)==null?void 0:s.data)!=null&&d.message&&c.response.data.message.includes("wait")){let g=T.rate_limit;const v=c.response.data.message.match(/wait (\d+) (?:seconds|second)/i);v&&v[1]&&(g=parseInt(v[1]));const B=setInterval(()=>{g-=1;const W=document.getElementById("otp-timer");W&&(W.textContent=`${g}`),g<=0&&(clearInterval(B),b.close())},1e3);b.fire({icon:"warning",title:"Rate Limited",html:`
                    <p>You must wait before requesting another OTP.</p>
                    <div class="mt-4 text-center">
                        <p>Try again in <span id="otp-timer" class="font-bold text-lg">${g}</span> seconds</p>
                    </div>
                `,showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#10b981",willClose:()=>{clearInterval(B)}})}else b.fire({icon:"error",title:"OTP Error",text:((h=(k=c.response)==null?void 0:k.data)==null?void 0:h.message)||"Failed to send OTP. Please try again."})}},ue=async i=>{var e,s,d,k,h,c;if(U.value&&new Date>U.value){b.fire({icon:"error",title:"OTP Expired",text:"The verification code has expired. Please request a new one.",confirmButtonColor:"#10b981"});return}if(L.value>=T.attempts_limit){b.fire({icon:"error",title:"Maximum Attempts Reached",text:"You've exceeded the maximum number of verification attempts. Please request a new OTP.",confirmButtonColor:"#10b981"});return}L.value+=1;try{b.fire({title:"Verifying OTP",text:"Please wait while we verify your OTP...",allowOutsideClick:!1,didOpen:()=>{b.showLoading()}});const g={otp:i};x.field_to_verify==="email"?g.email=x.new_value:x.field_to_verify==="telephone"&&(g.telephone=x.new_value);const v=await axios.post(route("auth.verify-otp"),g);if(v.data.status==="success")L.value=0,x.field_to_verify==="email"?(t.email=x.new_value,t.email_verified_at=new Date().toISOString(),t.clearErrors("email")):x.field_to_verify==="telephone"&&(t.telephone=x.new_value,t.telephone_verified_at=new Date().toISOString(),t.clearErrors("telephone")),F.value=!1,x.reset(),G(),b.fire({icon:"success",title:"Verification Successful",text:`Your ${x.field_to_verify==="email"?"email address":"telephone number"} has been verified successfully.`,confirmButtonColor:"#10b981"}),(e=v.data.data)!=null&&e.accessToken&&(window.localStorage.setItem("auth_token",v.data.data.accessToken),axios.defaults.headers.common.Authorization=`Bearer ${v.data.data.accessToken}`,await he.reload({only:["user"]})),z.value&&(z.value=!1,await ge());else throw new Error(v.data.message||"Invalid OTP. Please try again.")}catch(g){console.error("OTP verification error:",g),b.fire({icon:"error",title:"Verification Failed",html:`
                <p>${((d=(s=g.response)==null?void 0:s.data)==null?void 0:d.message)||"Failed to verify OTP. Please try again."}</p>
                ${(c=(h=(k=g.response)==null?void 0:k.data)==null?void 0:h.message)!=null&&c.includes("attempts exceeded")?`<p class="mt-2 text-sm">You have exceeded the maximum of ${T.attempts_limit} attempts. Please request a new OTP.</p>`:""}
            `,confirmButtonColor:"#10b981"}).then(()=>{L.value<T.attempts_limit&&ae()})}},z=p(!1),me=(i,e,s)=>{b.fire({toast:!0,position:"top-end",icon:i,title:e,text:s,showConfirmButton:!1,timer:3e3,timerProgressBar:!0})},t=we({_method:"PUT",surname:"",other_name:"",email:"",photo:null,date_of_birth:"",gender:"",ncpwd_number:"",ethnicity_id:"",religion_id:"",telephone:"",address_line_1:"",address_line_2:"",city:"",state:"",country:"",national_identification_number:"",passport_number:"",driver_license_number:"",county_id:"",sub_county_id:"",constituency_id:"",ward_id:"",location_id:"",village_id:"",polling_center_id:"",polling_station_id:"",polling_stream_id:""},{resetOnSuccess:!1,rules:{national_identification_number:[(i,e)=>!i&&!e.passport_number?"Either National Identification Number or Passport Number is required":!0],passport_number:[(i,e)=>!i&&!e.national_identification_number?"Either Passport Number or National Identification Number is required":!0]}});w(I,i=>{var e;i&&(t.surname=i.last_name||"",t.other_name=i.first_name||"",t.email=((e=V.value)==null?void 0:e.email)||"",t.date_of_birth=i.date_of_birth||"",t.gender=i.gender||"",t.ncpwd_number=i.ncpwd_number||"",t.ethnicity_id=i.ethnicity_id||"",t.religion_id=i.religion_id||"",t.telephone=i.telephone||"",t.address_line_1=i.address_line_1||"",t.address_line_2=i.address_line_2||"",t.city=i.city||"",t.state=i.state||"",t.country=i.country||"",i.citizen&&(t.national_identification_number=i.citizen.national_identification_number||"",t.passport_number=i.citizen.passport_number||"",t.driver_license_number=i.citizen.driver_license_number||"",t.county_id=i.citizen.county_id||"",t.sub_county_id=i.citizen.sub_county_id||"",t.constituency_id=i.citizen.constituency_id||"",t.ward_id=i.citizen.ward_id||"",t.location_id=i.citizen.location_id||"",t.village_id=i.citizen.village_id||"",t.polling_center_id=i.citizen.polling_center_id||"",t.polling_station_id=i.citizen.polling_station_id||"",t.polling_stream_id=i.citizen.polling_stream_id||""))},{immediate:!0});const ce=p(null),R=p(null),j=p(null),ge=async(i=!1)=>{var k,h;(h=(k=j.value)==null?void 0:k.files)!=null&&h[0]&&(t.photo=j.value.files[0]);const e=(V==null?void 0:V.email)&&t.email!==V.email,s=(I==null?void 0:I.telephone)&&t.telephone!==I.telephone;if(!i&&(z.value||e||s)){z.value=!0;let c="",g="",v="";if(s?(c="telephone",I!=null&&I.telephone?(g=I.telephone,v=`We'll send a verification code to your current number <strong>${I.telephone}</strong> to confirm this change.`):z.value=!1):e&&(V!=null&&V.email)&&(c="email",g=V.email,v=`We'll send a verification code to <strong>${V.email}</strong> to confirm your email address change.`),c)try{const B=await b.fire({title:"Verify "+(c==="email"?"Email Address":"Phone Number"),html:v,icon:"info",showCancelButton:!0,confirmButtonText:"Send Verification Code",cancelButtonText:"Cancel",reverseButtons:!0,customClass:{confirmButton:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",cancelButton:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300"},buttonsStyling:!1});B.isConfirmed?await de(c,g):B.isDismissed&&(z.value=!1);return}catch(B){console.error("Error in verification flow:",B),me("error","Verification Error","An error occurred while setting up verification. Please try again."),z.value=!1;return}}const d=new FormData;Object.keys(t).forEach(c=>{typeof t[c]!="function"&&!c.startsWith("_")&&(c==="photo"&&t.photo instanceof File?d.append("photo",t.photo):t[c]!==null&&t[c]!==void 0&&d.append(c,t[c]))}),t.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,forceFormData:!0,onSuccess:c=>{pe(),z.value=!1,b.fire({toast:!0,position:"top-end",icon:"success",title:c.props.flash.message||"Profile updated successfully!",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:g=>{g.addEventListener("mouseenter",b.stopTimer),g.addEventListener("mouseleave",b.resumeTimer)}})},onError:c=>{const g=Object.values(c).flat()[0];b.fire({toast:!0,position:"top-end",icon:"error",title:g||"Failed to update profile. Please try again.",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:v=>{v.addEventListener("mouseenter",b.stopTimer),v.addEventListener("mouseleave",b.resumeTimer)}})}})},Se=()=>{ce.value=!0},Be=()=>{j.value.click()},$e=()=>{const i=j.value.files[0];if(!i)return;const e=new FileReader;e.onload=s=>{R.value=s.target.result},e.readAsDataURL(i)},Pe=()=>{he.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{R.value=null,pe()}})},pe=()=>{var i;(i=j.value)!=null&&i.value&&(j.value.value=null)},D=p("personal");p([]),p([]),p([]),p([]),p([]),p([]),p([]);const fe=p(!1);p(!1),p(!1);const _e=p(!1),ve=p(!1),ye=p(!1),be=p(!1),xe=p(!1),N=ne(()=>{var e;return((e=K.formData)==null?void 0:e.locations)||{counties:[],sub_counties:[],constituencies:[],wards:[],locations:[],villages:[],polling_centers:[],polling_stations:[],polling_streams:[]}}),Q=p([]),X=p([]),Z=p([]),ee=p([]),te=p([]),oe=p([]),se=p([]),ie=p([]);w(()=>t.county_id,i=>{var e,s;if(!i){Q.value=[],X.value=[],t.sub_county_id="",t.constituency_id="";return}Q.value=((e=N.value.sub_counties)==null?void 0:e.filter(d=>d.county_id==i))||[],X.value=((s=N.value.constituencies)==null?void 0:s.filter(d=>d.county_id==i))||[],t.sub_county_id="",t.constituency_id=""}),w(()=>t.constituency_id,i=>{var e;if(!i){Z.value=[],t.ward_id="";return}Z.value=((e=N.value.wards)==null?void 0:e.filter(s=>s.constituency_id==i))||[],t.ward_id=""}),w(()=>t.ward_id,i=>{var e,s;if(!i){ee.value=[],oe.value=[],t.location_id="",t.polling_center_id="";return}ee.value=((e=N.value.locations)==null?void 0:e.filter(d=>d.ward_id==i))||[],oe.value=((s=N.value.polling_centers)==null?void 0:s.filter(d=>d.ward_id==i))||[],t.location_id="",t.polling_center_id=""}),w(()=>t.location_id,i=>{var e;if(!i){te.value=[],t.village_id="";return}te.value=((e=N.value.villages)==null?void 0:e.filter(s=>s.location_id==i))||[],t.village_id=""}),w(()=>t.polling_center_id,i=>{var e;if(!i){se.value=[],t.polling_station_id="";return}se.value=((e=N.value.polling_stations)==null?void 0:e.filter(s=>s.center_id==i))||[],t.polling_station_id=""}),w(()=>t.polling_station_id,i=>{var e;if(!i){ie.value=[],t.polling_stream_id="";return}ie.value=((e=N.value.polling_streams)==null?void 0:e.filter(s=>s.station_id==i))||[],t.polling_stream_id=""}),w(()=>t.county_id,()=>{t.sub_county_id="",t.constituency_id="",t.ward_id="",t.location_id="",t.village_id="",t.polling_center_id="",t.polling_station_id="",t.polling_stream_id=""}),w(()=>t.constituency_id,()=>{t.ward_id="",t.location_id="",t.village_id="",t.polling_center_id="",t.polling_station_id="",t.polling_stream_id=""}),w(()=>t.ward_id,()=>{t.location_id="",t.village_id="",t.polling_center_id="",t.polling_station_id="",t.polling_stream_id=""}),w(()=>t.location_id,()=>{t.village_id=""}),w(()=>t.polling_center_id,()=>{t.polling_station_id="",t.polling_stream_id=""}),w(()=>t.polling_station_id,()=>{t.polling_stream_id=""}),w(()=>t.county_id,i=>{t.sub_county_id="",t.constituency_id="",t.ward_id="",t.location_id="",t.village_id="",t.polling_center_id="",t.polling_station_id="",t.polling_stream_id=""}),w(()=>t.sub_county_id,i=>{i&&(t.ward_id="",t.location_id="",t.village_id="",t.polling_center_id="",t.polling_station_id="",t.polling_stream_id="")}),w(()=>t.constituency_id,i=>{t.ward_id="",t.location_id="",t.village_id="",t.polling_center_id="",t.polling_station_id="",t.polling_stream_id=""}),w(()=>t.ward_id,i=>{t.location_id="",t.village_id="",t.polling_center_id="",t.polling_station_id="",t.polling_stream_id=""}),w(()=>t.location_id,i=>{i&&(t.village_id="")}),w(()=>t.polling_center_id,i=>{t.polling_station_id="",t.polling_stream_id=""}),w(()=>t.polling_station_id,i=>{i&&(t.polling_stream_id="")});const J=i=>{D.value=D.value===i?null:i};return(i,e)=>(r(),a(S,null,[n(ze,{onSubmitted:ge},{title:m(()=>e[36]||(e[36]=[u(" Profile Information ")])),description:m(()=>e[37]||(e[37]=[u(" Update your personal, contact, and identification information. Ensure all details are accurate and up-to-date. ")])),form:m(()=>[i.$page.props.jetstream.managesProfilePhotos?(r(),a("div",Ue,[o("input",{id:"photo",ref_key:"photoInput",ref:j,type:"file",class:"hidden",onChange:$e},null,544),n(_,{for:"photo",value:"Profile Image"}),y(o("div",Me,[o("img",{src:V.value.profile_photo_url,alt:V.value.name,class:"rounded-full size-20 object-cover"},null,8,je)],512),[[A,!R.value]]),y(o("div",qe,[o("span",{class:"block rounded-full size-20 bg-cover bg-no-repeat bg-center",style:Ie("background-image: url('"+R.value+"');")},null,4)],512),[[A,R.value]]),n(Ce,{class:"mt-2 me-2",type:"button",onClick:H(Be,["prevent"])},{default:m(()=>e[38]||(e[38]=[u(" Select A New Photo ")])),_:1,__:[38]}),V.value.profile_photo_path?(r(),Oe(Ce,{key:0,type:"button",class:"mt-2",onClick:H(Pe,["prevent"])},{default:m(()=>e[39]||(e[39]=[u(" Remove Photo ")])),_:1,__:[39]})):O("",!0),n(f,{message:l(t).errors.photo,class:"mt-2"},null,8,["message"])])):O("",!0),o("div",Ae,[o("div",Fe,[o("button",{type:"button",onClick:e[0]||(e[0]=s=>J("personal")),class:"w-full px-6 py-4 text-left font-medium text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex justify-between items-center"},[e[41]||(e[41]=o("span",null,"Personal Information",-1)),(r(),a("svg",{class:q(["w-5 h-5 transition-transform duration-200",{"rotate-180":D.value==="personal"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e[40]||(e[40]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),y(o("div",Re,[o("div",We,[o("div",He,[n(_,{for:"surname"},{default:m(()=>e[42]||(e[42]=[u(" Surname "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[42]}),n(P,{id:"surname",modelValue:l(t).surname,"onUpdate:modelValue":e[1]||(e[1]=s=>l(t).surname=s),type:"text",class:"mt-1 block w-full",placeholder:"Enter your surname",required:"",autocomplete:"family-name"},null,8,["modelValue"]),n(f,{message:l(t).errors.surname,class:"mt-2"},null,8,["message"])]),o("div",Ke,[n(_,{for:"other_name"},{default:m(()=>e[43]||(e[43]=[u(" Other Name "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[43]}),n(P,{id:"other_name",modelValue:l(t).other_name,"onUpdate:modelValue":e[2]||(e[2]=s=>l(t).other_name=s),type:"text",class:"mt-1 block w-full",placeholder:"Enter your other names",required:"",autocomplete:"given-name"},null,8,["modelValue"]),n(f,{message:l(t).errors.other_name,class:"mt-2"},null,8,["message"])]),o("div",Ye,[n(_,{for:"date_of_birth"},{default:m(()=>e[44]||(e[44]=[u(" Date of Birth "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[44]}),n(P,{id:"date_of_birth",modelValue:l(t).date_of_birth,"onUpdate:modelValue":e[3]||(e[3]=s=>l(t).date_of_birth=s),type:"date",class:"mt-1 block w-full",placeholder:"Select your date of birth",required:""},null,8,["modelValue"]),n(f,{message:l(t).errors.date_of_birth,class:"mt-2"},null,8,["message"])]),o("div",Ge,[n(_,{for:"gender"},{default:m(()=>e[45]||(e[45]=[u(" Gender "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[45]}),y(o("select",{id:"gender","onUpdate:modelValue":e[4]||(e[4]=s=>l(t).gender=s),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},[e[46]||(e[46]=o("option",{value:""},"Select Gender",-1)),(r(!0),a(S,null,$(i.$page.props.formData.genders,s=>(r(),a("option",{key:s.id,value:s.id},C(s.name),9,Je))),128))],512),[[E,l(t).gender]]),n(f,{message:l(t).errors.gender,class:"mt-2"},null,8,["message"])]),o("div",Qe,[n(_,{for:"ethnicity_id"},{default:m(()=>e[47]||(e[47]=[u(" Ethnicity "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[47]}),y(o("select",{id:"ethnicity_id","onUpdate:modelValue":e[5]||(e[5]=s=>l(t).ethnicity_id=s),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},[e[48]||(e[48]=o("option",{value:""},"Select Ethnicity",-1)),(r(!0),a(S,null,$(i.$page.props.formData.ethnicities,s=>(r(),a("option",{key:s.id,value:s.id},C(s.name),9,Xe))),128))],512),[[E,l(t).ethnicity_id]]),n(f,{message:l(t).errors.ethnicity_id,class:"mt-2"},null,8,["message"])]),o("div",Ze,[n(_,{for:"religion_id"},{default:m(()=>e[49]||(e[49]=[u(" Religion "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[49]}),y(o("select",{id:"religion_id","onUpdate:modelValue":e[6]||(e[6]=s=>l(t).religion_id=s),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},[e[50]||(e[50]=o("option",{value:""},"Select Religion",-1)),(r(!0),a(S,null,$(i.$page.props.formData.religions,s=>(r(),a("option",{key:s.id,value:s.id},C(s.name),9,et))),128))],512),[[E,l(t).religion_id]]),n(f,{message:l(t).errors.religion_id,class:"mt-2"},null,8,["message"])])])],512),[[A,D.value==="personal"]])]),o("div",tt,[o("button",{type:"button",onClick:e[7]||(e[7]=s=>J("identification")),class:"w-full px-6 py-4 text-left font-medium text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex justify-between items-center"},[e[52]||(e[52]=o("span",null,"Identification Information",-1)),(r(),a("svg",{class:q(["w-5 h-5 transition-transform duration-200",{"rotate-180":D.value==="identification"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e[51]||(e[51]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),y(o("div",ot,[o("div",st,[o("div",it,[n(_,{for:"national_identification_number"},{default:m(()=>e[53]||(e[53]=[u(" National Identification Number "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1),o("span",{class:"text-xs text-gray-500 font-normal"},"(or Passport Number)",-1)])),_:1,__:[53]}),n(P,{id:"national_identification_number",modelValue:l(t).national_identification_number,"onUpdate:modelValue":e[8]||(e[8]=s=>l(t).national_identification_number=s),type:"text",class:"mt-1 block w-full",placeholder:"e.g., 12345678",required:!l(t).passport_number,autocomplete:"off"},null,8,["modelValue","required"]),n(f,{message:l(t).errors.national_identification_number,class:"mt-2"},null,8,["message"])]),o("div",lt,[n(_,{for:"passport_number"},{default:m(()=>e[54]||(e[54]=[u(" Passport Number "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1),o("span",{class:"text-xs text-gray-500 font-normal"},"(or National Identification Number)",-1)])),_:1,__:[54]}),n(P,{id:"passport_number",modelValue:l(t).passport_number,"onUpdate:modelValue":e[9]||(e[9]=s=>l(t).passport_number=s),type:"text",class:"mt-1 block w-full",placeholder:"e.g., A1234567",required:!l(t).national_identification_number,autocomplete:"off"},null,8,["modelValue","required"]),n(f,{message:l(t).errors.passport_number,class:"mt-2"},null,8,["message"])]),o("div",nt,[n(_,{for:"driver_license_number"},{default:m(()=>e[55]||(e[55]=[u(" Driver's License Number "),o("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[55]}),n(P,{id:"driver_license_number",modelValue:l(t).driver_license_number,"onUpdate:modelValue":e[10]||(e[10]=s=>l(t).driver_license_number=s),type:"text",class:"mt-1 block w-full",placeholder:"e.g., DL12345678"},null,8,["modelValue"]),n(f,{message:l(t).errors.driver_license_number,class:"mt-2"},null,8,["message"])]),o("div",rt,[n(_,{for:"ncpwd_number"},{default:m(()=>e[56]||(e[56]=[u(" NCPWD Number "),o("span",{class:"text-xs text-gray-500 font-normal"},"(if Applicable)",-1)])),_:1,__:[56]}),n(P,{id:"ncpwd_number",modelValue:l(t).ncpwd_number,"onUpdate:modelValue":e[11]||(e[11]=s=>l(t).ncpwd_number=s),type:"text",class:"mt-1 block w-full",placeholder:"e.g., NCPWD/1234/5678"},null,8,["modelValue"]),n(f,{message:l(t).errors.ncpwd_number,class:"mt-2"},null,8,["message"])])])],512),[[A,D.value==="identification"]])]),o("div",at,[o("button",{type:"button",onClick:e[12]||(e[12]=s=>J("contact")),class:"w-full px-6 py-4 text-left font-medium text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex justify-between items-center"},[e[58]||(e[58]=o("span",null,"Contact Information",-1)),(r(),a("svg",{class:q(["w-5 h-5 transition-transform duration-200",{"rotate-180":D.value==="contact"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e[57]||(e[57]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),y(o("div",dt,[o("div",ut,[o("div",mt,[n(_,{for:"email"},{default:m(()=>e[59]||(e[59]=[u(" Email Address "),o("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[59]}),n(P,{id:"email",modelValue:l(t).email,"onUpdate:modelValue":e[13]||(e[13]=s=>l(t).email=s),type:"email",class:"mt-1 block w-full",placeholder:"your.email@example.com",autocomplete:"email"},null,8,["modelValue"]),n(f,{message:l(t).errors.email,class:"mt-2"},null,8,["message"]),i.$page.props.jetstream.hasEmailVerification&&V.value.email_verified_at===null?(r(),a("div",ct,[o("p",gt,[e[61]||(e[61]=u(" Your email is unverified. ")),n(l(Te),{href:i.route("verification.send"),method:"post",as:"button",class:"underline text-xs hover:text-gray-900 dark:hover:text-gray-200",onClick:H(Se,["prevent"])},{default:m(()=>e[60]||(e[60]=[u(" Resend verification ")])),_:1,__:[60]},8,["href","onClick"])]),y(o("div",pt," Verification link sent! ",512),[[A,ce.value]])])):O("",!0)]),o("div",ft,[n(_,{for:"telephone"},{default:m(()=>e[62]||(e[62]=[u(" Telephone Number "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[62]}),y(o("input",{id:"telephone",name:"telephone","onUpdate:modelValue":e[14]||(e[14]=s=>l(t).telephone=s),type:"tel",class:"border-gray-300 focus:border-green-500 focus:ring-green-500 rounded-md shadow-sm mt-1 block w-full",placeholder:"e.g., 0712345678",required:"",onInput:Ve},null,544),[[ke,l(t).telephone]]),n(f,{message:l(t).errors.telephone,class:"mt-2"},null,8,["message"])]),o("div",_t,[n(_,{for:"address_line_1"},{default:m(()=>e[63]||(e[63]=[u(" Address Line 1 "),o("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[63]}),n(P,{id:"address_line_1",modelValue:l(t).address_line_1,"onUpdate:modelValue":e[15]||(e[15]=s=>l(t).address_line_1=s),type:"text",class:"mt-1 block w-full",placeholder:"e.g., 123 Main Street"},null,8,["modelValue"]),n(f,{message:l(t).errors.address_line_1,class:"mt-2"},null,8,["message"])]),o("div",vt,[n(_,{for:"address_line_2"},{default:m(()=>e[64]||(e[64]=[u(" Address Line 2 "),o("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[64]}),n(P,{id:"address_line_2",modelValue:l(t).address_line_2,"onUpdate:modelValue":e[16]||(e[16]=s=>l(t).address_line_2=s),type:"text",class:"mt-1 block w-full",placeholder:"e.g., Apartment, suite, etc. (optional)"},null,8,["modelValue"]),n(f,{message:l(t).errors.address_line_2,class:"mt-2"},null,8,["message"])]),o("div",yt,[n(_,{for:"city"},{default:m(()=>e[65]||(e[65]=[u(" City "),o("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[65]}),n(P,{id:"city",modelValue:l(t).city,"onUpdate:modelValue":e[17]||(e[17]=s=>l(t).city=s),type:"text",class:"mt-1 block w-full",placeholder:"e.g., Nairobi"},null,8,["modelValue"]),n(f,{message:l(t).errors.city,class:"mt-2"},null,8,["message"])]),o("div",bt,[n(_,{for:"state"},{default:m(()=>e[66]||(e[66]=[u(" State/Province "),o("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[66]}),n(P,{id:"state",modelValue:l(t).state,"onUpdate:modelValue":e[18]||(e[18]=s=>l(t).state=s),type:"text",class:"mt-1 block w-full",placeholder:"e.g., Nairobi"},null,8,["modelValue"]),n(f,{message:l(t).errors.state,class:"mt-2"},null,8,["message"])]),o("div",xt,[n(_,{for:"country"},{default:m(()=>e[67]||(e[67]=[u(" Country "),o("span",{class:"text-xs text-gray-500 font-normal"},"(Optional)",-1)])),_:1,__:[67]}),n(P,{id:"country",modelValue:l(t).country,"onUpdate:modelValue":e[19]||(e[19]=s=>l(t).country=s),type:"text",class:"mt-1 block w-full bg-gray-100 dark:bg-gray-800 cursor-not-allowed",placeholder:"e.g., Kenya",value:"Kenya",readonly:""},null,8,["modelValue"]),n(f,{message:l(t).errors.country,class:"mt-2"},null,8,["message"])])])],512),[[A,D.value==="contact"]])]),o("div",wt,[o("button",{type:"button",onClick:e[20]||(e[20]=s=>J("location")),class:"w-full px-6 py-4 text-left font-medium text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 flex justify-between items-center"},[e[69]||(e[69]=o("span",null,"Location Information",-1)),(r(),a("svg",{class:q(["w-5 h-5 transition-transform duration-200",{"rotate-180":D.value==="location"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e[68]||(e[68]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),y(o("div",kt,[o("div",ht,[o("div",Ct,[n(_,{for:"county_id"},{default:m(()=>e[70]||(e[70]=[u(" County "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[70]}),y(o("select",{id:"county_id","onUpdate:modelValue":e[21]||(e[21]=s=>l(t).county_id=s),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",required:""},[e[71]||(e[71]=o("option",{value:""},"Select County",-1)),(r(!0),a(S,null,$(i.$page.props.formData.locations.counties,s=>(r(),a("option",{key:s.id,value:s.id},C(s.name),9,Vt))),128))],512),[[E,l(t).county_id]]),n(f,{message:l(t).errors.county_id,class:"mt-2"},null,8,["message"])]),o("div",St,[n(_,{for:"sub_county_id"},{default:m(()=>e[72]||(e[72]=[u(" Sub County ")])),_:1,__:[72]}),o("div",Bt,[y(o("select",{id:"sub_county_id","onUpdate:modelValue":e[22]||(e[22]=s=>l(t).sub_county_id=s),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).county_id||fe.value},[e[73]||(e[73]=o("option",{value:""},"Select Sub County",-1)),(r(!0),a(S,null,$(Q.value,s=>(r(),a("option",{key:s.id,value:s.id},C(s.name),9,Pt))),128))],8,$t),[[E,l(t).sub_county_id]]),fe.value?(r(),a("div",Et,e[74]||(e[74]=[o("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):O("",!0)]),n(f,{message:l(t).errors.sub_county_id,class:"mt-2"},null,8,["message"])]),o("div",Ot,[n(_,{for:"constituency_id"},{default:m(()=>e[75]||(e[75]=[u(" Constituency "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[75]}),y(o("select",{id:"constituency_id","onUpdate:modelValue":e[23]||(e[23]=s=>l(t).constituency_id=s),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).county_id,required:""},[e[76]||(e[76]=o("option",{value:""}," Select Constituency ",-1)),(r(!0),a(S,null,$(X.value,s=>(r(),a("option",{key:s.id,value:s.id},C(s.name),9,Tt))),128))],8,It),[[E,l(t).constituency_id]]),n(f,{message:l(t).errors.constituency_id,class:"mt-2"},null,8,["message"])]),o("div",Lt,[n(_,{for:"ward_id"},{default:m(()=>e[77]||(e[77]=[u(" Ward "),o("i",{class:"fas fa-star text-red-500 text-xs ml-1"},null,-1)])),_:1,__:[77]}),y(o("select",{id:"ward_id","onUpdate:modelValue":e[24]||(e[24]=s=>l(t).ward_id=s),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).constituency_id,required:""},[e[78]||(e[78]=o("option",{value:""},"Select Ward",-1)),(r(!0),a(S,null,$(Z.value,s=>(r(),a("option",{key:s.id,value:s.id},C(s.name),9,zt))),128))],8,Dt),[[E,l(t).ward_id]]),n(f,{message:l(t).errors.ward_id,class:"mt-2"},null,8,["message"])]),o("div",Nt,[n(_,{for:"location_id"},{default:m(()=>e[79]||(e[79]=[u(" Location ")])),_:1,__:[79]}),o("div",Ut,[y(o("select",{id:"location_id","onUpdate:modelValue":e[25]||(e[25]=s=>l(t).location_id=s),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).ward_id||_e.value},[e[80]||(e[80]=o("option",{value:""},"Select Location",-1)),(r(!0),a(S,null,$(ee.value,s=>(r(),a("option",{key:s.id,value:s.id},C(s.name),9,jt))),128))],8,Mt),[[E,l(t).location_id]]),_e.value?(r(),a("div",qt,e[81]||(e[81]=[o("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):O("",!0)]),n(f,{message:l(t).errors.location_id,class:"mt-2"},null,8,["message"])]),o("div",At,[n(_,{for:"village_id"},{default:m(()=>e[82]||(e[82]=[u(" Village ")])),_:1,__:[82]}),o("div",Ft,[y(o("select",{id:"village_id","onUpdate:modelValue":e[26]||(e[26]=s=>l(t).village_id=s),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).location_id||ve.value},[e[83]||(e[83]=o("option",{value:""},"Select Village",-1)),(r(!0),a(S,null,$(te.value,s=>(r(),a("option",{key:s.id,value:s.id},C(s.name),9,Wt))),128))],8,Rt),[[E,l(t).village_id]]),ve.value?(r(),a("div",Ht,e[84]||(e[84]=[o("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):O("",!0)]),n(f,{message:l(t).errors.village_id,class:"mt-2"},null,8,["message"])]),o("div",Kt,[n(_,{for:"polling_center_id"},{default:m(()=>e[85]||(e[85]=[u(" Polling Center ")])),_:1,__:[85]}),o("div",Yt,[y(o("select",{id:"polling_center_id","onUpdate:modelValue":e[27]||(e[27]=s=>l(t).polling_center_id=s),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).ward_id||ye.value},[e[86]||(e[86]=o("option",{value:""}," Select Polling Center ",-1)),(r(!0),a(S,null,$(oe.value,s=>(r(),a("option",{key:s.id,value:s.id},C(s.name),9,Jt))),128))],8,Gt),[[E,l(t).polling_center_id]]),ye.value?(r(),a("div",Qt,e[87]||(e[87]=[o("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):O("",!0)]),n(f,{message:l(t).errors.polling_center_id,class:"mt-2"},null,8,["message"])]),o("div",Xt,[n(_,{for:"polling_station_id"},{default:m(()=>e[88]||(e[88]=[u(" Polling Station ")])),_:1,__:[88]}),o("div",Zt,[y(o("select",{id:"polling_station_id","onUpdate:modelValue":e[28]||(e[28]=s=>l(t).polling_station_id=s),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).polling_center_id||be.value},[e[89]||(e[89]=o("option",{value:""}," Select Polling Station ",-1)),(r(!0),a(S,null,$(se.value,s=>(r(),a("option",{key:s.id,value:s.id},C(s.name),9,to))),128))],8,eo),[[E,l(t).polling_station_id]]),be.value?(r(),a("div",oo,e[90]||(e[90]=[o("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):O("",!0)]),n(f,{message:l(t).errors.polling_station_id,class:"mt-2"},null,8,["message"])]),o("div",so,[n(_,{for:"polling_stream_id"},{default:m(()=>e[91]||(e[91]=[u(" Polling Stream ")])),_:1,__:[91]}),o("div",io,[y(o("select",{id:"polling_stream_id","onUpdate:modelValue":e[29]||(e[29]=s=>l(t).polling_stream_id=s),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",disabled:!l(t).polling_station_id||xe.value},[e[92]||(e[92]=o("option",{value:""}," Select Polling Stream ",-1)),(r(!0),a(S,null,$(ie.value,s=>(r(),a("option",{key:s.id,value:s.id},C(s.name),9,no))),128))],8,lo),[[E,l(t).polling_stream_id]]),xe.value?(r(),a("div",ro,e[93]||(e[93]=[o("svg",{class:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):O("",!0)]),n(f,{message:l(t).errors.polling_stream_id,class:"mt-2"},null,8,["message"])])])],512),[[A,D.value==="location"]])])])]),actions:m(()=>[n(De,{on:l(t).recentlySuccessful,class:"me-3"},{default:m(()=>e[94]||(e[94]=[u(" Saved. ")])),_:1,__:[94]},8,["on"]),n(Ne,{class:q({"opacity-25":l(t).processing}),disabled:l(t).processing},{default:m(()=>e[95]||(e[95]=[u(" Save ")])),_:1,__:[95]},8,["class","disabled"])]),_:1}),F.value?(r(),a("div",ao,[o("div",uo,[o("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:e[30]||(e[30]=H(s=>F.value=!1,["self"]))}),o("div",mo,[o("button",{type:"button",onClick:e[31]||(e[31]=s=>F.value=!1),class:"absolute top-4 right-4 text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200 focus:outline-none",disabled:M.value},e[96]||(e[96]=[o("span",{class:"sr-only"},"Close",-1),o("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,co),o("div",go,[e[100]||(e[100]=o("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 dark:bg-indigo-900 sm:mx-0 sm:h-10 sm:w-10"},[o("svg",{class:"h-6 w-6 text-indigo-600 dark:text-indigo-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),o("div",po,[o("h3",fo," Verify "+C(l(x).field_to_verify==="email"?"Email Address":"Phone Number"),1),o("div",_o,[o("p",vo,[e[97]||(e[97]=u(" We've sent a 6-digit verification code to: ")),o("span",yo,C(l(x).field_to_verify==="email"?l(t).email:i.formatPhoneNumberForDisplay(l(x).new_value)),1)]),o("div",bo,[e[99]||(e[99]=o("label",{for:"otp",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Enter verification code ",-1)),o("div",xo,[(r(),a(S,null,$(6,s=>y(o("input",{key:s,"onUpdate:modelValue":d=>i.otpDigits[s-1]=d,onInput:d=>i.onOtpInput(d,s-1),onKeydown:Le(d=>i.onOtpKeyDown(d,s-1),["delete"]),onPaste:e[32]||(e[32]=H(d=>i.onOtpPaste(d),["prevent"])),type:"tel",maxlength:"1",pattern:"[0-9]",inputmode:"numeric",autocomplete:"one-time-code",disabled:M.value,class:q(["w-full h-14 text-2xl text-center font-semibold text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 disabled:opacity-50",{"border-red-500":i.otpError}])},null,42,wo),[[ke,i.otpDigits[s-1]]])),64))]),i.otpError?(r(),a("p",ko,C(i.otpError),1)):O("",!0),o("div",ho,[i.otpResendEnabled?(r(),a("button",{key:1,type:"button",class:"text-sm font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300 focus:outline-none disabled:opacity-50",onClick:e[33]||(e[33]=(...s)=>i.resendOtp&&i.resendOtp(...s)),disabled:!i.otpResendEnabled||M.value}," Resend code ",8,So)):(r(),a("p",Co,[e[98]||(e[98]=u(" Didn't receive a code? Resend in ")),o("span",Vo,C(Math.floor(i.otpCountdown/60))+":"+C((i.otpCountdown%60).toString().padStart(2,"0")),1)]))])])])])]),o("div",Bo,[o("button",{type:"button",class:q(["w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-3 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm transition-colors duration-150",{"opacity-75 cursor-not-allowed":i.otpDigits.join("").length!==6||M.value}]),onClick:e[34]||(e[34]=s=>ue(i.otpDigits.join(""))),disabled:i.otpDigits.join("").length!==6||M.value},[M.value?(r(),a("span",Eo,e[101]||(e[101]=[o("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),u(" Verifying... ")]))):(r(),a("span",Po,"Verify Now"))],10,$o),o("button",{type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-3 bg-white dark:bg-gray-700 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm transition-colors duration-150",onClick:e[35]||(e[35]=s=>F.value=!1),disabled:M.value}," Cancel ",8,Oo)]),e[102]||(e[102]=o("div",{class:"mt-4 text-center"},[o("p",{class:"text-xs text-gray-500 dark:text-gray-400"},[u(" Having trouble? Contact support at "),o("a",{href:"mailto:support@forwardkenyaparty.com",class:"text-indigo-600 dark:text-indigo-400 hover:underline"},"support@forwardkenyaparty.com"),u(" or call +254 700 000 000 ")])],-1))])])])):O("",!0)],64))}};export{Ao as default};
